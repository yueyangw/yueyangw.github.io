<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Blog of YorkWu</title>
  
  <subtitle>å±±è¥¿çœå®éªŒä¸­å­¦è’Ÿè’»OIer</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yueyangwu.cn/"/>
  <updated>2019-08-06T02:26:01.451Z</updated>
  <id>http://yueyangwu.cn/</id>
  
  <author>
    <name>Yueyang Wu</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>luogu-P2146-è½¯ä»¶åŒ…ç®¡ç†å™¨</title>
    <link href="http://yueyangwu.cn/2019/08/06/luogu-P2146-%E8%BD%AF%E4%BB%B6%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8/"/>
    <id>http://yueyangwu.cn/2019/08/06/luogu-P2146-è½¯ä»¶åŒ…ç®¡ç†å™¨/</id>
    <published>2019-08-06T02:22:41.000Z</published>
    <updated>2019-08-06T02:26:01.451Z</updated>
    
    <summary type="html">
    
    </summary>
    
      <category term="OI" scheme="http://yueyangwu.cn/categories/OI/"/>
    
      <category term="é¢˜ç›®" scheme="http://yueyangwu.cn/categories/OI/%E9%A2%98%E7%9B%AE/"/>
    
    
      <category term="æ ‘å½¢ç»“æ„" scheme="http://yueyangwu.cn/tags/%E6%A0%91%E5%BD%A2%E7%BB%93%E6%9E%84/"/>
    
      <category term="æ ‘é“¾å‰–åˆ†" scheme="http://yueyangwu.cn/tags/%E6%A0%91%E9%93%BE%E5%89%96%E5%88%86/"/>
    
  </entry>
  
  <entry>
    <title>æ ‘é“¾å‰–åˆ† å­¦ä¹ ç¬”è®°</title>
    <link href="http://yueyangwu.cn/2019/08/02/%E6%A0%91%E9%93%BE%E5%89%96%E5%88%86-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <id>http://yueyangwu.cn/2019/08/02/æ ‘é“¾å‰–åˆ†-å­¦ä¹ ç¬”è®°/</id>
    <published>2019-08-02T05:32:06.000Z</published>
    <updated>2019-08-02T11:14:26.801Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>è¿™å°±æ˜¯ä¼ è¯´ä¸­çš„æ ‘é“¾å‰–åˆ†ï¼Ÿ</p></blockquote><a id="more"></a><ul><li>æ ‘é“¾å‰–åˆ†å¯ä»¥å°†ä¸€æ£µæ ‘çš„ä»»æ„ä¸€æ¡è·¯å¾„åˆ’åˆ†æˆä¸è¶…è¿‡$O(\log n)$æ¡é“¾ï¼Œå¹¶ä¸”æ»¡è¶³dfsåºï¼Œåæ­£å°±å¾ˆå¥½å•¦ï¼Œç»´æŠ¤çº¿æ®µæ ‘ä»€ä¹ˆçš„ã€‚ã€‚ã€‚</li><li>è¿˜å¯ä»¥$O(\log n)$æ±‚$lca$ï¼Œå¸¸æ•°å°ä»€ä¹ˆçš„ã€‚</li></ul><h2 id="æ ‘é“¾å‰–åˆ†"><a href="#æ ‘é“¾å‰–åˆ†" class="headerlink" title="æ ‘é“¾å‰–åˆ†"></a>æ ‘é“¾å‰–åˆ†</h2><h3 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><ul><li>å®šä¹‰<strong>é‡å­èŠ‚ç‚¹</strong>è¡¨ç¤ºå…¶å­èŠ‚ç‚¹ä¸­å­æ ‘æœ€å¤§çš„å­ç»“ç‚¹ã€‚å¦‚æœæœ‰ç›¸åŒçš„ï¼Œä»»æ„å–ã€‚å¦‚æœæ²¡æœ‰å­èŠ‚ç‚¹ï¼Œå°±æ²¡æœ‰ã€‚</li><li><strong>è½»å­èŠ‚ç‚¹</strong>å°±æ˜¯å‰©ä½™çš„å…¶ä»–å­èŠ‚ç‚¹ã€‚</li><li>è¿™ä¸ªèŠ‚ç‚¹åˆ°é‡å­èŠ‚ç‚¹çš„è¾¹å«åš<strong>é‡è¾¹</strong>ï¼Œå…¶ä»–å«åš<strong>è½»è¾¹</strong>ã€‚</li><li>æŠŠè‹¥å¹²æ¡é¦–å°¾ç›¸è¿çš„é‡è¾¹ç§°ä¸º<strong>é‡é“¾</strong>ã€‚</li><li>æŠŠå•ç‹¬çš„èŠ‚ç‚¹ä¹Ÿå½“æˆé‡é“¾ï¼Œå°±æŠŠæ•´æ£µæ ‘åˆ†æˆäº†è‹¥å¹²æ¡é“¾ã€‚<br>å¦‚å›¾ï¼š<img src="/img/%E6%A0%91%E9%93%BE%E5%89%96%E5%88%861.png" alt="æ ‘é“¾å‰–åˆ†1"></li></ul><h3 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h3><ul><li>åˆ†ä¸¤ä¸ªdfså®ç°ï¼š<ol><li>ç¬¬ä¸€ä¸ªdfsè®°å½•ä¸€ä¸‹å­æ ‘å¤§å°å’Œæ·±åº¦ã€‚</li><li>è®°å½•é‡å­èŠ‚ç‚¹ï¼Œdfsåºï¼Œå½“å‰èŠ‚ç‚¹çš„é“¾é¡¶ã€‚</li></ol></li><li>ä»£ç å®ç°<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs1</span><span class="hljs-params">(<span class="hljs-keyword">int</span> o, <span class="hljs-keyword">int</span> fat)</span> </span>&#123;</span><br><span class="line">  son[o] = <span class="hljs-number">-1</span>;</span><br><span class="line">  siz[o] = <span class="hljs-number">1</span>;</span><br><span class="line">  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = h[o]; j; j = nxt[j])</span><br><span class="line">    <span class="hljs-keyword">if</span> (!dep[p[j]]) &#123;</span><br><span class="line">      dep[p[j]] = dep[o] + <span class="hljs-number">1</span>;</span><br><span class="line">      fa[p[j]] = o;</span><br><span class="line">      dfs1(p[j], o);</span><br><span class="line">      siz[o] += siz[p[j]];</span><br><span class="line">      <span class="hljs-keyword">if</span> (son[o] == <span class="hljs-number">-1</span> || siz[p[j]] &gt; siz[son[o]]) son[o] = p[j];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs2</span><span class="hljs-params">(<span class="hljs-keyword">int</span> o, <span class="hljs-keyword">int</span> t)</span> </span>&#123;</span><br><span class="line">  top[o] = t;</span><br><span class="line">  cnt++;</span><br><span class="line">  tid[o] = cnt;</span><br><span class="line">  rnk[cnt] = o;</span><br><span class="line">  <span class="hljs-keyword">if</span> (son[o] == <span class="hljs-number">-1</span>) <span class="hljs-keyword">return</span>;</span><br><span class="line">  dfs2(son[o], t);  <span class="hljs-comment">//ä¼˜å…ˆå¯¹é‡å„¿å­è¿›è¡Œdfsï¼Œå¯ä»¥ä¿è¯åŒä¸€æ¡é‡é“¾ä¸Šçš„ç‚¹æ—¶é—´æˆ³è¿ç»­</span></span><br><span class="line">  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = h[o]; j; j = nxt[j])</span><br><span class="line">    <span class="hljs-keyword">if</span> (p[j] != son[o] &amp;&amp; p[j] != fa[o]) dfs2(p[j], p[j]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="æ¨¡æ¿"><a href="#æ¨¡æ¿" class="headerlink" title="æ¨¡æ¿"></a>æ¨¡æ¿</h3><ul><li><a href="https://www.luogu.org/problem/P3384" target="_blank" rel="noopener">ã€æ¨¡æ¿ã€‘æ ‘é“¾å‰–åˆ†</a>(è¿™åº”è¯¥ç®—æ ‘å¥—æ ‘äº†å§qwq)</li></ul><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">int</span> n, m, r, p;</span><br><span class="line"><span class="hljs-keyword">int</span> v[<span class="hljs-number">200009</span>];</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Edge</span>&#123;</span></span><br><span class="line">    <span class="hljs-keyword">int</span> to, nxt;</span><br><span class="line">&#125;e[<span class="hljs-number">400009</span>];</span><br><span class="line"><span class="hljs-keyword">int</span> head[<span class="hljs-number">200009</span>], tot;</span><br><span class="line"><span class="hljs-keyword">int</span> size[<span class="hljs-number">200009</span>], dep[<span class="hljs-number">200009</span>], fat[<span class="hljs-number">200009</span>];</span><br><span class="line"><span class="hljs-keyword">int</span> dfn[<span class="hljs-number">200009</span>], top[<span class="hljs-number">200009</span>], id[<span class="hljs-number">200009</span>];</span><br><span class="line"><span class="hljs-keyword">int</span> son[<span class="hljs-number">200009</span>];</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">//----------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">int</span> tree[<span class="hljs-number">800009</span>], tag[<span class="hljs-number">800009</span>];</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">//----------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span>&#123;</span><br><span class="line">    e[++tot].to = y;</span><br><span class="line">    e[tot].nxt = head[x];</span><br><span class="line">    head[x] = tot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs1</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> fa, <span class="hljs-keyword">int</span> d)</span></span>&#123;</span><br><span class="line">    fat[x] = fa;</span><br><span class="line">    dep[x] = d;</span><br><span class="line">    size[x] = <span class="hljs-number">1</span>;</span><br><span class="line">    <span class="hljs-keyword">int</span> maxx = <span class="hljs-number">-1</span>;</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[x]; i; i = e[i].nxt)&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> y = e[i].to;</span><br><span class="line">        <span class="hljs-keyword">if</span>(y == fa) <span class="hljs-keyword">continue</span>;</span><br><span class="line">        dfs1(y, x, d + <span class="hljs-number">1</span>);</span><br><span class="line">        size[x] += size[y];</span><br><span class="line">        <span class="hljs-keyword">if</span>(size[y]&gt;maxx) son[x] = y, maxx = size[y];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">int</span> cnt = <span class="hljs-number">0</span>;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs2</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> topp)</span></span>&#123;</span><br><span class="line">    dfn[x] = ++cnt;</span><br><span class="line">    id[cnt] = x;</span><br><span class="line">    top[x] = topp;</span><br><span class="line">    <span class="hljs-keyword">if</span>(!son[x]) <span class="hljs-keyword">return</span>;</span><br><span class="line">dfs2(son[x], topp);</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[x]; i; i = e[i].nxt)&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> y = e[i].to;</span><br><span class="line">        <span class="hljs-keyword">if</span>(y == son[x] || y == fat[x]) <span class="hljs-keyword">continue</span>;</span><br><span class="line">        dfs2(y, y);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">//-----------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(<span class="hljs-keyword">int</span> k, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">if</span>(l == r)&#123;</span><br><span class="line">        tree[k] = v[id[l]] % p;</span><br><span class="line">        <span class="hljs-keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">int</span> mid = (l + r) / <span class="hljs-number">2</span>;</span><br><span class="line">    build(k * <span class="hljs-number">2</span>, l, mid);</span><br><span class="line">    build(k * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>, mid + <span class="hljs-number">1</span>, r);</span><br><span class="line">    tree[k] = (tree[k * <span class="hljs-number">2</span>] + tree[k * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>]) % p;</span><br><span class="line">    <span class="hljs-keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> k, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r, <span class="hljs-keyword">int</span> w)</span></span>&#123;</span><br><span class="line">    tag[k] += w;</span><br><span class="line">    tree[k] += w * (r - l + <span class="hljs-number">1</span>);</span><br><span class="line">    tree[k] %= p;</span><br><span class="line">    <span class="hljs-keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushdown</span><span class="hljs-params">(<span class="hljs-keyword">int</span> k, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> mid = (l + r) / <span class="hljs-number">2</span>;</span><br><span class="line">    Add(k * <span class="hljs-number">2</span>, l, mid, tag[k]);</span><br><span class="line">    Add(k * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>, mid + <span class="hljs-number">1</span>, r, tag[k]);</span><br><span class="line">    tag[k] = <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">modify</span><span class="hljs-params">(<span class="hljs-keyword">int</span> k, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r, <span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y, <span class="hljs-keyword">int</span> w)</span></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">if</span>(l &gt;= x &amp;&amp; r &lt;= y)&#123;</span><br><span class="line">        Add(k, l, r, w);</span><br><span class="line">        <span class="hljs-keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    pushdown(k, l, r);</span><br><span class="line">    <span class="hljs-keyword">int</span> mid = (l + r) / <span class="hljs-number">2</span>;</span><br><span class="line">    <span class="hljs-keyword">if</span>(mid &gt;= x) modify(k * <span class="hljs-number">2</span>, l, mid, x, y, w);</span><br><span class="line">    <span class="hljs-keyword">if</span>(mid &lt; y) modify(k * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>, mid + <span class="hljs-number">1</span>, r, x, y, w);</span><br><span class="line">    tree[k] = (tree[k * <span class="hljs-number">2</span>] + tree[k * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>]) % p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">query</span><span class="hljs-params">(<span class="hljs-keyword">int</span> k, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r, <span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">if</span>(l &gt;= x &amp;&amp; r &lt;= y)&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> tree[k] % p;</span><br><span class="line">    &#125;</span><br><span class="line">    pushdown(k, l, r);</span><br><span class="line">    <span class="hljs-keyword">int</span> mid = (l + r) / <span class="hljs-number">2</span>;</span><br><span class="line">    <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">if</span>(mid &gt;= x) res = (res + query(k * <span class="hljs-number">2</span>, l, mid, x, y)) % p;</span><br><span class="line">    <span class="hljs-keyword">if</span>(mid &lt; y) res = (res + query(k * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>, mid + <span class="hljs-number">1</span>, r, x, y)) % p;</span><br><span class="line">    <span class="hljs-keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">//---------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">modify_tree</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y, <span class="hljs-keyword">int</span> w)</span></span>&#123;</span><br><span class="line">w %= p;</span><br><span class="line">    <span class="hljs-keyword">while</span>(top[x] != top[y])&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span>(dep[top[x]] &lt; dep[top[y]]) swap(x, y);</span><br><span class="line">        modify(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n, dfn[top[x]], dfn[x], w);</span><br><span class="line">        x = fat[top[x]];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">if</span>(dep[x] &gt; dep[y]) swap(x, y);</span><br><span class="line">    modify(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n, dfn[x], dfn[y], w);</span><br><span class="line">    <span class="hljs-keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">query_tree</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">while</span>(top[x] != top[y])&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span>(dep[top[x]] &lt; dep[top[y]]) swap(x, y);</span><br><span class="line">        res += query(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n, dfn[top[x]], dfn[x]);</span><br><span class="line">        res %= p;</span><br><span class="line">        x = fat[top[x]];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">if</span>(dep[x] &gt; dep[y]) swap(x, y);</span><br><span class="line">    res = (res + query(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n, dfn[x], dfn[y])) % p;</span><br><span class="line">    <span class="hljs-keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d%d%d"</span>, &amp;n, &amp;m, &amp;r, &amp;p);</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;v[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n - <span class="hljs-number">1</span>; i++)&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> x, y;</span><br><span class="line">        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d"</span>, &amp;x, &amp;y);</span><br><span class="line">        add(x, y), add(y, x);</span><br><span class="line">    &#125;</span><br><span class="line">    dfs1(r, <span class="hljs-number">-1</span>, <span class="hljs-number">1</span>);</span><br><span class="line">    dfs2(r, r);</span><br><span class="line">    build(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n);</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i++)&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> op, x, y, w;</span><br><span class="line">        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;op);</span><br><span class="line">        <span class="hljs-keyword">if</span>(op == <span class="hljs-number">1</span>)&#123;</span><br><span class="line">            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d%d"</span>, &amp;x, &amp;y, &amp;w);</span><br><span class="line">            modify_tree(x, y, w);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">if</span>(op == <span class="hljs-number">2</span>)&#123;</span><br><span class="line">            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d"</span>, &amp;x, &amp;y);</span><br><span class="line">            <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>, query_tree(x, y));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">if</span>(op == <span class="hljs-number">3</span>)&#123;</span><br><span class="line">            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d"</span>, &amp;x, &amp;w);</span><br><span class="line">            modify(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n, dfn[x], dfn[x] + size[x] - <span class="hljs-number">1</span>, w);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">if</span>(op == <span class="hljs-number">4</span>)&#123;</span><br><span class="line">            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;x);</span><br><span class="line">            <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>, query(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n, dfn[x], dfn[x] + size[x] - <span class="hljs-number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;è¿™å°±æ˜¯ä¼ è¯´ä¸­çš„æ ‘é“¾å‰–åˆ†ï¼Ÿ&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="OI" scheme="http://yueyangwu.cn/categories/OI/"/>
    
      <category term="çŸ¥è¯†ç‚¹" scheme="http://yueyangwu.cn/categories/OI/%E7%9F%A5%E8%AF%86%E7%82%B9/"/>
    
    
      <category term="æ ‘å½¢ç»“æ„" scheme="http://yueyangwu.cn/tags/%E6%A0%91%E5%BD%A2%E7%BB%93%E6%9E%84/"/>
    
      <category term="æ ‘é“¾å‰–åˆ†" scheme="http://yueyangwu.cn/tags/%E6%A0%91%E9%93%BE%E5%89%96%E5%88%86/"/>
    
  </entry>
  
  <entry>
    <title>æ•°è®º å­¦ä¹ ç¬”è®°</title>
    <link href="http://yueyangwu.cn/2019/07/30/%E6%95%B0%E8%AE%BA-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <id>http://yueyangwu.cn/2019/07/30/æ•°è®º-å­¦ä¹ ç¬”è®°/</id>
    <published>2019-07-30T08:05:58.000Z</published>
    <updated>2019-08-02T05:31:04.678Z</updated>
    
    <content type="html"><![CDATA[<p>OI Wikiäº†è§£ä¸€ä¸‹</p><a id="more"></a><h2 id="æœ€å¤§å…¬çº¦æ•°"><a href="#æœ€å¤§å…¬çº¦æ•°" class="headerlink" title="æœ€å¤§å…¬çº¦æ•°"></a>æœ€å¤§å…¬çº¦æ•°</h2><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">gcd</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">if</span>(b == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> a;</span><br><span class="line">    <span class="hljs-keyword">return</span> gcd(b, a % b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="è£´èœ€å®šç†ï¼ˆè´ç¥–å®šç†ï¼‰"><a href="#è£´èœ€å®šç†ï¼ˆè´ç¥–å®šç†ï¼‰" class="headerlink" title="è£´èœ€å®šç†ï¼ˆè´ç¥–å®šç†ï¼‰"></a>è£´èœ€å®šç†ï¼ˆè´ç¥–å®šç†ï¼‰</h2><ul><li>è®¾$a,b$æ˜¯ä¸å…¨ä¸ºé›¶çš„æ•´æ•°ï¼Œåˆ™å­˜åœ¨æ•´æ•°$x,y$, ä½¿å¾—$ax+by=gcd(a,b)$.</li></ul><hr><h2 id="æ‰©å±•æ¬§å‡ é‡Œå¾—"><a href="#æ‰©å±•æ¬§å‡ é‡Œå¾—" class="headerlink" title="æ‰©å±•æ¬§å‡ é‡Œå¾—"></a>æ‰©å±•æ¬§å‡ é‡Œå¾—</h2><ul><li>ç”¨äºæ±‚è§£æ–¹ç¨‹$ax+by=gcd(a,b)$</li><li>ä»£ç ï¼š<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">exgcd</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> &amp;x, <span class="hljs-keyword">int</span> &amp;y)</span></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">if</span>(b == <span class="hljs-number">0</span>)&#123;</span><br><span class="line">        y = <span class="hljs-number">0</span>, x = <span class="hljs-number">1</span>;</span><br><span class="line">        <span class="hljs-keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">int</span> r = exgcd(b, a % b, y, x);</span><br><span class="line">    y -= a / b * x;</span><br><span class="line">    <span class="hljs-keyword">return</span> r;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><hr><h2 id="ä¹˜æ³•é€†å…ƒ"><a href="#ä¹˜æ³•é€†å…ƒ" class="headerlink" title="ä¹˜æ³•é€†å…ƒ"></a>ä¹˜æ³•é€†å…ƒ</h2><p>å¦‚æœä¸€ä¸ªçº¿æ€§åŒä½™æ–¹ç¨‹$ax\equiv 1(mod\ b)$ï¼Œåˆ™$x$ç§°ä¸º$a\mod b$çš„é€†å…ƒï¼Œè®°ä½œ$a^{-1}$ã€‚</p><h3 id="æ±‚è§£açš„é€†å…ƒ"><a href="#æ±‚è§£açš„é€†å…ƒ" class="headerlink" title="æ±‚è§£açš„é€†å…ƒ"></a>æ±‚è§£açš„é€†å…ƒ</h3><h4 id="æ‰©å±•æ¬§å‡ é‡Œå¾—æ³•"><a href="#æ‰©å±•æ¬§å‡ é‡Œå¾—æ³•" class="headerlink" title="æ‰©å±•æ¬§å‡ é‡Œå¾—æ³•"></a>æ‰©å±•æ¬§å‡ é‡Œå¾—æ³•</h4><ul><li><p>æ‰©å±•æ¬§å‡ é‡Œå¾—æ³•å’Œæ±‚è§£çº¿æ€§åŒä½™æ–¹ç¨‹æ˜¯ä¸€ä¸ªåŸç†ï¼Œåœ¨è¿™é‡Œä¸å±•å¼€è§£é‡Šã€‚</p><h4 id="å¿«é€Ÿå¹‚æ³•"><a href="#å¿«é€Ÿå¹‚æ³•" class="headerlink" title="å¿«é€Ÿå¹‚æ³•"></a>å¿«é€Ÿå¹‚æ³•</h4></li><li><p>å› ä¸º$ax\equiv 1(mod\ b)$</p><p>  æ‰€ä»¥$ax\equiv a^{b-1}(mod\ b)$</p><p>  æ‰€ä»¥$x\equiv a^{b-2}(mod\ b)$</p></li></ul><p>ç„¶åå°±å¯ä»¥ç”¨å¿«é€Ÿå¹‚æ±‚äº†</p><h3 id="çº¿æ€§æ±‚ä»»æ„nä¸ªæ•°çš„é€†å…ƒ"><a href="#çº¿æ€§æ±‚ä»»æ„nä¸ªæ•°çš„é€†å…ƒ" class="headerlink" title="çº¿æ€§æ±‚ä»»æ„nä¸ªæ•°çš„é€†å…ƒ"></a>çº¿æ€§æ±‚ä»»æ„nä¸ªæ•°çš„é€†å…ƒ</h3><p>é¦–å…ˆè®¡ç®—$n$ä¸ªæ•°çš„å‰ç¼€ç§¯$s_i$ï¼Œç„¶åç”¨å¿«é€Ÿå¹‚æ³•æ±‚$s_n$çš„é€†å…ƒï¼Œè®°ä¸º$sv_n$ã€‚</p><p>å› ä¸º$sv_n$æ˜¯å‰$n$ä¸ªæ•°çš„ç§¯çš„é€†å…ƒï¼Œæ‰€ä»¥è¿™ä¸ªæ•°ä¹˜$a_i$ï¼Œä¼šå’Œå…¶é€†å…ƒæŠµæ¶ˆï¼Œäºæ˜¯å°±å¾—åˆ°äº†$a_1$åˆ°$a_{n-1}$çš„ç§¯é€†å…ƒï¼Œè®°ä¸º$sv_{n-1}$ã€‚</p><p>ç„¶åå°±èƒ½è®¡ç®—å‡ºæ‰€æœ‰$sv_i$ï¼Œ$a_i$çš„é€†å…ƒå°±å¯ä»¥ç”±$s_{i-1}\times sv_i$æ±‚å¾—ã€‚</p><p>æ—¶é—´å¤æ‚åº¦ï¼š$O(n+log\ p)$</p><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">s[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;</span><br><span class="line"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i) s[i] = s[i - <span class="hljs-number">1</span>] * a[i] % p;</span><br><span class="line">sv[n] = qpow(s[n], p - <span class="hljs-number">2</span>);</span><br><span class="line"><span class="hljs-comment">// å½“ç„¶è¿™é‡Œä¹Ÿå¯ä»¥ç”¨ exgcd æ¥æ±‚é€†å…ƒ,è§†ä¸ªäººå–œå¥½è€Œå®š.</span></span><br><span class="line"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = n; i &gt;= <span class="hljs-number">1</span>; --i) sv[i - <span class="hljs-number">1</span>] = sv[i] * a[i] % p;</span><br><span class="line"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i) inv[i] = sv[i] * s[i - <span class="hljs-number">1</span>] % p;</span><br></pre></td></tr></table></figure><blockquote><p>P.S.åˆšåˆšæˆ‘åšäº†ä¸¤é“ä¾‹é¢˜ï¼Œç°åœ¨æ„Ÿè§‰ã€‚ã€‚ã€‚è„‘å­ä¸€ç‰‡æµ†ç³Šã€‚ğŸ˜­</p></blockquote><hr><h2 id="ä¸­å›½å‰©ä½™å®šç†ï¼ˆå­™å­å®šç†ï¼‰"><a href="#ä¸­å›½å‰©ä½™å®šç†ï¼ˆå­™å­å®šç†ï¼‰" class="headerlink" title="ä¸­å›½å‰©ä½™å®šç†ï¼ˆå­™å­å®šç†ï¼‰"></a>ä¸­å›½å‰©ä½™å®šç†ï¼ˆå­™å­å®šç†ï¼‰</h2><h3 id="ã€Œç‰©ä¸çŸ¥æ•°ã€é—®é¢˜"><a href="#ã€Œç‰©ä¸çŸ¥æ•°ã€é—®é¢˜" class="headerlink" title="ã€Œç‰©ä¸çŸ¥æ•°ã€é—®é¢˜"></a>ã€Œç‰©ä¸çŸ¥æ•°ã€é—®é¢˜</h3><blockquote><p>æœ‰ç‰©ä¸çŸ¥å…¶æ•°ï¼Œä¸‰ä¸‰æ•°ä¹‹å‰©äºŒï¼Œäº”äº”æ•°ä¹‹å‰©ä¸‰ï¼Œä¸ƒä¸ƒæ•°ä¹‹å‰©äºŒã€‚é—®ç‰©å‡ ä½•ï¼Ÿ</p></blockquote><p>$$<br>\left<br>{<br>    \begin{array}{ccc}<br>        x &amp;\equiv&amp; a_1 \pmod{m_1}\\<br>        x &amp;\equiv&amp; a_2 \pmod{m_2}\\<br>        &amp;\vdots&amp;\\<br>        x &amp;\equiv&amp; a_n \pmod{m_n}<br>    \end{array}<br>\right.<br>$$</p><ul><li>æ±‚è§£æ–¹æ³•ï¼š<ol><li>è®¾$M=\prod_{i=1}^{n}m_i$ï¼Œå¹¶è®¾$M_i=M/m_i$ã€‚</li><li>è®¾$t_i=M_i^{-1}$ä¸º$M_i$æ¨¡$m_i$çš„æ•°è®ºå€’æ•°ã€‚</li><li>æ–¹ç¨‹ç»„çš„é€šè§£å½¢å¼åœ¨æ¨¡$M$çš„æ„ä¹‰ä¸‹æœ‰å”¯ä¸€è§£$x=\sum_{i=1}^na_it_iM_i$</li></ol></li></ul><h2 id="æ‰©å±•ä¸­å›½å‰©ä½™å®šç†ï¼ˆexCRTï¼‰"><a href="#æ‰©å±•ä¸­å›½å‰©ä½™å®šç†ï¼ˆexCRTï¼‰" class="headerlink" title="æ‰©å±•ä¸­å›½å‰©ä½™å®šç†ï¼ˆexCRTï¼‰"></a>æ‰©å±•ä¸­å›½å‰©ä½™å®šç†ï¼ˆexCRTï¼‰</h2><ul><li>è€ƒè™‘æ¨¡æ•°ä¸äº’è´¨çš„æƒ…å†µã€‚</li><li>å¦‚æœåªæœ‰ä¸¤ä¸ªæ–¹ç¨‹</li><li>è®¾å®ƒä»¬ä¸º$x\equiv a_1\pmod{m_1}$å’Œ$x\equiv a_2\pmod{m_2}$</li><li>è½¬åŒ–ä¸º$x=m_1p+a_1=m_2q+a_2$ï¼Œå…¶ä¸­$p,q$ä¸ºæ•´æ•°ï¼Œåˆ™æœ‰$m_1p-m_2q=a_2-a_1$</li><li>ç”±äºè£´èœ€å®šç†ï¼Œè‹¥è¯¥å¼æ±‚å‡ºä¸€ç»„è§£$(p,q)$ï¼Œåˆ™åŸæ¥æ–¹ç¨‹ç»„è§£ä¸º$x\equiv b\pmod{M}$ï¼Œå…¶ä¸­$b=m_1p+a_1$ï¼Œ$M=lcm(m_1,m_2)$ã€‚</li><li>è€ƒè™‘å¤šä¸ªæ–¹ç¨‹ï¼šæŒ‰ç…§ä¸Šè¿°æ–¹æ³•ä¸¤ä¸¤åˆå¹¶å³å¯ã€‚</li></ul><p><a href="https://www.luogu.org/problemnew/show/P4777" target="_blank" rel="noopener">ã€æ¨¡æ¿ã€‘æ‰©å±•ä¸­å›½å‰©ä½™å®šç†</a></p><p><a href="https://www.luogu.org/problemnew/show/P4774" target="_blank" rel="noopener">å± é¾™å‹‡å£«</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;OI Wikiäº†è§£ä¸€ä¸‹&lt;/p&gt;
    
    </summary>
    
      <category term="OI" scheme="http://yueyangwu.cn/categories/OI/"/>
    
      <category term="çŸ¥è¯†ç‚¹" scheme="http://yueyangwu.cn/categories/OI/%E7%9F%A5%E8%AF%86%E7%82%B9/"/>
    
    
      <category term="æ•°è®º" scheme="http://yueyangwu.cn/tags/%E6%95%B0%E8%AE%BA/"/>
    
  </entry>
  
  <entry>
    <title>æ•°ä½DP å­¦ä¹ ç¬”è®°</title>
    <link href="http://yueyangwu.cn/2019/07/29/%E6%95%B0%E4%BD%8Ddp-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <id>http://yueyangwu.cn/2019/07/29/æ•°ä½dp-å­¦ä¹ ç¬”è®°/</id>
    <published>2019-07-29T12:05:09.000Z</published>
    <updated>2019-07-30T03:36:52.719Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æ•°ä½dpåŸºæœ¬æ¨¡å‹ï¼Œç»™å®šé—­åŒºé—´$[l,r]$ï¼Œæ±‚è¿™ä¸ªé—­åŒºé—´ä¸­æ»¡è¶³é¢˜ç›®è¦æ±‚çš„æ•°çš„ä¸ªæ•°ã€‚</p></blockquote><a id="more"></a><p>æˆ‘ä»¬å¯ä»¥ä»æ•°å­—çš„æ¯ä¸€ä½æ¥æšä¸¾ï¼Œä»é«˜ä½å‘ä½ä½æšä¸¾ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ dp[i][j] æ¥è¡¨ç¤ºæšä¸¾åˆ° i ä½æ—¶ï¼Œæ•°å­—ä¸º j æ—¶çš„æ–¹æ¡ˆæ•°ï¼ˆç­”æ¡ˆæ•°ï¼‰ã€‚ä½†æ˜¯æˆ‘ä»¬éœ€è¦è€ƒè™‘ä¸€äº›é™åˆ¶æˆ‘ä»¬å†³ç­–çš„æ¡ä»¶ï¼Œå‡è®¾æˆ‘ä»¬è¦æ±‚å°äºç­‰äº 243 çš„æ•°å­—ä¸­ç¬¦åˆæ¡ä»¶çš„æœ‰å‡ ä¸ªï¼š</p><ol><li>å½“æˆ‘ä»¬ç¬¬ä¸€é¡¹ä¸º 1 æ—¶ï¼Œæˆ‘ä»¬åé¢ä¸€ä½å¯ä»¥æšä¸¾ 0âˆ¼9</li><li>å½“æˆ‘ä»¬ç¬¬ä¸€é¡¹ä¸º 2 æ—¶ï¼Œæˆ‘ä»¬åé¢ä¸€é¡¹å°±åªèƒ½æšä¸¾ 0âˆ¼4</li></ol><p>å¯è§æˆ‘ä»¬éœ€è¦é€šè¿‡åˆ¤æ–­å‰ä¸€é¡¹æ¥å†³å®šåä¸€é¡¹æœ€é«˜å¯ä»¥å–å€¼çš„å¤§å°ã€‚åŒæ—¶æˆ‘ä»¬ä¹Ÿéœ€è¦è€ƒè™‘ä¸€äº›æ•°å­—å‰é¢ä¸€ç›´æ˜¯ 0ï¼Œå¹¶ä¸”ä¼šå½±å“ç­”æ¡ˆçš„æƒ…å†µï¼ˆä¾‹å¦‚ç»Ÿè®¡å„ä¸ªæ•°å­—å‡ºç°çš„æ¬¡æ•°ï¼‰ã€‚ä»¥ä¸‹æ˜¯æ¨¡æ¿ï¼š</p><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> N 20</span></span><br><span class="line"><span class="hljs-keyword">int</span> dp[N][N], a[N], n, m;</span><br><span class="line"><span class="hljs-comment">// æ•°ä½ dp æ˜¯éœ€è¦æ·±æœçš„ï¼Œ`dp` æ•°ç»„åªæ˜¯åšè®°å¿†åŒ–æœç´¢ç”¨</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> pos, <span class="hljs-keyword">int</span> pre, <span class="hljs-keyword">bool</span> limit, <span class="hljs-keyword">bool</span> frontzero)</span> </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// `frontzero`: å‰å¯¼ 0 çš„åˆ¤æ–­</span></span><br><span class="line">  <span class="hljs-comment">//       `pre`: `pos` å‰ä¸€ä½çš„æ•°å­—</span></span><br><span class="line">  <span class="hljs-keyword">if</span> (pos == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>; <span class="hljs-comment">// æšä¸¾å®Œæ¯•ï¼Œé€€å‡º</span></span><br><span class="line">  <span class="hljs-keyword">if</span> (!frontzero &amp;&amp; !limit &amp;&amp; dp[pos][pre] != <span class="hljs-number">-1</span>) <span class="hljs-keyword">return</span> dp[pos][pre];</span><br><span class="line">  <span class="hljs-comment">// è¿”å› `dp[pos][pre]` çš„æ¡ä»¶ï¼šå‰å¯¼éé›¶ ä¸” æ— ä¸Šé™é™åˆ¶ ä¸” `dp` æ•°ç»„çš„è¿™ä¸€ä½æœ‰å€¼</span></span><br><span class="line">  <span class="hljs-comment">// æ³¨æ„è¿™é‡Œå¿…é¡»æŠŠ `!frontzero` å’Œ `!limit` å†™åœ¨å‰é¢ æ¥é˜²æ­¢ `dp` æ•°ç»„è¶Šç•Œ</span></span><br><span class="line">  <span class="hljs-comment">// å› ä¸ºåé¢éœ€è¦åœ¨å‰å¯¼é›¶çš„æ—¶å€™åšä¸€ç‚¹æ“ä½œ</span></span><br><span class="line">  <span class="hljs-keyword">int</span> p, ret = <span class="hljs-number">0</span>;</span><br><span class="line">  <span class="hljs-keyword">int</span> up = limit ? a[pos] : <span class="hljs-number">9</span>;</span><br><span class="line">  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= up; ++i) &#123;</span><br><span class="line">    <span class="hljs-keyword">if</span> () <span class="hljs-keyword">continue</span>;</span><br><span class="line">    <span class="hljs-comment">// å½“æšä¸¾åˆ°çš„è¿™ä¸€ä½ä¸ç¬¦åˆæ¡ä»¶æ—¶å°±å¿½ç•¥ï¼Œç»§ç»­æšä¸¾</span></span><br><span class="line">    p = i;</span><br><span class="line">    <span class="hljs-keyword">if</span> (frontzero &amp;&amp; i == <span class="hljs-number">0</span>) p = -INF;</span><br><span class="line">    <span class="hljs-comment">// è¿™é‡Œ `-INF` åªæ˜¯ä¸€ä¸ªå‰å¯¼ 0 çš„æ ‡è®°ï¼Œæ•°å€¼å¹¶æ²¡æœ‰å¤ªå¤§æ„ä¹‰ã€‚</span></span><br><span class="line">    ret += dfs(pos - <span class="hljs-number">1</span>, p, limit &amp; (i == up), (p == -INF));</span><br><span class="line">    <span class="hljs-comment">// è¿™é‡Œ `p = -INF` æ—¶ä¹Ÿæ˜¯ä¼šä¼ è¿›å‡½æ•°ä½œä¸º `pre` å‚æ•°çš„ï¼Œ</span></span><br><span class="line">    <span class="hljs-comment">// æ‰€ä»¥å‰é¢è¦æŠŠ `frontzero` å†™å‰é¢</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="hljs-keyword">if</span> (!frontzero &amp;&amp; !limit) f[pos][pre] = ret;</span><br><span class="line">  <span class="hljs-keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">solve</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// `solve(x)`: å¤„ç†ä¸å¤§äº `x` çš„æ•°çš„ç­”æ¡ˆ</span></span><br><span class="line">  <span class="hljs-keyword">int</span> idx = <span class="hljs-number">0</span>;</span><br><span class="line">  <span class="hljs-keyword">while</span> (x) &#123;</span><br><span class="line">    a[++idx] = x % <span class="hljs-number">10</span>;</span><br><span class="line">    x /= <span class="hljs-number">10</span>;</span><br><span class="line">  &#125; <span class="hljs-comment">// é¢„å¤„ç† `x` çš„æ¯ä¸€ä½</span></span><br><span class="line">  <span class="hljs-built_in">memset</span>(dp, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span>(dp));</span><br><span class="line">  <span class="hljs-keyword">return</span> dfs(idx, -INF, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>);</span><br><span class="line">  <span class="hljs-comment">// æ³¨æ„åˆå§‹åŒ–</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">  <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line">  <span class="hljs-built_in">cout</span> &lt;&lt; (solve(m) - solve(n - <span class="hljs-number">1</span>));</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="windyæ•°"><a href="#windyæ•°" class="headerlink" title="windyæ•°"></a><a href="https://www.luogu.org/problem/P2657" target="_blank" rel="noopener">windyæ•°</a></h3><ul><li>é¢˜æ„ï¼šç»™å®šä¸€ä¸ªåŒºé—´$[l,r]$ï¼Œæ±‚å…¶ä¸­æ»¡è¶³æ¡ä»¶ ä¸å«å‰å¯¼$0$ä¸”ç›¸é‚»ä¸¤ä¸ªæ•°å­—ç›¸å·®è‡³å°‘ä¸º$2$çš„æ•°å­—ä¸ªæ•°ã€‚</li><li>æŒ‰ç…§æ¨¡æ¿å†™å°±è¡Œäº†</li></ul><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">int</span> dp[<span class="hljs-number">15</span>][<span class="hljs-number">15</span>], a[<span class="hljs-number">15</span>];</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> pos, <span class="hljs-keyword">int</span> pre, <span class="hljs-keyword">bool</span> limit, <span class="hljs-keyword">bool</span> frontzero)</span></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">if</span>(pos == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;</span><br><span class="line">    <span class="hljs-keyword">if</span>(!limit &amp;&amp; !frontzero &amp;&amp; dp[pos][pre] != <span class="hljs-number">-1</span>) <span class="hljs-keyword">return</span> dp[pos][pre];</span><br><span class="line">    <span class="hljs-keyword">int</span> ret = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">int</span> up = (limit ? a[pos] : <span class="hljs-number">9</span>);</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= up; i++)&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span>(<span class="hljs-built_in">abs</span>(i - pre) &lt; <span class="hljs-number">2</span>) <span class="hljs-keyword">continue</span>;</span><br><span class="line">        <span class="hljs-keyword">int</span> p = i;</span><br><span class="line">        <span class="hljs-keyword">if</span>(frontzero &amp;&amp; i == <span class="hljs-number">0</span>) p = -INF;</span><br><span class="line">        ret += dfs(pos - <span class="hljs-number">1</span>, p, limit &amp; (i == up), (p == -INF));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">if</span>(!frontzero &amp;&amp; !limit) dp[pos][pre] = ret;</span><br><span class="line">    <span class="hljs-keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">solve</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> idx = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">while</span>(x)&#123;</span><br><span class="line">        a[++idx] = x % <span class="hljs-number">10</span>;</span><br><span class="line">        x /= <span class="hljs-number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-built_in">memset</span>(dp, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span>(dp));</span><br><span class="line">    <span class="hljs-keyword">return</span> dfs(idx, -INF, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> a, b;</span><br><span class="line">    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d"</span>, &amp;a, &amp;b);</span><br><span class="line">    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>, solve(b) - solve(a - <span class="hljs-number">1</span>));</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ æ†æ•°"><a href="#æ æ†æ•°" class="headerlink" title="æ æ†æ•°"></a><a href="https://www.luogu.org/problem/P1831" target="_blank" rel="noopener">æ æ†æ•°</a></h3><ul><li>æˆ‘çœ‹åˆ°è¿™é“é¢˜çš„æ—¶å€™é€šè¿‡æ•°æ®èŒƒå›´åˆ¤æ–­å®ƒåº”è¯¥æ˜¯æ•°ä½dpï¼Œä½†æ˜¯æˆ‘ä¸çŸ¥é“ä»¥å“ªä¸€ä½ä¸ºæ”¯ç‚¹è®¡ç®—é‚£äº›æ€ä¹ˆåšï¼Œä¹Ÿæ˜¯å› ä¸ºè¿™é“é¢˜æ‰å­¦çš„æ•°ä½dpã€‚</li><li>å‘ç°æ­£å¸¸çš„æ¨¡æ¿æœç´¢ç¬¬äºŒä¸ªå˜é‡ä¿å­˜äº†ä¸Šä¸€ä¸ªæ•°æ˜¯å‡ ï¼Œä½†æ˜¯è¿™ä¸ªé¢˜ä¸èƒ½è¿™ä¹ˆç®—ï¼Œæ‰€ä»¥å°±å¯¹äºä¸€ä¸ª1é“nçš„ç»Ÿè®¡ï¼Œæšä¸¾ä¸€ä¸‹æ”¯ç‚¹ï¼Œç„¶åè®°å½•ä¸€ä¸‹æ”¯ç‚¹ä½ç½®å’Œåˆ°å½“å‰çš„å’Œï¼Œé¢ã€‚ã€‚ã€‚æˆ‘ä¸çŸ¥é“è‡ªå·±è¯´äº†ä»€ä¹ˆï¼Œçœ‹æ³¨é‡Šå§ã€‚</li></ul><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line">ll dp[<span class="hljs-number">20</span>][<span class="hljs-number">20</span>][<span class="hljs-number">3009</span>], a[<span class="hljs-number">20</span>];</span><br><span class="line"></span><br><span class="line"><span class="hljs-function">ll <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> pos, <span class="hljs-keyword">int</span> x, ll s, <span class="hljs-keyword">bool</span> limit, <span class="hljs-keyword">bool</span> frontzero)</span></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">if</span>(pos == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> (!frontzero &amp;&amp; s == <span class="hljs-number">0</span>);</span><br><span class="line">    <span class="hljs-comment">//ç„¶åè¿”å›1çš„æ¡ä»¶å°±æ˜¯å’Œä¸º0ï¼ˆæ»¡è¶³å¹³è¡¡ï¼‰</span></span><br><span class="line">    <span class="hljs-comment">//å¹¶ä¸”ä¸èƒ½æ˜¯0.</span></span><br><span class="line">    <span class="hljs-keyword">if</span>(!limit &amp;&amp; !frontzero &amp;&amp; dp[x][pos][s] != <span class="hljs-number">-1</span>) <span class="hljs-keyword">return</span> dp[x][pos][s];</span><br><span class="line">    <span class="hljs-keyword">int</span> up = (limit ? a[pos] : <span class="hljs-number">9</span>);</span><br><span class="line">    ll ret = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= up; i++)&#123;</span><br><span class="line">        ret += dfs(pos<span class="hljs-number">-1</span>, x, s+(<span class="hljs-number">1l</span>l*i*(pos-x)), limit &amp; (i == up), frontzero&amp;(i==<span class="hljs-number">0</span>));</span><br><span class="line">        <span class="hljs-comment">//è¿™é‡Œå°±æ˜¯è½¬ç§»ã€‚ã€‚ã€‚</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">if</span>(!limit &amp;&amp; !frontzero) dp[x][pos][s] = ret;</span><br><span class="line">    <span class="hljs-keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function">ll <span class="hljs-title">solve</span><span class="hljs-params">(ll x)</span></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> idx = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">while</span>(x)&#123;</span><br><span class="line">        a[++idx] = x % <span class="hljs-number">10</span>;</span><br><span class="line">        x /= <span class="hljs-number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-built_in">memset</span>(dp, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span>(dp));</span><br><span class="line">    ll ans = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-comment">//å°±è¿™ä¸ªåœ°æ–¹ï¼Œæšä¸¾ä¸€ä¸‹æ”¯ç‚¹ä½ç½®ã€‚</span></span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= idx; i++)&#123;</span><br><span class="line">        ans += dfs(idx, i, <span class="hljs-number">0l</span>l, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">    ll a, b;</span><br><span class="line">    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%lld%lld"</span>, &amp;a, &amp;b);</span><br><span class="line">    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%lld"</span>, solve(b) - solve(a - <span class="hljs-number">1</span>));</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;æ•°ä½dpåŸºæœ¬æ¨¡å‹ï¼Œç»™å®šé—­åŒºé—´$[l,r]$ï¼Œæ±‚è¿™ä¸ªé—­åŒºé—´ä¸­æ»¡è¶³é¢˜ç›®è¦æ±‚çš„æ•°çš„ä¸ªæ•°ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="OI" scheme="http://yueyangwu.cn/categories/OI/"/>
    
      <category term="çŸ¥è¯†ç‚¹" scheme="http://yueyangwu.cn/categories/OI/%E7%9F%A5%E8%AF%86%E7%82%B9/"/>
    
    
      <category term="dp" scheme="http://yueyangwu.cn/tags/dp/"/>
    
      <category term="æ•°ä½dp" scheme="http://yueyangwu.cn/tags/%E6%95%B0%E4%BD%8Ddp/"/>
    
  </entry>
  
  <entry>
    <title>luogu-P1831-é‡è¦çš„åŸå¸‚</title>
    <link href="http://yueyangwu.cn/2019/07/29/luogu-P1831-%E9%87%8D%E8%A6%81%E7%9A%84%E5%9F%8E%E5%B8%82/"/>
    <id>http://yueyangwu.cn/2019/07/29/luogu-P1831-é‡è¦çš„åŸå¸‚/</id>
    <published>2019-07-29T11:20:03.000Z</published>
    <updated>2019-07-29T11:24:29.750Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.luogu.org/problem/P1841" target="_blank" rel="noopener">é¢˜ç›®é“¾æ¥</a></p><a id="more"></a><hr><p>è·‘ä¸€æ¬¡floydå³å¯ï¼Œæ–°å»ºä¸€ä¸ªæ•°ç»„cï¼Œå¦‚æœiåˆ°jçš„æœ€çŸ­è·¯èƒ½è¢«kæ›´æ–°ï¼Œé‚£ä¹ˆè¯´æ˜æœ€çŸ­è·¯ä¸€å®šä¼šç»è¿‡kï¼Œæ‰€ä»¥c[i][j]ä¿å­˜ä¸€ä¸‹kï¼Œå¦‚æœæ›´æ–°è¿‡ç¨‹å‘ç°å­˜åœ¨ä¸€ä¸ªç›¸ç­‰çš„æ›´æ–°æ¡ä»¶ï¼Œè¯´æ˜æœ€çŸ­è·¯æœ‰å¤šæ¡ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥åˆ å»c[i][j]é‡Œé¢çš„æ•°.</p><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">int</span> n, m;</span><br><span class="line"><span class="hljs-keyword">int</span> f[<span class="hljs-number">209</span>][<span class="hljs-number">209</span>], cnt[<span class="hljs-number">209</span>][<span class="hljs-number">209</span>];</span><br><span class="line"><span class="hljs-keyword">bool</span> ans[<span class="hljs-number">209</span>];</span><br><span class="line"><span class="hljs-keyword">int</span> tot;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d"</span>, &amp;n, &amp;m);</span><br><span class="line">    <span class="hljs-built_in">memset</span>(f, <span class="hljs-number">0x3f</span>, <span class="hljs-keyword">sizeof</span>(f));</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">        f[i][i] = <span class="hljs-number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i++)&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> x, y, w;</span><br><span class="line">        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d%d"</span>, &amp;x, &amp;y, &amp;w);</span><br><span class="line">        f[x][y] = w;</span><br><span class="line">        f[y][x] = w;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> k = <span class="hljs-number">1</span>; k &lt;= n; k++)&#123;</span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">            <span class="hljs-keyword">if</span>(i == k) <span class="hljs-keyword">continue</span>;</span><br><span class="line">            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j++)&#123;</span><br><span class="line">                <span class="hljs-keyword">if</span>(i == j || j == k) <span class="hljs-keyword">continue</span>;</span><br><span class="line">                <span class="hljs-keyword">if</span>(f[i][k] + f[k][j] &lt; f[i][j])&#123;</span><br><span class="line">                    f[i][j] = f[i][k] + f[k][j];</span><br><span class="line">                    cnt[i][j] = k;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(f[i][k] + f[k][j] == f[i][j])&#123;</span><br><span class="line">                    cnt[i][j] = <span class="hljs-number">0</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j++)&#123;</span><br><span class="line">            ans[cnt[i][j]] = <span class="hljs-number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span>(ans[i]) <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d "</span>, i), tot++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">if</span>(tot == <span class="hljs-number">0</span>) <span class="hljs-built_in">printf</span>(<span class="hljs-string">"No important cities."</span>);</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://www.luogu.org/problem/P1841&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;é¢˜ç›®é“¾æ¥&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="OI" scheme="http://yueyangwu.cn/categories/OI/"/>
    
      <category term="é¢˜ç›®" scheme="http://yueyangwu.cn/categories/OI/%E9%A2%98%E7%9B%AE/"/>
    
    
      <category term="dp" scheme="http://yueyangwu.cn/tags/dp/"/>
    
      <category term="å›¾è®º" scheme="http://yueyangwu.cn/tags/%E5%9B%BE%E8%AE%BA/"/>
    
      <category term="floyd" scheme="http://yueyangwu.cn/tags/floyd/"/>
    
  </entry>
  
  <entry>
    <title>Luogu P2279 [HNOI2003]æ¶ˆé˜²å±€çš„è®¾ç«‹</title>
    <link href="http://yueyangwu.cn/2019/07/29/P2279-%E6%B6%88%E9%98%B2%E5%B1%80%E7%9A%84%E8%AE%BE%E7%AB%8B/"/>
    <id>http://yueyangwu.cn/2019/07/29/P2279-æ¶ˆé˜²å±€çš„è®¾ç«‹/</id>
    <published>2019-07-29T10:16:10.000Z</published>
    <updated>2019-07-29T10:46:50.292Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.luogu.org/problem/P2279" target="_blank" rel="noopener">é¢˜ç›®é“¾æ¥</a></p><a id="more"></a><hr><ul><li>è®¾è®¡çŠ¶æ€ï¼š$f[x][0-4]$è¡¨ç¤ºä»¥xä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘ï¼Œèƒ½è¦†ç›–åˆ°å‘ä¸Š2åˆ°-2ä¸ªèŠ‚ç‚¹éœ€è¦çš„æœ€å°æ¶ˆé˜²å±€æ•°é‡ï¼Œè¿™æ ·æ˜æ˜¾$f[x][0]\leq f[x][1]\leq f[x][2] \leq f[x][3] \leq f[x][4]$æ‰€ä»¥è½¬ç§»çš„æ—¶å€™å°½é‡é€‰ç¬¬äºŒç»´å¤§çš„è½¬ç§»ï¼Œèƒ½ä¿è¯æœ€å°ï¼š</li><li>$f[x][0] = \sum f[y][4]+1$</li><li>å¦‚æœèƒ½å»¶ä¼¸åˆ°xçš„ç¥–çˆ¶èŠ‚ç‚¹ï¼Œé‚£ä¹ˆxå¿…é¡»ä¸ºæ¶ˆé˜²å±€ï¼Œæ‰€ä»¥ç­”æ¡ˆæ˜¯xçš„æ‰€æœ‰å„¿å­å‘ä¸‹2ä¸ªï¼ŒåŠxæ‰€æœ‰å­™å­çš„å„¿å­éƒ½èƒ½è¢«è¦†ç›–å³å¯ï¼Œå› ä¸ºxä¸ºæ¶ˆé˜²å±€ï¼Œæ‰€ä»¥æ•°é‡åŠ ä¸€ã€‚<br>$$<br>f[x][1] = min{\sum_{s\in tä¸”s \not= k} f[s][3]+f[k][0]}<br>$$</li><li>å»¶ä¼¸åˆ°xçš„çˆ¶äº²ï¼Œåªéœ€è¦ä¿è¯æ‰€æœ‰çš„å­™å­å·²ç»è¢«è¦†ç›–ï¼Œå¹¶ä¸”å…¶ä¸­ä¸€ä¸ªå„¿å­å¯ä»¥å‘ä¸Šå»¶ä¼¸2ä¸ªï¼Œè¿™å°±æ„å‘³ç€æ‰€æœ‰çš„xçš„å„¿å­å’Œxæœ¬èº«è¿˜æœ‰xçš„çˆ¶äº²éƒ½å¯ä»¥è¢«è¿™ä¸ªæ¶ˆé˜²å±€è¦†ç›–ã€‚</li><li>$f[x][2]$åŒç†</li><li>$f[x][3] = \sum f[y][2]$</li><li>èƒ½ä¿è¯xçš„å„¿å­ä»¬éƒ½è¢«è¦†ç›–ï¼Œç›¸å½“äºå„¿å­ä»¬è‡ªå·±éƒ½è¢«è¦†ç›–ã€‚</li><li>$f[x][4] = \sum f[y][3]$</li><li>åŒç†</li></ul><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">int</span> n;</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Edge</span>&#123;</span></span><br><span class="line">    <span class="hljs-keyword">int</span> to, nxt;</span><br><span class="line">&#125;e[<span class="hljs-number">2009</span>];</span><br><span class="line"><span class="hljs-keyword">int</span> head[<span class="hljs-number">1009</span>], tot;</span><br><span class="line"><span class="hljs-keyword">int</span> f[<span class="hljs-number">1009</span>][<span class="hljs-number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span>&#123;</span><br><span class="line">    e[++tot].to = y;</span><br><span class="line">    e[tot].nxt = head[x];</span><br><span class="line">    head[x] = tot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> fa)</span></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[x]; i; i = e[i].nxt)&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> y = e[i].to;</span><br><span class="line">        <span class="hljs-keyword">if</span>(y == fa) <span class="hljs-keyword">continue</span>;</span><br><span class="line">        dfs(y, x);</span><br><span class="line">        f[x][<span class="hljs-number">0</span>] += f[y][<span class="hljs-number">4</span>];</span><br><span class="line">        f[x][<span class="hljs-number">3</span>] += f[y][<span class="hljs-number">2</span>];</span><br><span class="line">        f[x][<span class="hljs-number">4</span>] += f[y][<span class="hljs-number">3</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    f[x][<span class="hljs-number">0</span>] += <span class="hljs-number">1</span>;</span><br><span class="line">    f[x][<span class="hljs-number">1</span>] = f[x][<span class="hljs-number">2</span>] = <span class="hljs-number">0x3f3f3f3f</span>;</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[x]; i; i = e[i].nxt)&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> y = e[i].to;</span><br><span class="line">        <span class="hljs-keyword">if</span>(y == fa) <span class="hljs-keyword">continue</span>;</span><br><span class="line">        f[x][<span class="hljs-number">1</span>] = min(f[x][<span class="hljs-number">1</span>], f[x][<span class="hljs-number">4</span>] - f[y][<span class="hljs-number">3</span>] + f[y][<span class="hljs-number">0</span>]);</span><br><span class="line">        f[x][<span class="hljs-number">2</span>] = min(f[x][<span class="hljs-number">2</span>], f[x][<span class="hljs-number">3</span>] - f[y][<span class="hljs-number">2</span>] + f[y][<span class="hljs-number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    f[x][<span class="hljs-number">1</span>] = min(f[x][<span class="hljs-number">1</span>], f[x][<span class="hljs-number">0</span>]);</span><br><span class="line">    f[x][<span class="hljs-number">2</span>] = min(f[x][<span class="hljs-number">2</span>], f[x][<span class="hljs-number">1</span>]);</span><br><span class="line">    f[x][<span class="hljs-number">3</span>] = min(f[x][<span class="hljs-number">3</span>], f[x][<span class="hljs-number">2</span>]);</span><br><span class="line">    f[x][<span class="hljs-number">4</span>] = min(f[x][<span class="hljs-number">4</span>], f[x][<span class="hljs-number">3</span>]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;n);</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; i++)&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> y;</span><br><span class="line">        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;y);</span><br><span class="line">        add(i, y), add(y, i);</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>);</span><br><span class="line">    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>, f[<span class="hljs-number">1</span>][<span class="hljs-number">2</span>]);</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://www.luogu.org/problem/P2279&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;é¢˜ç›®é“¾æ¥&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="OI" scheme="http://yueyangwu.cn/categories/OI/"/>
    
      <category term="é¢˜ç›®" scheme="http://yueyangwu.cn/categories/OI/%E9%A2%98%E7%9B%AE/"/>
    
    
      <category term="æ ‘å½¢ç»“æ„" scheme="http://yueyangwu.cn/tags/%E6%A0%91%E5%BD%A2%E7%BB%93%E6%9E%84/"/>
    
      <category term="dp" scheme="http://yueyangwu.cn/tags/dp/"/>
    
  </entry>
  
  <entry>
    <title>Luogu P2831 æ„¤æ€’çš„å°é¸Ÿ</title>
    <link href="http://yueyangwu.cn/2019/07/28/luogu-P2831-%E6%84%A4%E6%80%92%E7%9A%84%E5%B0%8F%E9%B8%9F/"/>
    <id>http://yueyangwu.cn/2019/07/28/luogu-P2831-æ„¤æ€’çš„å°é¸Ÿ/</id>
    <published>2019-07-28T05:52:36.000Z</published>
    <updated>2019-07-28T06:09:55.156Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.luogu.org/problem/P2831" target="_blank" rel="noopener">é¢˜ç›®é“¾æ¥</a></p><p>ä¸€ä¸ªæœç´¢ï¼Œæˆ–è€…çŠ¶å‹ï¼Œè’Ÿè’»ä¸ä¼šçŠ¶å‹dpï¼Œå°±å†™äº†æœç´¢ã€‚ã€‚ã€‚</p><a id="more"></a><hr><ul><li><p>ä¸€ä¸ªçŒªï¼Œæœ‰ä¸¤ç§æ–¹å¼æ­»ï¼Œä¸€æ˜¯åªè¢«ä¸€åªé¸Ÿæ‰“æ­»ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯å’Œä¹‹å‰ä¸€åªçŒªä¸€èµ·è¢«åŒä¸€åªé¸Ÿæ‰“æ­»ï¼Œå› ä¸ºä¸¤åªçŒªç¡®å®šä¸€æ¡æŠ›ç‰©çº¿ã€‚</p></li><li><p>ç„¶åæœç´¢å…¶å®å°±æ˜¯å¯¹äºç¬¬iä¸ªçŒªï¼Œåˆ°ç›®å‰ä¸ºæ­¢å·²ç»ç¡®å®šäº†okæ¡æŠ›ç‰©çº¿ï¼Œè¿˜æœ‰noä¸ªæ²¡æœ‰ç»„æˆæŠ›ç‰©çº¿çš„çŒªï¼ˆå°±æ˜¯ç‹¬è‡ªè¢«ä¸€åªé¸Ÿæ‰“æ­»çš„ï¼‰ï¼Œç„¶åçœ‹ä¸€ä¸‹ä¹‹å‰å·²ç»ç»„æˆçš„æŠ›ç‰©çº¿æœ‰æ²¡æœ‰ä¸€æ¡èƒ½å¤Ÿæ‰“æ­»è¯¥çŒªï¼Œå¯ä»¥çš„è¯å°±å¾€åæœå°±è¡Œï¼Œä¸ç„¶å°±åˆ†ä¸¤ç§æƒ…å†µï¼š</p><ol><li><p>è¿™åªçŒªå’Œè¿™åªçŒªä¹‹å‰çš„ä¸€åªçŒªç»„æˆä¸€æ¡æŠ›ç‰©çº¿ã€‚</p></li><li><p>è¿™åªçŒªå•ç‹¬è¢«æ‰“ä¸­ã€‚</p><p>å¯¹äºæ¯ç§æƒ…å†µå•ç‹¬æœç´¢å³å¯ã€‚å…·ä½“æè¿°æ”¾åœ¨ä»£ç é‡Œã€‚</p></li></ol></li></ul><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">int</span> n, m, ans;</span><br><span class="line"><span class="hljs-keyword">int</span> maxn;</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span>&#123;</span></span><br><span class="line">    <span class="hljs-keyword">double</span> x, y;</span><br><span class="line">&#125;a[<span class="hljs-number">20</span>];</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node1</span>&#123;</span></span><br><span class="line">    <span class="hljs-keyword">double</span> a, b;</span><br><span class="line">&#125;p[<span class="hljs-number">20</span>];</span><br><span class="line"><span class="hljs-keyword">bool</span> vis[<span class="hljs-number">20</span>];</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">sam</span><span class="hljs-params">(<span class="hljs-keyword">double</span> a, <span class="hljs-keyword">double</span> b)</span></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-built_in">abs</span>(a - b) &lt;= <span class="hljs-number">1e-6</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> k, <span class="hljs-keyword">int</span> ok, <span class="hljs-keyword">int</span> no)</span></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">if</span>(k == n + <span class="hljs-number">1</span>)&#123;</span><br><span class="line">        ans = min(ans, ok + no);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">if</span>(ok + no &gt;= ans) <span class="hljs-keyword">return</span>;</span><br><span class="line">    <span class="hljs-comment">//è¿™ä¸ªåœ°æ–¹ä¸€å®šå¾—æ³¨æ„ï¼Œä¸Šé¢è¿™å¥å†™&gt;=æ˜¯æœ€ä¼˜æ€§å‰ªæã€‚</span></span><br><span class="line">    <span class="hljs-comment">//ä¸€å®šå¾—å†™&gt;=,å†™&gt;ä¼šè¶…æ—¶ï¼ŒTä¸€ä¸ªç‚¹ã€‚</span></span><br><span class="line">    <span class="hljs-comment">//ä¸‹é¢ä¸€å®šå¾—&gt;ï¼Œå› ä¸ºä¼šWAã€‚ã€‚ã€‚</span></span><br><span class="line">    <span class="hljs-keyword">if</span>(ok + no &gt; maxn) <span class="hljs-keyword">return</span>;</span><br><span class="line">    <span class="hljs-keyword">int</span> flag = <span class="hljs-number">1</span>;</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= ok; i++)&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span>(sam(p[i].a*a[k].x*a[k].x+p[i].b*a[k].x, a[k].y))&#123;</span><br><span class="line">            <span class="hljs-comment">//è¿™é‡Œå¤„ç†äº†ç¬¬ä¸€ç§æƒ…å†µï¼Œå°±æ˜¯èƒ½å’Œä¹‹å‰å·²ç»æœ‰çš„æŠ›ç‰©çº¿ç»„æˆä¸€èµ·ã€‚</span></span><br><span class="line">            <span class="hljs-comment">//ç„¶åvisæ•°ç»„è¿™ä¸ªæ¯”è¾ƒæ­£å¸¸ã€‚</span></span><br><span class="line">            vis[k] = <span class="hljs-number">1</span>;</span><br><span class="line">            dfs(k + <span class="hljs-number">1</span>, ok, no);</span><br><span class="line">            vis[k] = <span class="hljs-number">0</span>;</span><br><span class="line">            flag = <span class="hljs-number">0</span>;</span><br><span class="line">            <span class="hljs-keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">if</span>(flag)&#123;</span><br><span class="line">        <span class="hljs-comment">//è¿™é‡Œå¤„ç†ç¬¬äºŒç§æƒ…å†µï¼Œä¸è¿™ä¸ªçŒªå‰é¢å…¶ä¸­ä¸€ä¸ªçŒªç»„æˆä¸€æ¡æŠ›ç‰©çº¿ã€‚</span></span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; k; i++)&#123;</span><br><span class="line">            <span class="hljs-keyword">if</span>(vis[i]) <span class="hljs-keyword">continue</span>;</span><br><span class="line">            <span class="hljs-keyword">if</span>(a[i].x == a[k].x) <span class="hljs-keyword">continue</span>;</span><br><span class="line">            <span class="hljs-comment">//è¿™é‡Œè®¡ç®—ä¸€ä¸‹aaå’Œbbï¼Œå°±æ˜¯æŠ›ç‰©çº¿çš„aå’Œbï¼Œæ‹¿æ–¹ç¨‹ç»„æ‰‹æ¨ä¸€ä¸‹å°±å‡ºæ¥äº†ã€‚</span></span><br><span class="line">            <span class="hljs-keyword">double</span> aa = (a[k].y*a[i].x/a[k].x-a[i].y)/(a[i].x*(a[k].x-a[i].x));</span><br><span class="line">            <span class="hljs-keyword">double</span> bb = (a[k].y-aa*a[k].x*a[k].x)/a[k].x;</span><br><span class="line">            <span class="hljs-keyword">if</span>(aa &lt; <span class="hljs-number">0</span>)&#123;</span><br><span class="line">                p[ok+<span class="hljs-number">1</span>].a = aa;</span><br><span class="line">                p[ok+<span class="hljs-number">1</span>].b = bb;</span><br><span class="line">                vis[i] = <span class="hljs-number">1</span>;</span><br><span class="line">                vis[k] = <span class="hljs-number">1</span>;</span><br><span class="line">                dfs(k + <span class="hljs-number">1</span>, ok + <span class="hljs-number">1</span>, no - <span class="hljs-number">1</span>);</span><br><span class="line">                vis[i] = <span class="hljs-number">0</span>;</span><br><span class="line">                vis[k] = <span class="hljs-number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-comment">//æœ€åè¿™é‡Œæ˜¯ç¬¬ä¸‰ç§æƒ…å†µï¼Œå°±æ˜¯è¿™ä¸€ä¸ªå•ç‹¬ç»„æˆä¸€ä¸ªæŠ›ç‰©çº¿ã€‚ã€‚ã€‚</span></span><br><span class="line">        dfs(k + <span class="hljs-number">1</span>, ok, no + <span class="hljs-number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> T;</span><br><span class="line">    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;T);</span><br><span class="line">    <span class="hljs-keyword">while</span>(T--)&#123;</span><br><span class="line">        ans = <span class="hljs-number">0x3f3f3f3f</span>;</span><br><span class="line">        maxn = <span class="hljs-number">0x3f3f3f3f</span>;</span><br><span class="line">        <span class="hljs-built_in">memset</span>(vis, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(vis));</span><br><span class="line">        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d"</span>, &amp;n, &amp;m);</span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">            <span class="hljs-keyword">double</span> x, y;</span><br><span class="line">            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%lf%lf"</span>, &amp;x, &amp;y);</span><br><span class="line">            a[i].x = x;</span><br><span class="line">            a[i].y = y;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">if</span>(m == <span class="hljs-number">1</span>) maxn = <span class="hljs-built_in">ceil</span>(n / <span class="hljs-number">3.0</span> + <span class="hljs-number">1</span>);</span><br><span class="line">        dfs(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);</span><br><span class="line">        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>, ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://www.luogu.org/problem/P2831&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;é¢˜ç›®é“¾æ¥&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªæœç´¢ï¼Œæˆ–è€…çŠ¶å‹ï¼Œè’Ÿè’»ä¸ä¼šçŠ¶å‹dpï¼Œå°±å†™äº†æœç´¢ã€‚ã€‚ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="OI" scheme="http://yueyangwu.cn/categories/OI/"/>
    
      <category term="é¢˜ç›®" scheme="http://yueyangwu.cn/categories/OI/%E9%A2%98%E7%9B%AE/"/>
    
    
      <category term="æœç´¢" scheme="http://yueyangwu.cn/tags/%E6%90%9C%E7%B4%A2/"/>
    
  </entry>
  
  <entry>
    <title>AtCoder Beginner Contest 135</title>
    <link href="http://yueyangwu.cn/2019/07/27/atcoder-abc135/"/>
    <id>http://yueyangwu.cn/2019/07/27/atcoder-abc135/</id>
    <published>2019-07-27T14:16:59.000Z</published>
    <updated>2019-07-27T14:40:36.865Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://atcoder.jp/contests/abc135" target="_blank" rel="noopener">AtCoder Beginner Contest 135</a></p><p>è¿™åº”è¯¥æ˜¯æˆ‘ç¬¬ä¸€æ¬¡æ‰“Atcoderï¼Œå†™ä¸ªblogç•™çºªå¿µã€‚</p><a id="more"></a><hr><h2 id="A-Harmony"><a href="#A-Harmony" class="headerlink" title="A - Harmony"></a>A - Harmony</h2><ul><li>å°±æ˜¯æ±‚æ˜¯å¦æœ‰ä¸€ä¸ªæ•°ï¼Œåœ¨æ•°è½´ä¸Šè·ç¦»aï¼Œbç›¸ç­‰ï¼Œç›´æ¥ä»£ç ã€‚<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line">ll a, b;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%lld%lld"</span>, &amp;a, &amp;b);</span><br><span class="line">    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">abs</span>(a - b) % <span class="hljs-number">2</span> == <span class="hljs-number">1</span>)&#123;</span><br><span class="line">        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"IMPOSSIBLE\n"</span>);</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%lld\n"</span>, (a + b) / <span class="hljs-number">2</span>);</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><hr><h2 id="B-0-or-1-Swap"><a href="#B-0-or-1-Swap" class="headerlink" title="B - 0 or 1 Swap"></a>B - 0 or 1 Swap</h2><ul><li>æŠŠæ•°åˆ—è¯»è¿›æ¥ï¼Œæ’ä¸ªåºï¼Œå’ŒåŸæ¥çš„å¯¹æ¯”ä¸€ä¸‹å°±è¡Œäº†ã€‚<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">int</span> a[<span class="hljs-number">59</span>], b[<span class="hljs-number">59</span>], n;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;n);</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;a[i]);</span><br><span class="line">        b[i] = a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;</span><br><span class="line">    sort(a + <span class="hljs-number">1</span>, a + n + <span class="hljs-number">1</span>);</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span>(a[i] != b[i])&#123;</span><br><span class="line">            ans++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">if</span>(ans &lt;= <span class="hljs-number">2</span>) <span class="hljs-built_in">printf</span>(<span class="hljs-string">"YES\n"</span>);</span><br><span class="line">    <span class="hljs-keyword">else</span> <span class="hljs-built_in">printf</span>(<span class="hljs-string">"NO\n"</span>);</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><hr><h2 id="C-City-Savers"><a href="#C-City-Savers" class="headerlink" title="C - City Savers"></a>C - City Savers</h2><ul><li>é¢ï¼Œè¿™é“é¢˜ä¸€å¼€å§‹æˆ‘é”™äº†ä¸€æ¬¡ï¼Œä½†æ˜¯æˆ‘ä¹Ÿä¸çŸ¥é“å“ªé”™äº†ã€‚ã€‚ã€‚å¥½åƒæ˜¯è´ªå¿ƒæ²¡è€ƒè™‘æ¸…æ¥šï¼Ÿæˆ‘ä¸€å¼€å§‹æšä¸¾çš„ä¸‹é¢é‚£ä¸ªæ•°ç»„ï¼Œåæ¥æ”¹æˆä¸Šé¢çš„å°±Aäº†ã€‚è²Œä¼¼æ˜¯å› ä¸ºå¾—ä¼˜å…ˆæŠŠä¸Šä¸€ä¸ªå‰©ä¸‹çš„ç”¨å®Œï¼Ÿ<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">int</span> n;</span><br><span class="line">ll a[<span class="hljs-number">100009</span>], b[<span class="hljs-number">100009</span>];</span><br><span class="line">ll ans;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;n);</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n + <span class="hljs-number">1</span>; i++)&#123;</span><br><span class="line">        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%lld"</span>, &amp;a[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%lld"</span>, &amp;b[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n + <span class="hljs-number">1</span>; i++)&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span>(b[i - <span class="hljs-number">1</span>] &gt; <span class="hljs-number">0</span> &amp;&amp; a[i] &gt; <span class="hljs-number">0</span>)&#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> k = min(a[i], b[i - <span class="hljs-number">1</span>]);</span><br><span class="line">            ans += k;</span><br><span class="line">            a[i] -= k;</span><br><span class="line">            b[i - <span class="hljs-number">1</span>] -= k;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">if</span>(b[i] &gt; <span class="hljs-number">0</span> &amp;&amp; a[i] &gt; <span class="hljs-number">0</span>)&#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> k = min(a[i], b[i]);</span><br><span class="line">            ans += k;</span><br><span class="line">            a[i] -= k;</span><br><span class="line">            b[i] -= k;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%lld\n"</span>, ans);</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><hr><h2 id="D-Digits-Parade"><a href="#D-Digits-Parade" class="headerlink" title="D - Digits Parade"></a>D - Digits Parade</h2><ul><li>è¿™ä¸ªæ˜¯ä¸ªdpï¼Œè¿˜æ˜¯ç«¹ç¥æé†’äº†ä¸€ä¸‹çŠ¶æ€ï¼Œæ„Ÿè§‰ä»¥å‰åšè¿‡è¿™æ ·çš„é¢˜ï¼Œåº”è¯¥æ˜¯ä¸€ä¸ªç±»å‹çš„ã€‚</li><li>$f(i,j)$è¡¨ç¤ºå‰iä¸ªç»„æˆçš„æ•°æ¨¡13ä½™jçš„ç§ç±»æ•°ï¼Œç„¶åå°±å¯ä»¥è½¬ç§»ï¼Œå½“ç¬¬iä¸ªæ˜¯ä¸€ä¸ªç¡®å®šçš„æ•°æ—¶ï¼Œå¯ä»¥ç›´æ¥æšä¸¾ä¸Šä¸€ä¸ªä½ç½®çš„ä½™æ•°ï¼Œç„¶åå› ä¸ºåˆ°è¿™ä½ä»¥åç›¸å½“äºä¸Šä¸€ä½ä¹˜äº†10ï¼Œæ‰€ä»¥ä¸Šä¸€ä½çš„ä½™æ•°*10å†æ¨¡13å†åŠ è¿™ä¸€ä½å†æ¨¡13å°±æ˜¯è¦è½¬ç§»çš„å¯¹è±¡ï¼ŒåŒç†å¦‚æœè¿™ä¸€ä½æ˜¯ä¸€ä¸ªé—®å·ï¼Œåªéœ€è¦æšä¸¾è¿™ä¸€ä½æ˜¯ä»0åˆ°9çš„æƒ…å†µå³å¯ã€‚å…·ä½“ä¸å¤ªæ¸…æ¥šçš„çœ‹ä»£ç ã€‚<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;</span><br><span class="line">ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">string</span> s;</span><br><span class="line"><span class="hljs-keyword">int</span> n, a[<span class="hljs-number">100009</span>];</span><br><span class="line">ll f[<span class="hljs-number">100009</span>][<span class="hljs-number">20</span>];</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">    <span class="hljs-built_in">cin</span> &gt;&gt; s;</span><br><span class="line">    n = s.length();</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">        a[i] = (s[i - <span class="hljs-number">1</span>] == <span class="hljs-string">'?'</span> ? <span class="hljs-number">-1</span> : s[i - <span class="hljs-number">1</span>] - <span class="hljs-string">'0'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">if</span>(a[<span class="hljs-number">1</span>] == <span class="hljs-number">-1</span>) <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= <span class="hljs-number">9</span>; i++) f[<span class="hljs-number">1</span>][i] = <span class="hljs-number">1</span>;</span><br><span class="line">    <span class="hljs-keyword">else</span> f[<span class="hljs-number">1</span>][a[<span class="hljs-number">1</span>]] = <span class="hljs-number">1</span>;</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; i++)&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span>(a[i] == <span class="hljs-number">-1</span>)&#123;</span><br><span class="line">            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;= <span class="hljs-number">9</span>; j++)&#123;</span><br><span class="line">                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> k = <span class="hljs-number">0</span>; k &lt;= <span class="hljs-number">12</span>; k++)&#123;</span><br><span class="line">                    (f[i][(((k*<span class="hljs-number">10</span>)%<span class="hljs-number">13</span>)+j)%<span class="hljs-number">13</span>] += f[i - <span class="hljs-number">1</span>][k] % mod) %= mod;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">else</span>&#123;</span><br><span class="line">            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;= <span class="hljs-number">12</span>; j++)&#123;</span><br><span class="line">                (f[i][(((j*<span class="hljs-number">10</span>)%<span class="hljs-number">13</span>)+a[i])%<span class="hljs-number">13</span>] += f[i - <span class="hljs-number">1</span>][j] % mod) %= mod;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%lld\n"</span>, f[n][<span class="hljs-number">5</span>] % mod);</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://atcoder.jp/contests/abc135&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;AtCoder Beginner Contest 135&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¿™åº”è¯¥æ˜¯æˆ‘ç¬¬ä¸€æ¬¡æ‰“Atcoderï¼Œå†™ä¸ªblogç•™çºªå¿µã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Contest" scheme="http://yueyangwu.cn/categories/Contest/"/>
    
    
  </entry>
  
  <entry>
    <title>luogu-P2467-åœ°ç²¾éƒ¨è½</title>
    <link href="http://yueyangwu.cn/2019/07/27/luogu-P2467-%E5%9C%B0%E7%B2%BE%E9%83%A8%E8%90%BD/"/>
    <id>http://yueyangwu.cn/2019/07/27/luogu-P2467-åœ°ç²¾éƒ¨è½/</id>
    <published>2019-07-27T11:36:18.000Z</published>
    <updated>2019-07-27T11:36:18.919Z</updated>
    
    <summary type="html">
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Luogu P4046 [JSOI2010]å¿«é€’æœåŠ¡</title>
    <link href="http://yueyangwu.cn/2019/07/27/luogu-P4046-%E5%BF%AB%E9%80%92%E6%9C%8D%E5%8A%A1/"/>
    <id>http://yueyangwu.cn/2019/07/27/luogu-P4046-å¿«é€’æœåŠ¡/</id>
    <published>2019-07-27T04:20:15.000Z</published>
    <updated>2019-07-27T06:01:51.455Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.luogu.org/problem/P4046" target="_blank" rel="noopener">é¢˜ç›®é“¾æ¥</a></p><a id="more"></a><p>è¿™ä¸ªé¢˜çš„è¾“å…¥æŒºå‘çš„ã€‚ã€‚ã€‚åæ­£æˆ‘è°ƒäº†æŒºä¹…ã€‚</p><p>$f_{i,j,k,l}$è¡¨ç¤ºåˆ°ç¬¬$i$ä¸ªå–è´§ä½ç½®ï¼Œä¸‰ä¸ªè½¦çš„ä½ç½®åˆ†åˆ«åœ¨$i,j,k$ï¼Œé‚£ä¹ˆè½¬ç§»å¯ä»¥æ˜¯:<br>$$<br>f_{i,j,k,a_i}=min(f_{i,j,k,a_i},f_{i,j,k}+dis(l,a_i))<br>$$<br>$$<br>f_{i,j,a_i,l}=min(f_{i,j,a_i,l},f_{i,j,k}+dis(k,a_i))<br>$$<br>$$<br>f_{i,a_i,k,l}=min(f_{i,a_i,k,l},f_{i,j,k}+dis(j,a_i))<br>$$<br>è¿™æ ·æšä¸¾ä¸€ä¸‹$i,j,k$ï¼Œå–æœ€å°å€¼å³ä¸ºç­”æ¡ˆã€‚</p><p>ç„¶åæ—¶é—´ç©ºé—´å°±éƒ½ç‚¸äº†ã€‚ã€‚ã€‚</p><p>è€ƒè™‘ä¼˜åŒ–ï¼š<br>å› ä¸ºè‚¯å®šæœ‰ä¸€ä¸ªè½¦çš„ä½ç½®åœ¨$a_{i-1}$è¿™æ ·å¯ä»¥çœå»ä¸€ç»´ï¼Œç„¶åç¬¬ä¸€ç»´åšä¸€ä¸ªæ»šåŠ¨æ•°ç»„ã€‚<br>$$<br>f_{i,j,k}=min(f_{i,j,k},f_{i-1,j,k}+dis(a_{i-1},a_i))<br>$$<br>$$<br>f_{i,j,a_{i-1}}=min(f_{i,j,a_{i-1}},f_{i-1,j,k}+dis(k,a_i))<br>$$<br>$$<br>f_{i,a_{i-1},k}=min(f_{i,a_{i-1},k},f_{i-1,j,k}+dis(j,a_i))<br>$$<br>è¿™ä¸ªå¾—ä»”ç»†æ€è€ƒä¸€ä¸‹æ‰è¡Œï¼Œæˆ‘çœ‹é¢˜è§£çš„æ—¶å€™è¿™é‡Œä¸€ç›´ç†è§£ä¸äº†ï¼Œä¹‹æ‰€ä»¥æ˜¯è½¬ç§»åˆ°$a_{i-1}$è€Œä¸æ˜¯$a_i$æ˜¯å¯ä»¥é€šè¿‡åŸæ¥çš„é‚£ä¸ªæ²¡æœ‰ä¼˜åŒ–çš„æƒ³ä¸€æƒ³å¾—åˆ°çš„ã€‚ã€‚ã€‚åæ­£ç„å­¦ã€‚</p><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;</span><br><span class="line"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">int</span> n, m;</span><br><span class="line">ll d[<span class="hljs-number">209</span>][<span class="hljs-number">209</span>];</span><br><span class="line">ll f[<span class="hljs-number">2</span>][<span class="hljs-number">209</span>][<span class="hljs-number">209</span>];</span><br><span class="line"><span class="hljs-keyword">int</span> a[<span class="hljs-number">1009</span>];</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;m);</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i++)&#123;</span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; j++)&#123;</span><br><span class="line">            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;d[i][j]);</span><br><span class="line">            f[<span class="hljs-number">0</span>][i][j] = f[<span class="hljs-number">1</span>][i][j] = inf;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">int</span> n = <span class="hljs-number">1</span>;</span><br><span class="line">    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;a[n]) == <span class="hljs-number">1</span>) n++;</span><br><span class="line">    n--;</span><br><span class="line">    <span class="hljs-keyword">int</span> now = <span class="hljs-number">0</span>, last = <span class="hljs-number">1</span>;</span><br><span class="line">    f[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>][<span class="hljs-number">2</span>] = <span class="hljs-number">0</span>;</span><br><span class="line">    a[<span class="hljs-number">0</span>] = <span class="hljs-number">3</span>;</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> t = <span class="hljs-number">1</span>; t &lt;= n; t++)&#123;</span><br><span class="line">        now = <span class="hljs-number">1</span>-now, last = <span class="hljs-number">1</span>-last;</span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i++)&#123;</span><br><span class="line">            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; j++)&#123;</span><br><span class="line">                f[now][i][j] = inf;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i++)&#123;</span><br><span class="line">            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; j++)&#123;</span><br><span class="line">                <span class="hljs-keyword">if</span>(i == j || j == a[t<span class="hljs-number">-1</span>] || i == a[t<span class="hljs-number">-1</span>]) <span class="hljs-keyword">continue</span>;</span><br><span class="line">                <span class="hljs-keyword">if</span>(f[last][i][j] == inf) <span class="hljs-keyword">continue</span>;</span><br><span class="line">                <span class="hljs-keyword">if</span>(i != a[t] &amp;&amp; j != a[t])</span><br><span class="line">                    f[now][i][j] = min(f[now][i][j],f[last][i][j]+d[a[t<span class="hljs-number">-1</span>]][a[t]]);</span><br><span class="line">                <span class="hljs-keyword">if</span>(j != a[t])</span><br><span class="line">                    f[now][a[t<span class="hljs-number">-1</span>]][j] = min(f[now][a[t<span class="hljs-number">-1</span>]][j],f[last][i][j]+d[i][a[t]]);</span><br><span class="line">                <span class="hljs-keyword">if</span>(i != a[t])</span><br><span class="line">                    f[now][i][a[t<span class="hljs-number">-1</span>]] = min(f[now][i][a[t<span class="hljs-number">-1</span>]],f[last][i][j]+d[j][a[t]]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ll ans = inf;</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i++)&#123;</span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; j++)&#123;</span><br><span class="line">            ans = min(ans, f[now][i][j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>, ans);</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://www.luogu.org/problem/P4046&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;é¢˜ç›®é“¾æ¥&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="OI" scheme="http://yueyangwu.cn/categories/OI/"/>
    
      <category term="é¢˜ç›®" scheme="http://yueyangwu.cn/categories/OI/%E9%A2%98%E7%9B%AE/"/>
    
    
      <category term="dp" scheme="http://yueyangwu.cn/tags/dp/"/>
    
  </entry>
  
  <entry>
    <title> Luogu P1272 é‡å»ºé“è·¯</title>
    <link href="http://yueyangwu.cn/2019/07/27/luogu-P1272-%E9%87%8D%E5%BB%BA%E9%81%93%E8%B7%AF/"/>
    <id>http://yueyangwu.cn/2019/07/27/luogu-P1272-é‡å»ºé“è·¯/</id>
    <published>2019-07-27T03:56:01.000Z</published>
    <updated>2019-07-27T04:09:00.020Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.luogu.org/problem/P1272" target="_blank" rel="noopener">é¢˜ç›®é“¾æ¥</a></p><a id="more"></a><p>æ ‘å½¢DPï¼Œæœ‰ç‚¹èƒŒåŒ…çš„æ„æ€ã€‚</p><hr><p>ç”¨$f[x][i]$è¡¨ç¤ºä»¥xä¸ºæ ¹çš„å­æ ‘ï¼Œä¿ç•™iä¸ªèŠ‚ç‚¹ï¼Œæœ€å°‘å‰²æ‰å¤šå°‘æ¡è¾¹ã€‚ç„¶åæœä¸€æ¬¡æ ‘ï¼Œå›æº¯çš„æ—¶å€™è½¬ç§»ï¼Œæ–¹ç¨‹æ˜¯$f[x][i]=min(f[x][i],f[x][j]+f[y][i-j]-2)$æšä¸¾jä»1é“i-1ï¼Œå…·ä½“çœ‹ä»£ç æ³¨é‡Šå§ã€‚</p><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">int</span> n, p, dig[<span class="hljs-number">159</span>];</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Edge</span>&#123;</span></span><br><span class="line">    <span class="hljs-keyword">int</span> to, nxt;</span><br><span class="line">&#125;e[<span class="hljs-number">309</span>];</span><br><span class="line"><span class="hljs-keyword">int</span> head[<span class="hljs-number">159</span>], tot;</span><br><span class="line"><span class="hljs-keyword">int</span> f[<span class="hljs-number">159</span>][<span class="hljs-number">159</span>];</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span>&#123;</span><br><span class="line">    e[++tot].to = y;</span><br><span class="line">    e[tot].nxt = head[x];</span><br><span class="line">    head[x] = tot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> fa)</span></span>&#123;</span><br><span class="line">    f[x][<span class="hljs-number">1</span>] = dig[x];</span><br><span class="line">    <span class="hljs-comment">//åˆå§‹åŒ–ä¸€ä¸‹ï¼Œä»¥xä¸ºæ ¹ï¼Œåªä¿ç•™ä¸€ä¸ªèŠ‚ç‚¹å°±æ˜¯ç æ‰å…¶ä»–æ‰€æœ‰ç›¸è¿è¾¹ï¼Œå°±æ˜¯åº¦æ•°ã€‚</span></span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[x]; i; i = e[i].nxt)&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> y = e[i].to;</span><br><span class="line">        <span class="hljs-keyword">if</span>(y == fa) <span class="hljs-keyword">continue</span>;</span><br><span class="line">        dfs(y, x);</span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = p; j &gt;= <span class="hljs-number">1</span>; j--)&#123;</span><br><span class="line">            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> k = <span class="hljs-number">1</span>; k &lt; j; k++)&#123;</span><br><span class="line">                f[x][j] = min(f[x][j], f[x][k] + f[y][j - k] - <span class="hljs-number">2</span>);</span><br><span class="line">                <span class="hljs-comment">//ä¹‹æ‰€ä»¥è¦-2æ˜¯å› ä¸ºåˆšåˆšåˆå§‹åŒ–çš„æ—¶å€™ç æ‰äº†x-&gt;yçš„è¿™æ¡è¾¹ï¼Œf[x][k]å¤šç äº†ä¸€æ¬¡ï¼Œf[y][j-k]åˆå¤šç äº†ä¸€æ¬¡ï¼Œæ‰€ä»¥å‡å»2ã€‚</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d"</span>, &amp;n, &amp;p);</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n - <span class="hljs-number">1</span>; i++)&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> x, y;</span><br><span class="line">        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d"</span>, &amp;x, &amp;y);</span><br><span class="line">        add(x, y), add(y, x);</span><br><span class="line">        dig[x]++, dig[y]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-built_in">memset</span>(f, <span class="hljs-number">0x3f</span>, <span class="hljs-keyword">sizeof</span>(f));</span><br><span class="line">    dfs(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>);</span><br><span class="line">    <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0x3f3f3f3f</span>;</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">        ans = min(ans, f[i][p]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>, ans);</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://www.luogu.org/problem/P1272&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;é¢˜ç›®é“¾æ¥&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="OI" scheme="http://yueyangwu.cn/categories/OI/"/>
    
      <category term="é¢˜ç›®" scheme="http://yueyangwu.cn/categories/OI/%E9%A2%98%E7%9B%AE/"/>
    
    
      <category term="æ ‘å½¢ç»“æ„" scheme="http://yueyangwu.cn/tags/%E6%A0%91%E5%BD%A2%E7%BB%93%E6%9E%84/"/>
    
      <category term="dp" scheme="http://yueyangwu.cn/tags/dp/"/>
    
  </entry>
  
  <entry>
    <title>æ¸…åŒ—å­¦å ‚noip2019-Day6</title>
    <link href="http://yueyangwu.cn/2019/07/18/%E6%B8%85%E5%8C%97%E5%AD%A6%E5%A0%82noip2019-Day6/"/>
    <id>http://yueyangwu.cn/2019/07/18/æ¸…åŒ—å­¦å ‚noip2019-Day6/</id>
    <published>2019-07-18T00:05:57.000Z</published>
    <updated>2019-07-18T01:23:32.386Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ•°è®º"><a href="#æ•°è®º" class="headerlink" title="æ•°è®º"></a>æ•°è®º</h2><a id="more"></a><h3 id="lcmï¼Œgcdæ€§è´¨"><a href="#lcmï¼Œgcdæ€§è´¨" class="headerlink" title="lcmï¼Œgcdæ€§è´¨"></a>lcmï¼Œgcdæ€§è´¨</h3><ul><li>$gcd(a,b)=gcd(b,a mod b)$</li><li>$lcm(a,b)= \frac{ab}{gcd(a,b)}$</li><li>$$lcm(S)=\prod_{T\subset S}gcd(T)^{(-1)^{|T|+1}}$$</li><li>$gcd(Fib(a),Fib(b))=Fib(gcd(a,b))$</li><li>$gcd(x^a-1,x^b-1)=x^{gcd(a,b)}-1$</li></ul><h3 id="problem-1"><a href="#problem-1" class="headerlink" title="problem 1"></a>problem 1</h3><ul><li>æ±‚<br>$$\sum_{i=1}^n(\lfloor \frac{n}{i} \rfloor)^3 \times i$$</li><li>$n\leq 10^9$</li></ul><h3 id="problem-2"><a href="#problem-2" class="headerlink" title="problem 2"></a>problem 2</h3><ul><li>æ±‚<br>$$\sum_{1\leq a,b\leq n}gcd(x^a-1,x^b-1)$$<br>$x,n\leq 10^5,300ç»„æ•°æ®$</li></ul><h4 id="æ¨å¯¼"><a href="#æ¨å¯¼" class="headerlink" title="æ¨å¯¼"></a>æ¨å¯¼</h4><ul><li>$$ans=\sum_{1\leq a,b\leq n}(x^{gcda,b}-1)$$<br>  $$=\sum_{k=1}^n(x^k-1)]\sum_{a\leq a,b\leq n}[gcd(a,b)=k]$$<br>  $$=\sum_{k=1}^n(x^k-1)(2\sum_{i=1}^{\lfloor n/k\rfloor}\varphi(i)-1)$$</li></ul><hr><h3 id="è´¹é©¬å°å®šç†"><a href="#è´¹é©¬å°å®šç†" class="headerlink" title="è´¹é©¬å°å®šç†"></a>è´¹é©¬å°å®šç†</h3><ul><li>è‹¥pæ˜¯ä¸€ä¸ª</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;æ•°è®º&quot;&gt;&lt;a href=&quot;#æ•°è®º&quot; class=&quot;headerlink&quot; title=&quot;æ•°è®º&quot;&gt;&lt;/a&gt;æ•°è®º&lt;/h2&gt;
    
    </summary>
    
      <category term="OI" scheme="http://yueyangwu.cn/categories/OI/"/>
    
      <category term="é›†è®­" scheme="http://yueyangwu.cn/categories/OI/%E9%9B%86%E8%AE%AD/"/>
    
    
  </entry>
  
  <entry>
    <title>æ¸…åŒ—å­¦å ‚noip2019-Day5</title>
    <link href="http://yueyangwu.cn/2019/07/17/%E6%B8%85%E5%8C%97%E5%AD%A6%E5%A0%82noip2019-Day5/"/>
    <id>http://yueyangwu.cn/2019/07/17/æ¸…åŒ—å­¦å ‚noip2019-Day5/</id>
    <published>2019-07-17T00:06:42.000Z</published>
    <updated>2019-07-17T15:53:14.063Z</updated>
    
    <content type="html"><![CDATA[<h2 id="åŠ¨æ€è§„åˆ’"><a href="#åŠ¨æ€è§„åˆ’" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h2><a id="more"></a><hr><h3 id="èƒŒåŒ…é—®é¢˜"><a href="#èƒŒåŒ…é—®é¢˜" class="headerlink" title="èƒŒåŒ…é—®é¢˜"></a>èƒŒåŒ…é—®é¢˜</h3><h4 id="01èƒŒåŒ…"><a href="#01èƒŒåŒ…" class="headerlink" title="01èƒŒåŒ…"></a>01èƒŒåŒ…</h4><ul><li>æ­£å¸¸01èƒŒåŒ…</li><li>å¿…é¡»è£…æ»¡ï¼Ÿ</li><li>åˆå§‹åŒ–$f[i] = 0, f[other] = -\infty$</li></ul><h4 id="å¤šé‡èƒŒåŒ…"><a href="#å¤šé‡èƒŒåŒ…" class="headerlink" title="å¤šé‡èƒŒåŒ…"></a>å¤šé‡èƒŒåŒ…</h4><ul><li>äºŒè¿›åˆ¶æ‹†åˆ†</li></ul><hr><h3 id="çƒ­èº«é¢˜"><a href="#çƒ­èº«é¢˜" class="headerlink" title="çƒ­èº«é¢˜"></a>çƒ­èº«é¢˜</h3><h4 id="æ•°å­—ä¸‰è§’å½¢"><a href="#æ•°å­—ä¸‰è§’å½¢" class="headerlink" title="æ•°å­—ä¸‰è§’å½¢+"></a>æ•°å­—ä¸‰è§’å½¢+</h4><ul><li>ç»™å‡ºä¸€ä¸ªæ•°å­—ä¸‰è§’å½¢ï¼Œä»ç¬¬ä¸€è¡Œèµ°åˆ°æœ€åä¸€è¡Œï¼Œæ¯æ¬¡åªèƒ½å¾€æ­£ä¸‹æˆ–è€…æ­£å³ä¸‹èµ°ã€‚æ¯æ¬¡ç´¯ç§¯ç»è¿‡çš„æ•°ï¼Œè¦æ±‚å’Œæœ€å¤§ã€‚</li><li>ç¬¬Xè¡Œç¬¬Yåˆ—è¿™ä¸ªç‚¹å¿…é¡»ç»è¿‡ã€‚</li><li>$O(n^2)$</li><li>é¢˜è§£ï¼šå…ˆä»ç¬¬ä¸€å±‚åˆ°ç¬¬xå±‚è·‘ä¸€éæ•°å­—ä¸‰è§’å½¢ï¼Œç„¶åæŠŠç¬¬xè¡Œé™¤ç¬¬yåˆ—æ‰€æœ‰æ•°èµ‹ä¸ºè´Ÿæ— ç©·ï¼Œç„¶åå†åœ¨ä¸‹è¾¹è·‘ä¸€æ¬¡æ•°å­—ä¸‰è§’å½¢å³å¯ã€‚</li></ul><hr><h4 id="èŠ±åº—æ©±çª—é—®é¢˜"><a href="#èŠ±åº—æ©±çª—é—®é¢˜" class="headerlink" title="èŠ±åº—æ©±çª—é—®é¢˜"></a>èŠ±åº—æ©±çª—é—®é¢˜</h4><ul><li>ç»™å®šä¸€ä¸ªn*mçš„çŸ©é˜µA(n&lt;=m)ï¼Œæ±‚ä¸€ä¸ªåºåˆ—a1,a2,â€¦,anæ»¡è¶³$1&lt;=a_1&lt;a_2&lt;â€¦&lt;a_n\leq m$ã€‚ä½¿å¾—$A[1][a_1]+A[2][a_2]+â€¦+A[n][a_n]$æœ€å¤§ã€‚</li><li>Aå¯èƒ½æœ‰è´Ÿæ•°ã€‚</li><li>$O(nm^2)$</li><li>é¢˜è§£ï¼š$f[i,j]$è¡¨ç¤ºç¬¬iè¡Œæœ€åé€‰åˆ°äº†ç¬¬jåˆ—çš„æœ€å¤§å€¼ã€‚</li><li>$f[i,j]=max{f[i-1,k]}+a[i,j](1\leq k&lt;j)$</li></ul><hr><h4 id="çƒ½ç«é—®é¢˜"><a href="#çƒ½ç«é—®é¢˜" class="headerlink" title="çƒ½ç«é—®é¢˜"></a>çƒ½ç«é—®é¢˜</h4><ul><li>ç»™å®šnä¸ªéè´Ÿæ•´æ•°ï¼Œé€‰æ‹©å…¶ä¸­è‹¥å¹²æ•°å­—ï¼Œä½¿å¾—æ¯è¿ç»­kä¸ªæ•°ä¸­è‡³å°‘æœ‰ä¸€ä¸ªæ•°è¢«é€‰å‡ºã€‚</li><li>è¦æ±‚é€‰æ‹©çš„æ•°å­—ä¹‹å’Œå°½å¯èƒ½å°ã€‚</li><li>$O(n^2)$</li><li>$f[i]$è¡¨ç¤ºä¸Šä¸€ä¸ªæ•°é€‰æ‹©çš„æ˜¯ç¬¬iä¸ªæ•°ã€‚</li><li>$f[i]=max(f[j])+a[i]$</li></ul><hr><h3 id="0-1èƒŒåŒ…è¿›é˜¶"><a href="#0-1èƒŒåŒ…è¿›é˜¶" class="headerlink" title="0/1èƒŒåŒ…è¿›é˜¶"></a>0/1èƒŒåŒ…è¿›é˜¶</h3><h4 id="0-1èƒŒåŒ…"><a href="#0-1èƒŒåŒ…" class="headerlink" title="0/1èƒŒåŒ…+"></a>0/1èƒŒåŒ…+</h4><ul><li>æœ‰nä¸ªä»»åŠ¡ï¼Œåœ¨ä¸€å°æœºå™¨ä¸Šå®Œæˆï¼Œæœºå™¨ä¸€æ¬¡åªèƒ½åšä¸€ä¸ªä»»åŠ¡ï¼Œç¬¬iä¸ªä»»åŠ¡éœ€è¦tiä¸ªè¿ç»­çš„æ—¶åˆ»å®Œæˆï¼Œæˆªæ­¢æ—¥æœŸåœ¨ç¬¬diä¸ªæ—¶åˆ»ã€‚åœ¨æˆªæ­¢æ—¥æœŸå‰å®Œæˆèƒ½å¾—åˆ°æ”¶ç›Šviã€‚</li><li>å®‰æ’é¡ºåºï¼Œä½¿å¾—æ”¶ç›Šæœ€å¤§ã€‚</li><li>$n&lt;=1000ï¼Œmax{di}&lt;=10000$</li></ul><hr><h4 id="0-1èƒŒåŒ…-1"><a href="#0-1èƒŒåŒ…-1" class="headerlink" title="0/1èƒŒåŒ…++"></a>0/1èƒŒåŒ…++</h4><ul><li>æœ‰nä¸ªç‰©å“ï¼Œä½“ç§¯ä¸ºmçš„èƒŒåŒ…ï¼Œæ¯ä¸ªç‰©å“æœ‰ä¸€ä¸ªä»·å€¼viï¼Œå’Œä½“ç§¯tiï¼Œé€‰æ‹©è‹¥å¹²ç‰©å“ï¼Œä½¿å¾—ä½“ç§¯ä¹‹å’Œä¸è¶…è¿‡mçš„æƒ…å†µä¸‹ä»·å€¼ä¹‹å’Œæœ€å¤§ã€‚</li><li>å¯¹äºä»»æ„ç¬¬iä¸ªç‰©å“ï¼Œæ±‚ç¬¬iä¸ªç‰©å“ä¸€å®šä¸åœ¨èƒŒåŒ…æ—¶çš„æœ€å¤§ä»·å€¼ã€‚</li><li>$n&lt;=1000ï¼Œm&lt;=10000$</li><li>$f[i][j]$è¡¨ç¤ºiä»1åˆ°nå–ã€‚</li><li>$g[i][j]$è¡¨ç¤ºiä»nåˆ°1å–ã€‚</li><li>ç„¶åå¯¹äºä¸å–ç¬¬pä¸ªï¼Œå³ä¸º$f[p-1][j]+f[p+1][v-j]$</li></ul><hr><h3 id="DPåŸºç¡€ä¼˜åŒ–"><a href="#DPåŸºç¡€ä¼˜åŒ–" class="headerlink" title="DPåŸºç¡€ä¼˜åŒ–"></a>DPåŸºç¡€ä¼˜åŒ–</h3><ul><li>å‡å°‘çŠ¶æ€æ•°</li><li>å‡å°‘çŠ¶æ€è½¬ç§»æ—¶é—´</li></ul><h4 id="problem-1"><a href="#problem-1" class="headerlink" title="problem 1"></a>problem 1</h4><ul><li>åœ¨æ²³ä¸Šæœ‰ä¸€åº§ç‹¬æœ¨æ¡¥ï¼Œä¸€åªé’è›™æƒ³æ²¿ç€ç‹¬æœ¨æ¡¥ä»æ²³çš„ä¸€ä¾§è·³åˆ°å¦ä¸€ä¾§ã€‚åœ¨æ¡¥ä¸Šæœ‰ä¸€äº›çŸ³å­ï¼Œé’è›™å¾ˆè®¨åŒè¸©åœ¨è¿™äº›çŸ³å­ä¸Šã€‚ç”±äºæ¡¥çš„é•¿åº¦å’Œé’è›™ä¸€æ¬¡è·³è¿‡çš„è·ç¦»éƒ½æ˜¯æ­£æ•´æ•°ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠç‹¬æœ¨æ¡¥ä¸Šé’è›™å¯èƒ½åˆ°è¾¾çš„ç‚¹çœ‹æˆæ•°è½´ä¸Šçš„ä¸€ä¸²æ•´ç‚¹ï¼š0ï¼Œ1ï¼Œâ€¦â€¦ï¼ŒLï¼ˆå…¶ä¸­Læ˜¯æ¡¥çš„é•¿åº¦ï¼‰ã€‚åæ ‡ä¸º0çš„ç‚¹è¡¨ç¤ºæ¡¥çš„èµ·ç‚¹ï¼Œåæ ‡ä¸ºLçš„ç‚¹è¡¨ç¤ºæ¡¥çš„ç»ˆç‚¹ã€‚é’è›™ä»æ¡¥çš„èµ·ç‚¹å¼€å§‹ï¼Œä¸åœçš„å‘ç»ˆç‚¹æ–¹å‘è·³è·ƒã€‚ä¸€æ¬¡è·³è·ƒçš„è·ç¦»æ˜¯Såˆ°Tä¹‹é—´çš„ä»»æ„æ­£æ•´æ•°ï¼ˆåŒ…æ‹¬S,Tï¼‰ã€‚å½“é’è›™è·³åˆ°æˆ–è·³è¿‡åæ ‡ä¸ºLçš„ç‚¹æ—¶ï¼Œå°±ç®—é’è›™å·²ç»è·³å‡ºäº†ç‹¬æœ¨æ¡¥ã€‚ </li><li>é¢˜ç›®ç»™å‡ºç‹¬æœ¨æ¡¥çš„é•¿åº¦Lï¼Œé’è›™è·³è·ƒçš„è·ç¦»èŒƒå›´S,Tï¼Œæ¡¥ä¸ŠçŸ³å­çš„ä½ç½®ã€‚ä½ çš„ä»»åŠ¡æ˜¯ç¡®å®šé’è›™è¦æƒ³è¿‡æ²³ï¼Œæœ€å°‘éœ€è¦è¸©åˆ°çš„çŸ³å­æ•°ã€‚</li><li>$1&lt;=s&lt;=t&lt;=10ï¼ŒL&lt;=10^9$ï¼ŒçŸ³å¤´ä¸ªæ•°&lt;=100</li><li>$f[x] = min( f[x-j] + stone[x] ), (s\leq j\leq t)$</li><li>ä½†æ˜¯ï¼Œxé«˜è¾¾10^9ï¼Œéš¾ä»¥è®¡ç®—</li><li>ä½†ä¹Ÿå®¹æ˜“å‘ç°ï¼Œæœ€å¤š100ä¸ªçŸ³å­ï¼Œæ‰€ä»¥å¾ˆå¤šæ—¶å€™ä¸¤ä¸ªçŸ³å­è·ç¦»éš”å¾—å¾ˆè¿œï¼Œè¿™æ—¶åä¸€çŸ³å­åæ ‡å‰çš„è‹¥å¹²ä¸ªè¿ç»­çš„ç‚¹éƒ½å¯è¾¾ã€‚</li><li>ç¨å¾®è¯æ˜ä¸€ä¸‹ï¼š</li><li>å½“ s != t æ—¶ï¼Œå­˜åœ¨ p ä½¿å¾— s &lt;= p &lt; p+1 &lt;= t</li><li>æ˜¾ç„¶æœ‰ gcd(p, p+1) = 1</li><li>å½“Q &gt;= p<em>(p-1)æ—¶ï¼Œp</em>x + (p+1)*y = Q ä¸€å®šæœ‰éè´Ÿæ•´æ•°è§£</li><li>ä¹Ÿå³ï¼Œå½“Qè¶³å¤Ÿå¤§æ—¶ï¼Œå¯ä»¥ä»…é€šè¿‡èµ°è‹¥å¹²ä¸ªpæ­¥å’Œp+1æ­¥ï¼Œä»è€Œèµ°é•¿åº¦æ°å¥½ä¸ºQçš„è·ç¦»</li></ul><hr><h4 id="ä¼ çº¸æ¡"><a href="#ä¼ çº¸æ¡" class="headerlink" title="ä¼ çº¸æ¡"></a><a href="https://www.luogu.org/problemnew/show/P1006" target="_blank" rel="noopener">ä¼ çº¸æ¡</a></h4><ul><li>ä½ æœ‰ä¸€ä¸ªn*mçš„çŸ©é˜µï¼Œç¬¬iè¡Œç¬¬jåˆ—æœ‰ai,jä¸ªé‡‘å¸ï¼Œæœ‰ä¸¤ä¸ªäººéƒ½ä»(1,1)å‡ºå‘å‘å³æˆ–è€…å‘ä¸‹èµ°åˆ°(n,m)ï¼Œå¹¶æ‹¿åˆ°ç»è¿‡çš„é‡‘å¸ï¼Œè¦æ±‚è·å¾—é‡‘å¸ä¸ªæ•°æœ€å¤šã€‚</li><li>$n,m\leq 200$</li></ul><h3 id="å‰ç¼€å’Œä¼˜åŒ–DP"><a href="#å‰ç¼€å’Œä¼˜åŒ–DP" class="headerlink" title="å‰ç¼€å’Œä¼˜åŒ–DP"></a>å‰ç¼€å’Œä¼˜åŒ–DP</h3><h4 id="èŠ±åº—æ©±çª—é—®é¢˜-1"><a href="#èŠ±åº—æ©±çª—é—®é¢˜-1" class="headerlink" title="èŠ±åº—æ©±çª—é—®é¢˜"></a><a href="https://www.luogu.org/problemnew/show/P1854" target="_blank" rel="noopener">èŠ±åº—æ©±çª—é—®é¢˜</a></h4><ul><li><p>ç»™å®šä¸€ä¸ªn*mçš„çŸ©é˜µA(n&lt;=m)ï¼Œæ±‚ä¸€ä¸ªåºåˆ—$a_1,a_2,â€¦,a_n$æ»¡è¶³$1\leq a1&lt;a2&lt;â€¦&lt;an\leq m$ã€‚ä½¿å¾—$A[1][a_1]+A[2][a_2]+â€¦+A[n][a_n]$æœ€å¤§ã€‚</p></li><li><p>Aå¯èƒ½æœ‰è´Ÿæ•°ã€‚</p></li><li><p>$O(nm)$</p></li><li><p>é¢„å¤„ç†$s(i,j)$ä¸ºç¬¬iè¡Œå‰jä¸ªçš„æœ€å¤§å€¼ï¼Œæ¯è¡Œè½¬ç§»æ—¶æ±‚æœ€å¤§å€¼ç›´æ¥$O(1)$æ›´æ–°ã€‚</p></li></ul><hr><h4 id="poj3046"><a href="#poj3046" class="headerlink" title="poj3046"></a>poj3046</h4><ul><li><p>Tç§æ•°ï¼Œç¬¬iç§æ•°æœ‰a[i]ä¸ªï¼Œæ€»å…±æœ‰Aä¸ªæ•°ã€‚é—®å–å…¶ä¸­Xä¸ªæ•°ä½œä¸ºå­é›†ï¼Œæœ‰å¤šå°‘ç§ä¸åŒçš„å­é›†ã€‚è®¡ç®—L&lt;=X&lt;=Hçš„å­é›†æ•°ä¹‹å’Œï¼Œç»“æœmod 1000000</p></li><li><p>$1\leq T\leq 1000, 1\leq a[i]\leq 100$ï¼Œå³$1 \leq  A \leq  100000, L\leq H\leq A$</p></li><li><p>åŸºæœ¬æƒ³æ³•ï¼šå¯ä»¥ç±»æ¯”ä¸ºæŠŠæ±‚maxæ”¹ä¸ºæ±‚sumçš„å¤šé‡èƒŒåŒ…ï¼Œæ‰€ä»¥åŸºæœ¬çš„é€’æ¨å…³ç³»å¾ˆå¥½å†™ï¼Œdp(i,j) = sum dp(i-1)(j-k) å…¶ä¸­k = 0~a[i] ï¼Œdp(i,j)è¡¨ç¤ºå‰iç§æ•°ï¼Œå…¶ä¸­jä¸ªæ•°ä½œä¸ºå­é›†çš„å–æ³•ã€‚</p></li><li><p>å¾ˆæ˜æ˜¾ï¼Œè¿™æ ·åšä¼šè¶…æ—¶ã€è¶…ç©ºé—´ï¼Œè¶…ç©ºé—´å¥½è¯´ï¼Œæ˜¯åŸºæœ¬çš„æ»šåŠ¨æ•°ç»„ã€‚æˆ‘ä»¬ä¸»è¦è§£å†³è¶…æ—¶çš„é—®é¢˜ã€‚</p></li></ul><hr><h3 id="å•è°ƒæ€§ä¼˜åŒ–"><a href="#å•è°ƒæ€§ä¼˜åŒ–" class="headerlink" title="å•è°ƒæ€§ä¼˜åŒ–"></a>å•è°ƒæ€§ä¼˜åŒ–</h3><h4 id="æœ€é•¿ä¸Šå‡å­åºåˆ—é—®é¢˜"><a href="#æœ€é•¿ä¸Šå‡å­åºåˆ—é—®é¢˜" class="headerlink" title="æœ€é•¿ä¸Šå‡å­åºåˆ—é—®é¢˜"></a>æœ€é•¿ä¸Šå‡å­åºåˆ—é—®é¢˜</h4><ul><li>æœ‰nä¸ªæ•°ï¼Œæ‰¾åˆ°ä¸€ä¸ªå­åºåˆ—ï¼Œä½¿å¾—è¿™äº›æ•°å•è°ƒé€’å¢ï¼Œä¸”è¿™ä¸ªå­åºåˆ—é•¿åº¦æœ€å¤§ã€‚</li><li>$O(nlogn)$</li><li>æ™®é€šæ–¹æ³•ï¼Œ$f[i]=max{f[j]}+1(a_j&lt;a_iä¸”j&lt;i)$</li><li>ä¼˜åŒ–ï¼Œå¯¹äºæœ€é•¿ä¸Šå‡å­åºåˆ—é•¿åº¦ä¸ºiçš„ï¼Œä¸€å®šæœ‰ç»“å°¾æœ€ä½é«˜åº¦$h_i$å¹¶ä¸”è¿™ä¸ªé«˜åº¦ä¸€å®šæ˜¯å•è°ƒé€’å¢çš„ï¼Œæ‰€ä»¥ï¼š<ol><li>æšä¸¾iä»1é“n</li><li>å¯¹äºå½“å‰$a_i$åœ¨$h_i$ä¸Šåšä¸€ä¸ªäºŒåˆ†ã€‚</li><li>æ›´æ–°fæ•°ç»„</li><li>é€šè¿‡fçš„æ›´æ–°æ¥æ›´æ–°é•¿åº¦ä¸º$f[i]$çš„æœ«å°¾æœ€ä½é«˜åº¦</li></ol></li></ul><hr><h4 id="ç»å…¸é—®é¢˜"><a href="#ç»å…¸é—®é¢˜" class="headerlink" title="ç»å…¸é—®é¢˜"></a>ç»å…¸é—®é¢˜</h4><ul><li>ç»™å®šä¸€ä¸ªé˜Ÿåˆ—ï¼Œç»´æŠ¤ä¸‰ä¸ªæ“ä½œã€‚<ol><li>å°†ä¸€ä¸ªæ•°xå‹å…¥é˜Ÿåˆ—ä¸­ã€‚</li><li>æ±‚é˜Ÿåˆ—ä¸­æ•°çš„æœ€å¤§å€¼ã€‚</li><li>å¼¹å‡ºé˜Ÿåˆ—å°¾çš„æ•°ã€‚</li></ol></li><li>$Q&lt;=1000$ã€‚</li><li>$Q&lt;=100000$ã€‚</li></ul><hr><h4 id="çƒ½ç«ä¼ é€’"><a href="#çƒ½ç«ä¼ é€’" class="headerlink" title="çƒ½ç«ä¼ é€’"></a>çƒ½ç«ä¼ é€’</h4><ul><li>ç»™å®šnä¸ªéè´Ÿæ•´æ•°ï¼Œé€‰æ‹©å…¶ä¸­è‹¥å¹²æ•°å­—ï¼Œä½¿å¾—æ¯è¿ç»­kä¸ªæ•°ä¸­è‡³å°‘æœ‰ä¸€ä¸ªæ•°è¢«é€‰å‡ºã€‚</li><li>è¦æ±‚é€‰æ‹©çš„æ•°å­—ä¹‹å’Œå°½å¯èƒ½å°ã€‚</li><li>$O(n)$</li><li>ä»¤$f[i]$è¡¨ç¤ºåªè€ƒè™‘å‰iä¸ªæ•°ï¼Œå¹¶ä¸”ç¬¬iä¸ªæ•°ä¹Ÿé€‰æ‹©äº†ï¼Œå¹¶ä¸”æ­¤æ—¶$1$åˆ°$i$æ˜¯æ»¡è¶³æ¡ä»¶çš„è¿™ä¸ªæœ€å°æ€»å’Œæ˜¯å¤šå°‘ã€‚</li><li>æœ‰$f[i]=min{f[j]}+a[i]$ï¼Œå…¶ä¸­j-iä¸è¶…è¿‡kã€‚</li><li>æ—¶é—´å¤æ‚åº¦$O(nk)$ã€‚</li><li>è€ƒè™‘ä¼˜åŒ–</li></ul><hr><h4 id="æœ€å¤§å­—æ®µå’Œ"><a href="#æœ€å¤§å­—æ®µå’Œ" class="headerlink" title="æœ€å¤§å­—æ®µå’Œ"></a>æœ€å¤§å­—æ®µå’Œ</h4><ul><li>æœ‰nä¸ªæ•°ï¼Œè¿æˆä¸€ä¸ªç¯ï¼Œæ±‚æœ€å¤§å­æ®µå’Œã€‚ï¼ˆå³å¯¹äºæ‰€æœ‰åŒºé—´çš„å’Œæ±‚æœ€å¤§å€¼ï¼‰</li><li>æ•°å­—å¯ä»¥ä¸ºè´Ÿã€‚</li><li>$n&lt;=1000000$ã€‚</li></ul><hr><h4 id="kèƒŒåŒ…é—®é¢˜-å¤šé‡èƒŒåŒ…"><a href="#kèƒŒåŒ…é—®é¢˜-å¤šé‡èƒŒåŒ…" class="headerlink" title="kèƒŒåŒ…é—®é¢˜(å¤šé‡èƒŒåŒ…)"></a>kèƒŒåŒ…é—®é¢˜(å¤šé‡èƒŒåŒ…)</h4><ul><li>ä¸€ä¸ªå®¹é‡ä¸ºmçš„èƒŒåŒ…ï¼Œæœ‰nä¸ªç‰©å“ï¼Œç¬¬iä¸ªç‰©å“çš„ä½“ç§¯ä¸ºwiï¼Œä»·å€¼ä¸ºciï¼Œæœ‰kiä¸ªã€‚</li><li>é€‰æ‹©è‹¥å¹²ç‰©å“ï¼Œä½¿å¾—ä½“ç§¯æ€»å’Œä¸è¶…è¿‡mçš„æƒ…å†µä¸‹ä»·å€¼æ€»å’Œæœ€å¤§ã€‚</li><li>èƒ½å¦åˆ©ç”¨å•è°ƒé˜Ÿåˆ—è¿›è¡Œä¼˜åŒ–ï¼Ÿ</li><li>$O(nm)$</li></ul><hr><h3 id="æ ‘å½¢DP"><a href="#æ ‘å½¢DP" class="headerlink" title="æ ‘å½¢DP"></a>æ ‘å½¢DP</h3><h4 id="æ²¡æœ‰ä¸Šå¸çš„èˆä¼š"><a href="#æ²¡æœ‰ä¸Šå¸çš„èˆä¼š" class="headerlink" title="æ²¡æœ‰ä¸Šå¸çš„èˆä¼š"></a>æ²¡æœ‰ä¸Šå¸çš„èˆä¼š</h4><ul><li>ç»™å®šä¸€æ£µæœ‰ç‚¹æƒçš„æ ‘ï¼Œé€‰æ‹©è‹¥å¹²ç‚¹ï¼Œä½¿å¾—é€‰å‡ºçš„ç‚¹ä»»æ„ä¸¤ä¸ªç‚¹éƒ½ä¸ç›¸è¿ï¼Œä¸”é€‰å‡ºçš„ç‚¹æƒå’Œæœ€å¤§ã€‚</li><li>$n\leq 100000$ã€‚</li></ul><hr><h4 id="æ²¡æœ‰ä¸Šå¸çš„èˆä¼š-1"><a href="#æ²¡æœ‰ä¸Šå¸çš„èˆä¼š-1" class="headerlink" title="æ²¡æœ‰ä¸Šå¸çš„èˆä¼š+"></a>æ²¡æœ‰ä¸Šå¸çš„èˆä¼š+</h4><ul><li>ç»™å®šä¸€ä¸ªæ ‘å¥—ç¯ï¼Œé€‰æ‹©è‹¥å¹²ç‚¹ï¼Œä½¿å¾—é€‰å‡ºçš„ç‚¹ä»»æ„ä¸¤ä¸ªç‚¹éƒ½ä¸ç›¸è¿ï¼Œä¸”é€‰å‡ºçš„ç‚¹æƒå’Œæœ€å¤§ã€‚ï¼ˆåŸºç¯æ ‘ï¼‰</li><li>$n&lt;=100000$ã€‚<h4 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h4></li><li>æœ‰ç¯æ€ä¹ˆåŠï¼Ÿ</li><li>åŸºç¯æ ‘ä¸€èˆ¬å…ˆæŠŠæ ‘ä¸Šçš„æƒ…å†µå¤„ç†ã€‚</li><li>å…ˆæ‰¾åˆ°ç¯ï¼ŒæŠŠæ¯ä¸ªç¯ä¸Šçš„ç‚¹ä¸ºæ ¹ï¼Œè¿›è¡Œè®¡ç®—ã€‚</li><li>è¿™æ ·å¯ä»¥æŠŠåŸºç¯æ ‘å˜æˆç¯ï¼Œè¿›è¡Œç ´ç¯æˆé“¾ã€‚</li><li>$f(i,0/1,0/1)$è®°å½•å‰iä¸ªï¼Œç¬¬iä¸ªæ˜¯å¦è¢«é€‰ï¼Œå’Œç¬¬ä¸€ä¸ªæ˜¯å¦è¢«é€‰ã€‚</li><li>$f(i,1,0/1)=f(i-1,0,0/1)+a(i,1)$</li><li>$f(i,0,0/1)=max(f(i-1,0,0/1),f(i-1,1,0/1))+a(i,0)$</li><li>é‚£ä¹ˆç­”æ¡ˆå°±æ˜¯$f(k,1,0)$æˆ–è€…$f(k,0,0/1)$</li></ul><hr><h4 id="æœ€è¿œè·ç¦»"><a href="#æœ€è¿œè·ç¦»" class="headerlink" title="æœ€è¿œè·ç¦»"></a>æœ€è¿œè·ç¦»</h4><ul><li>ç»™å®šä¸€æ£µå¸¦è¾¹æƒçš„æ ‘ï¼Œæ±‚æœ€è¿œçš„ä¸¤ä¸ªç‚¹è·ç¦»æ˜¯å¤šå°‘ã€‚<h4 id="åˆ†æ-1"><a href="#åˆ†æ-1" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h4></li><li>å¯¹äºæ¯ä¸€ä¸ªç‚¹ï¼Œæ±‚å…¶å­æ ‘ä¸Šçš„æœ€é•¿é“¾aå’Œæ¬¡é•¿é“¾bï¼Œç„¶åæ±‚$a_i+b_i$çš„æœ€å¤§å€¼ã€‚</li></ul><hr><h4 id="å¿«é¤åº—"><a href="#å¿«é¤åº—" class="headerlink" title="å¿«é¤åº—"></a>å¿«é¤åº—</h4><ul><li>ç»™å®šä¸€æ£µå¸¦è¾¹æƒæœ‰nä¸ªç‚¹çš„æ ‘ï¼Œè¦æ±‚ä»¥æ¯ä¸ªç‚¹å‡ºå‘ï¼Œæœ€è¿œèƒ½èµ°åˆ°å“ªé‡Œï¼Œè·ç¦»æ˜¯å¤šå°‘ã€‚</li><li>$n\leq 100000$ã€‚<h4 id="åˆ†æ-2"><a href="#åˆ†æ-2" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h4></li><li>è®¡ç®—æ¯ä¸ªç‚¹èƒ½å‘ä¸‹èµ°çš„æœ€è¿œè·ç¦»$f(x)$</li><li>å¯¹äºæ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç»´æŠ¤$g(x)$è¡¨ç¤ºè¿™ä¸ªç‚¹å‘ä¸Šèµ°çš„æœ€é•¿è·ç¦»ã€‚æ‰€ä»¥$g(x)=max(g(fa),f(bro)+len(bro,fa))+len(x,fa)$</li></ul><hr><h3 id="çŠ¶æ€å‹ç¼©DP"><a href="#çŠ¶æ€å‹ç¼©DP" class="headerlink" title="çŠ¶æ€å‹ç¼©DP"></a>çŠ¶æ€å‹ç¼©DP</h3><ul><li>çŠ¶æ€å‹ç¼©ï¼Œä¸€èˆ¬ç”¨ä¸€ä¸ªè¡¨ç¤ºçŠ¶æ€çš„æ•°å­—æ¥è¡¨å¾ä¸€å †å…ƒç´ çš„çŠ¶æ€ï¼Œå¦‚ç”¨2^10ä»¥å†…çš„äºŒè¿›åˆ¶æ•°è¡¨ç¤º10ä¸ªå…ƒç´ çš„æœ‰æ— ï¼ˆ0/1ï¼‰</li><li>æœ€å¤§ç‰¹å¾ï¼šæŸä¸€ä¸ªé‡è¦æ•°æ®çš„è§„æ¨¡ç‰¹åˆ«å°</li><li>å¸¸è§ä¼˜åŒ–ï¼šé¢„å¤„ç†å“ªäº›çŠ¶æ€æ˜¯åˆæ³•çš„ï¼Œä»¥åŠçŠ¶æ€è½¬ç§»çš„å¯è¡Œæ€§ï¼Œå‡å°‘çŠ¶æ€æ•°å’ŒçŠ¶æ€è½¬ç§»æ•°ã€‚<h4 id="äº’ä¸ä¾µçŠ¯"><a href="#äº’ä¸ä¾µçŠ¯" class="headerlink" title="äº’ä¸ä¾µçŠ¯+"></a>äº’ä¸ä¾µçŠ¯+</h4></li><li>åœ¨NÃ—Nçš„æ£‹ç›˜é‡Œé¢æ”¾è‹¥å¹²å›½ç‹ï¼Œä½¿ä»–ä»¬äº’ä¸æ”»å‡»ï¼Œå…±æœ‰å¤šå°‘ç§æ‘†æ”¾æ–¹æ¡ˆã€‚å›½ç‹èƒ½æ”»å‡»åˆ°å®ƒä¸Šä¸‹å·¦å³ï¼Œä»¥åŠå·¦ä¸Šå·¦ä¸‹å³ä¸Šå³ä¸‹å…«ä¸ªæ–¹å‘ä¸Šé™„è¿‘çš„å„ä¸€ä¸ªæ ¼å­ï¼Œå…±8ä¸ªæ ¼å­ã€‚</li><li>N&lt;=15ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;åŠ¨æ€è§„åˆ’&quot;&gt;&lt;a href=&quot;#åŠ¨æ€è§„åˆ’&quot; class=&quot;headerlink&quot; title=&quot;åŠ¨æ€è§„åˆ’&quot;&gt;&lt;/a&gt;åŠ¨æ€è§„åˆ’&lt;/h2&gt;
    
    </summary>
    
      <category term="OI" scheme="http://yueyangwu.cn/categories/OI/"/>
    
      <category term="é›†è®­" scheme="http://yueyangwu.cn/categories/OI/%E9%9B%86%E8%AE%AD/"/>
    
    
  </entry>
  
  <entry>
    <title>æ¸…åŒ—å­¦å ‚noip2019-Day4</title>
    <link href="http://yueyangwu.cn/2019/07/16/%E6%B8%85%E5%8C%97%E5%AD%A6%E5%A0%82noip2019-Day4/"/>
    <id>http://yueyangwu.cn/2019/07/16/æ¸…åŒ—å­¦å ‚noip2019-Day4/</id>
    <published>2019-07-16T00:16:20.000Z</published>
    <updated>2019-07-16T10:19:37.204Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å›¾è®º"><a href="#å›¾è®º" class="headerlink" title="å›¾è®º"></a>å›¾è®º</h2><a id="more"></a><hr><h3 id="Boruvkaç®—æ³•æ±‚æœ€å°ç”Ÿæˆæ ‘"><a href="#Boruvkaç®—æ³•æ±‚æœ€å°ç”Ÿæˆæ ‘" class="headerlink" title="Boruvkaç®—æ³•æ±‚æœ€å°ç”Ÿæˆæ ‘"></a>Boruvkaç®—æ³•æ±‚æœ€å°ç”Ÿæˆæ ‘</h3><ul><li>æ¯æ¬¡å¯¹æ¯ä¸ªå½“å‰çš„è¿é€šåˆ†é‡éƒ½æ‰¾åˆ°è¿å‡ºçš„æœ€çŸ­è¾¹ï¼Œå°è¯•<br>ä¸€åŒåŠ å…¥ã€‚</li><li>æ­¤ç®—æ³•çš„æ­£ç¡®æ€§è¯æ˜ä¸Prim ç®—æ³•ç±»ä¼¼ï¼Œå¯ä»¥çœ‹ä½œå¹¶è¡Œ<br>çš„Prim.</li><li>è€Œä¸”æ›´å¥½çš„æ€§è´¨æ˜¯ï¼Œå¦‚æœè¿™äº›æœ€çŸ­è¾¹ä¸¤ä¸¤ä¸åŒï¼Œä¸€å®šæ˜¯</li><li>å¯ä»¥åŠ å…¥çš„ï¼ˆè‹¥æœ‰ç¯ï¼Œç¯ä¸Šæœ€å¤§è¾¹æ ¹æœ¬ä¸ä¼šè¢«é€‰ï¼ï¼‰ã€‚<br>åŠ å…¥å®Œåæ–°ä¸€è½®ç¼©ç‚¹å³å¯ã€‚</li><li>è¾¹æƒç›¸åŒçš„æƒ…å†µç”¨ä¸€äº›æ–¹æ³•ç ´ç¯ï¼Œæ¯”å¦‚æƒç›¸åŒæ—¶é€‰åºå·<br>æœ€å°çš„ã€‚</li><li>æœŸæœ›å¤æ‚åº¦çº¿æ€§ï¼Œä¼˜äºæ™®é€šPrimã€å †ä¼˜åŒ–Primã€Kruskalï¼ˆæ³¨æ„æ˜¯å¤§å¤§ä¼˜äºKruskalï¼Œå› ä¸ºKruskal ç“¶é¢ˆæ˜¯æ’åºè€Œä¸æ˜¯å¹¶æŸ¥é›†ï¼Œåè€…å¯è§†ä½œçº¿æ€§ï¼‰ã€‚</li><li>æœ€åå¤æ‚åº¦ä¸Kruskal åŒé˜¶ã€‚</li></ul><hr><h3 id="kçŸ­è·¯ï¼Œkå°ç”Ÿæˆæ ‘"><a href="#kçŸ­è·¯ï¼Œkå°ç”Ÿæˆæ ‘" class="headerlink" title="kçŸ­è·¯ï¼Œkå°ç”Ÿæˆæ ‘"></a>kçŸ­è·¯ï¼Œkå°ç”Ÿæˆæ ‘</h3><ul><li>ä»¥ä¸Šç†è®ºç®—æ³•çš„æ‹“å±•è¾ƒå¤šï¼Œå¦‚æ¬¡å°ç”Ÿæˆæ ‘ã€æ¬¡çŸ­è·¯ä¹ƒè‡³<br>æ›´ä¸€èˆ¬çš„k çŸ­è·¯ã€k å°ç”Ÿæˆæ ‘ï¼Œè¿™æ–¹é¢å¯ä»¥è¯¦è§ä¿é¼åŠ›çš„å›½å®¶é›†è®­é˜Ÿè®ºæ–‡ï¼Œæœ‰æ¯”è¾ƒç³»ç»Ÿçš„æ•´ç†ã€‚</li></ul><hr><h3 id="ç»å…¸é¢˜å‹"><a href="#ç»å…¸é¢˜å‹" class="headerlink" title="ç»å…¸é¢˜å‹"></a>ç»å…¸é¢˜å‹</h3><h4 id="2-SAT"><a href="#2-SAT" class="headerlink" title="2-SAT"></a>2-SAT</h4><ul><li><p>å©šç¤¼é—®é¢˜</p><p>  nå¯¹æœªå©šå¤«å¦»æƒ³ä¸¾è¡Œå©šç¤¼ï¼Œæ¯å¯¹æœ‰ä¸¤ä¸ªå¯ä¾›é€‰æ‹©çš„æ—¶é—´ï¼Œä¸€ä¸ªå¸ä»ªèƒ½å¦å‚ä¸æ‰€æœ‰å©šç¤¼ï¼Ÿ</p></li><li><p>æœ¬é¢˜ç”šè‡³ä¸éœ€è¦åˆ©ç”¨æ—¶é—´çš„è¿ç»­æ€§è´¨ï¼Œç›´æ¥æŠŠè¿™é“ç‰¹æ®Š<br>é¢˜è½¬åŒ–ä¸ºä¸€èˆ¬æƒ…å†µï¼Œä»»æ„ç»™å®šæ¯ä¸¤å¯¹å¤«å¦»çš„ä¸¤ä¸ªæ—¶æ®µçš„å†²çªæƒ…å†µä¹Ÿå¯è§£å†³ã€‚</p></li><li><p>æ¯ä¸€å¯¹æœªå©šå¤«å¦»æ‹†ç‚¹ï¼Œä¸å¦¨è®°ä¸ºi1 å’Œi2ï¼Œé‚£ä¹ˆi1 å’Œj1<br>å†²çªå°±æ„å‘³ç€i1 å¿…é€‰j2ï¼Œj1 å¿…é€‰i2ï¼Œå› æ­¤ç”±i1 å‘j2 è¿è¾¹ï¼Œj1 å‘i2 è¿è¾¹ã€‚</p></li><li><p>æ¯å¯¹å¿…é¡»é€‰ä¸”ä»…é€‰ä¸€ä¸ªï¼Œä¸”é€‰äº†ä¸€ä¸ªç‚¹å¿…é¡»é€‰å®ƒçš„åç»§ã€‚</p></li><li><p>å®¹æ˜“æƒ³åˆ°æŒ‰ç…§æ‹“æ‰‘åºè´ªå¿ƒï¼Œä½†ä¸ºäº†å¾—åˆ°æ‹“æ‰‘åºå¿…é¡»å…ˆæ±‚<br>å¼ºè¿é€šåˆ†é‡ç¼©ç‚¹ã€‚</p></li><li><p>è‹¥æŸå¯¹å¤«å¦»çš„ä¸¤ç‚¹åœ¨åŒä¸€ä¸ªå¼ºè¿é€šåˆ†é‡ä¸­æ˜¾ç„¶æ— è§£ã€‚<br>é€†æ‹“æ‰‘åºé€‰ç‚¹å³å¯ï¼Œæ¯é€‰ä¸€ä¸ªç‚¹ç«‹åˆ»åˆ é™¤è¯¥å¯¹å¤«å¦»å¦ä¸€<br>ä¸ªç‚¹ï¼Œå¹¶é€’å½’åˆ é™¤å‰é©±ã€‚</p></li><li><p>ç”±äºåŸå›¾çš„å¯¹ç§°æ€§ï¼Œç¼©ç‚¹åä»ç„¶å¯¹ç§°ï¼Œå› æ­¤è¿™ç§è´ªå¿ƒçš„<br>æ­£ç¡®æ€§æ˜“è¯ã€‚</p></li></ul><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">int</span> n, m;</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Edge</span>&#123;</span></span><br><span class="line">    <span class="hljs-keyword">int</span> to, nxt;</span><br><span class="line">&#125;e[<span class="hljs-number">4000009</span>];</span><br><span class="line"><span class="hljs-keyword">int</span> head[<span class="hljs-number">2000009</span>], tot;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">int</span> dfn[<span class="hljs-number">2000009</span>], low[<span class="hljs-number">2000009</span>], Time, color[<span class="hljs-number">2000009</span>], group;</span><br><span class="line"><span class="hljs-keyword">bool</span> vis[<span class="hljs-number">2000009</span>];</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span>&#123;</span><br><span class="line">    e[++tot].to = y;</span><br><span class="line">    e[tot].nxt = head[x];</span><br><span class="line">    head[x] = tot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">stack</span>&lt;<span class="hljs-keyword">int</span>&gt; st;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">tarjan</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    low[x] = dfn[x] = ++Time;</span><br><span class="line">    vis[x] = <span class="hljs-number">1</span>;</span><br><span class="line">    st.push(x);</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[x]; i; i = e[i].nxt)&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> y = e[i].to;</span><br><span class="line">        <span class="hljs-keyword">if</span>(!dfn[y])&#123;</span><br><span class="line">            tarjan(y);</span><br><span class="line">            low[x] = min(low[x], low[y]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(vis[y])&#123;</span><br><span class="line">            low[x] = min(low[x], dfn[y]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">if</span>(dfn[x] == low[x])&#123;</span><br><span class="line">        group++;</span><br><span class="line">        <span class="hljs-keyword">while</span>(st.top() != x &amp;&amp; !st.empty())&#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> q = st.top();</span><br><span class="line">            st.pop();</span><br><span class="line">            color[q] = group;</span><br><span class="line">            vis[q] = <span class="hljs-number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        color[st.top()] = group;</span><br><span class="line">        vis[x] = <span class="hljs-number">0</span>;</span><br><span class="line">        st.pop();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d"</span>, &amp;n, &amp;m);</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i++)&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> x, xv, y, yv;</span><br><span class="line">        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d%d%d"</span>, &amp;x, &amp;xv, &amp;y, &amp;yv);</span><br><span class="line">        add(x + !xv * n, y + yv * n);</span><br><span class="line">        add(y + !yv * n, x + xv * n);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">2</span> * n; i++)&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span>(!dfn[i]) tarjan(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span>(color[i] == color[i + n])&#123;</span><br><span class="line">            <span class="hljs-built_in">printf</span>(<span class="hljs-string">"IMPOSSIBLE\n"</span>);</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"POSSIBLE\n"</span>);</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d "</span>, color[i] &gt; color[i + n]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h4 id="å¸¦é”æœ€çŸ­è·¯"><a href="#å¸¦é”æœ€çŸ­è·¯" class="headerlink" title="å¸¦é”æœ€çŸ­è·¯"></a>å¸¦é”æœ€çŸ­è·¯</h4><ul><li><p>é’¥åŒ™è·¯å¾„</p><p>  å›¾çš„ä¸€äº›è¾¹ä¸Šæœ‰é”ï¼Œå…±æœ‰k ç±»é”ï¼ˆk éå¸¸å°ï¼Œ10 ä»¥å†…ï¼‰ï¼Œä¸€äº›è¾¹ä¸Šæœ‰é’¥åŒ™ï¼Œæ¯ç§é’¥åŒ™å¯¹åº”ä¸€ç§é”ï¼Œæ±‚æœ€çŸ­è·¯ã€‚</p></li><li><p>æ˜¾ç„¶æ‰‹ä¸Šçš„é’¥åŒ™ä¸åŒèƒ½èµ°çš„è·¯å¾„æˆªç„¶ä¸åŒï¼Œåº”è¯¥æŠŠä¸åŒçš„æ‰‹ä¸Šé’¥åŒ™çŠ¶æ€è§†ä¸ºä¸åŒçŠ¶æ€ã€‚</p></li><li><p>ç”¨d[i][j] è¡¨ç¤ºé’¥åŒ™çŠ¶æ€ä¸ºj æ—¶èµ°åˆ°ç‚¹i çš„æœ€çŸ­è·ç¦»ï¼Œj éœ€è¦è®°å½•æ‰€æœ‰ç§ç±»é’¥åŒ™çš„æœ‰æ— ã€‚</p></li><li><p>æ­¤ç±»é—®é¢˜å®¹æ˜“é‡åˆ°è½¬ç§»é¡ºåºçš„é—®é¢˜ï¼Œæ‰€å¹¸æœ¬é¢˜ä¸­é’¥åŒ™åªå¯èƒ½è¶Šæ¥è¶Šå¤šä¸å¯èƒ½å˜å°‘ï¼ŒæŒ‰é’¥åŒ™æ•°ä»å°‘åˆ°å¤šå¤„ç†å½“å‰é’¥åŒ™çŠ¶æ€åˆ°æ‰€æœ‰ç‚¹çš„è·ç¦»å³å¯ï¼Œç›¸åŒé’¥åŒ™æ•°æ›´æ–°é¡ºåºä»»æ„ï¼Œæ³¨æ„è®¡ç®—æ—¶ä¸ä»…è¦æ›´æ–°æœ¬å±‚è¿˜è¦ç»™é’¥åŒ™æ•°æ›´å¤šçš„çŠ¶æ€æå‰æ›´æ–°â€œåˆå§‹å€¼â€ã€‚</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å›¾è®º&quot;&gt;&lt;a href=&quot;#å›¾è®º&quot; class=&quot;headerlink&quot; title=&quot;å›¾è®º&quot;&gt;&lt;/a&gt;å›¾è®º&lt;/h2&gt;
    
    </summary>
    
      <category term="OI" scheme="http://yueyangwu.cn/categories/OI/"/>
    
      <category term="é›†è®­" scheme="http://yueyangwu.cn/categories/OI/%E9%9B%86%E8%AE%AD/"/>
    
    
  </entry>
  
  <entry>
    <title>æ¸…åŒ—å­¦å ‚noip2019-Day3</title>
    <link href="http://yueyangwu.cn/2019/07/15/%E6%B8%85%E5%8C%97%E5%AD%A6%E5%A0%82noip2019-Day3/"/>
    <id>http://yueyangwu.cn/2019/07/15/æ¸…åŒ—å­¦å ‚noip2019-Day3/</id>
    <published>2019-07-15T00:10:20.000Z</published>
    <updated>2019-07-15T08:11:49.502Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h2><a id="more"></a><hr><h2 id="å¹¶æŸ¥é›†"><a href="#å¹¶æŸ¥é›†" class="headerlink" title="å¹¶æŸ¥é›†"></a>å¹¶æŸ¥é›†</h2><h3 id="problem-1"><a href="#problem-1" class="headerlink" title="problem 1"></a>problem 1</h3><h4 id="UVA1329-Corporative-Network"><a href="#UVA1329-Corporative-Network" class="headerlink" title="UVA1329 Corporative Network"></a><a href="https://www.luogu.org/problemnew/show/UVA1329" target="_blank" rel="noopener">UVA1329 Corporative Network</a></h4><p><img src="/img/d3p1.png" alt="d3p1"></p><h4 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h4><ul><li><p>æ³¨æ„Iæ“ä½œä¸å¹¶æŸ¥é›†çš„åŠ è¾¹æ“ä½œç±»ä¼¼</p></li><li><p>åªéœ€åœ¨ç»´æŠ¤çˆ¶äº²èŠ‚ç‚¹æ—¶ï¼ŒåŒæ—¶ç»´æŠ¤åˆ°çˆ¶äº²èŠ‚ç‚¹çš„è·ç¦»å³å¯</p><p>  <img src="/img/d3p2.png" alt="d3p2"></p></li></ul><p>ç®€å•æ»´å¾ˆ</p><hr><h2 id="çº¿æ®µæ ‘"><a href="#çº¿æ®µæ ‘" class="headerlink" title="çº¿æ®µæ ‘"></a>çº¿æ®µæ ‘</h2><h3 id="problem-1-1"><a href="#problem-1-1" class="headerlink" title="problem 1"></a>problem 1</h3><h4 id="poj2892"><a href="#poj2892" class="headerlink" title="poj2892"></a>poj2892</h4><p>é¢˜ç›®æè¿°ï¼š<br>    æœ‰ä¸€ä¸ªé•¿åº¦ä¸ºnçš„é“¾ï¼Œåˆå§‹æ¯ä¸ªç‚¹éƒ½æ˜¯å®Œå¥½çš„<br>    éœ€è¦æ”¯æŒmä¸ªæ“ä½œ</p><ul><li><p>(1) D xï¼šè¡¨ç¤ºå°†ç¬¬xä¸ªç‚¹æ‘§æ¯</p></li><li><p>(2) Q xï¼šè¡¨ç¤ºè¯¢é—®åŒ…å«xçš„æœªè¢«æ‘§æ¯çš„æœ€é•¿å­é“¾é•¿åº¦</p></li><li><p>(3)  R  ï¼šè¡¨ç¤ºæ’¤é”€ä¸Šä¸€ä¸ªDæ“ä½œ</p></li><li><p>æ³¨æ„æ¯ä¸ªç‚¹å¯èƒ½è¢«æ‘§æ¯å¤šæ¬¡</p><h4 id="é¢˜è§£-1"><a href="#é¢˜è§£-1" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h4></li><li><p>æ˜¾ç„¶ï¼Œæ¯æ¬¡ç›´æ¥ä¿®æ”¹ï¼Œä½¿ç”¨forå¾ªç¯åˆ¤æ–­ä¼šè¶…æ—¶ã€‚<br>  è¿™æ—¶å°±éœ€è¦ä½¿ç”¨æ•°æ®ç»“æ„ç»´æŠ¤ã€‚<br>  è€ƒè™‘ä½¿ç”¨çº¿æ®µæ ‘ã€‚</p></li><li><p>åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¿å­˜çš„ä¿¡æ¯</p><ol><li>åŒºé—´é‡Œçš„ç‚¹æ˜¯å¦å…¨éƒ½æ˜¯å®Œå¥½çš„</li><li>ä»åŒºé—´å·¦ç«¯ç‚¹å¼€å§‹å‘å³å»¶ä¼¸æœ€é•¿å®Œå¥½å­é“¾</li><li>ä»åŒºé—´å³ç«¯ç‚¹å¼€å§‹å‘å·¦å»¶ä¼¸æœ€é•¿å®Œå¥½å­é“¾</li></ol></li></ul><p>ä¿®æ”¹æ—¶ä¿®æ”¹æ¯ä¸ªå—å½±å“çš„çº¿æ®µæ ‘èŠ‚ç‚¹</p><p>æŸ¥è¯¢æ—¶æ‹†åˆ†åŒºé—´æŸ¥è¯¢</p><p><img src="/img/d3p3.png" alt><br><img src="/img/d3p4.png" alt><br><img src="/img/d3p5.png" alt><br><img src="/img/d3p6.png" alt></p><hr><h3 id="problem-2"><a href="#problem-2" class="headerlink" title="problem 2"></a>problem 2</h3><h4 id="çº¿æ®µæ ‘2"><a href="#çº¿æ®µæ ‘2" class="headerlink" title="çº¿æ®µæ ‘2"></a><a href="https://www.luogu.org/problemnew/show/P3373" target="_blank" rel="noopener">çº¿æ®µæ ‘2</a></h4><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;</span><br><span class="line"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> MAXN=<span class="hljs-number">100000</span>;</span><br><span class="line">ll tree[<span class="hljs-number">4</span>*MAXN+<span class="hljs-number">10</span>],add[<span class="hljs-number">4</span>*MAXN+<span class="hljs-number">10</span>],mul[<span class="hljs-number">4</span>*MAXN+<span class="hljs-number">10</span>],a[MAXN+<span class="hljs-number">10</span>],p;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(<span class="hljs-keyword">int</span> k,<span class="hljs-keyword">int</span> l,<span class="hljs-keyword">int</span> r)</span></span>&#123;</span><br><span class="line">add[k]=<span class="hljs-number">0</span>;mul[k]=<span class="hljs-number">1</span>;</span><br><span class="line"><span class="hljs-keyword">if</span>(l==r)&#123;</span><br><span class="line">tree[k]=a[r];</span><br><span class="line"><span class="hljs-keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-keyword">int</span> mid=(l+r)&gt;&gt;<span class="hljs-number">1</span>;</span><br><span class="line">build(k&lt;&lt;<span class="hljs-number">1</span>,l,mid);</span><br><span class="line">build(k&lt;&lt;<span class="hljs-number">1</span>|<span class="hljs-number">1</span>,mid+<span class="hljs-number">1</span>,r);</span><br><span class="line">tree[k]=(tree[k&lt;&lt;<span class="hljs-number">1</span>]+tree[k&lt;&lt;<span class="hljs-number">1</span>|<span class="hljs-number">1</span>])%p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushdown</span><span class="hljs-params">(<span class="hljs-keyword">int</span> k,<span class="hljs-keyword">int</span> l,<span class="hljs-keyword">int</span> r)</span></span>&#123;</span><br><span class="line"><span class="hljs-keyword">int</span> mid=(l+r)&gt;&gt;<span class="hljs-number">1</span>;</span><br><span class="line">tree[k&lt;&lt;<span class="hljs-number">1</span>]=(tree[k&lt;&lt;<span class="hljs-number">1</span>]*mul[k]+add[k]*(mid-l+<span class="hljs-number">1</span>))%p;</span><br><span class="line">tree[k&lt;&lt;<span class="hljs-number">1</span>|<span class="hljs-number">1</span>]=(tree[k&lt;&lt;<span class="hljs-number">1</span>|<span class="hljs-number">1</span>]*mul[k]+add[k]*(r-mid))%p;</span><br><span class="line">mul[k&lt;&lt;<span class="hljs-number">1</span>]=(mul[k]*mul[k&lt;&lt;<span class="hljs-number">1</span>])%p;</span><br><span class="line">mul[k&lt;&lt;<span class="hljs-number">1</span>|<span class="hljs-number">1</span>]=(mul[k]*mul[k&lt;&lt;<span class="hljs-number">1</span>|<span class="hljs-number">1</span>])%p;</span><br><span class="line">add[k&lt;&lt;<span class="hljs-number">1</span>]=(add[k&lt;&lt;<span class="hljs-number">1</span>]*mul[k]+add[k])%p;</span><br><span class="line">add[k&lt;&lt;<span class="hljs-number">1</span>|<span class="hljs-number">1</span>]=(add[k&lt;&lt;<span class="hljs-number">1</span>|<span class="hljs-number">1</span>]*mul[k]+add[k])%p;</span><br><span class="line">mul[k]=<span class="hljs-number">1</span>;</span><br><span class="line">add[k]=<span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">m_1</span><span class="hljs-params">(<span class="hljs-keyword">int</span> k,<span class="hljs-keyword">int</span> l,<span class="hljs-keyword">int</span> r,<span class="hljs-keyword">int</span> x,<span class="hljs-keyword">int</span> y,ll v)</span></span>&#123;</span><br><span class="line"><span class="hljs-keyword">if</span>(y&lt;l||x&gt;r) <span class="hljs-keyword">return</span>;</span><br><span class="line"><span class="hljs-keyword">if</span>(x&lt;=l&amp;&amp;y&gt;=r)&#123;</span><br><span class="line">mul[k]=mul[k]*v%p;</span><br><span class="line">add[k]=add[k]*v%p;</span><br><span class="line">tree[k]=tree[k]*v%p;</span><br><span class="line"><span class="hljs-keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">pushdown(k,l,r);</span><br><span class="line"><span class="hljs-keyword">int</span> mid=(l+r)&gt;&gt;<span class="hljs-number">1</span>;</span><br><span class="line">m_1(k&lt;&lt;<span class="hljs-number">1</span>,l,mid,x,y,v);</span><br><span class="line">m_1(k&lt;&lt;<span class="hljs-number">1</span>|<span class="hljs-number">1</span>,mid+<span class="hljs-number">1</span>,r,x,y,v);</span><br><span class="line">tree[k]=(tree[k&lt;&lt;<span class="hljs-number">1</span>]+tree[k&lt;&lt;<span class="hljs-number">1</span>|<span class="hljs-number">1</span>])%p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">m_2</span><span class="hljs-params">(<span class="hljs-keyword">int</span> k,<span class="hljs-keyword">int</span> l,<span class="hljs-keyword">int</span> r,<span class="hljs-keyword">int</span> x,<span class="hljs-keyword">int</span> y,ll v)</span></span>&#123;</span><br><span class="line"><span class="hljs-keyword">if</span>(y&lt;l||x&gt;r) <span class="hljs-keyword">return</span>;</span><br><span class="line"><span class="hljs-keyword">if</span>(x&lt;=l&amp;&amp;y&gt;=r)&#123;</span><br><span class="line">add[k]=(add[k]+v)%p;</span><br><span class="line">tree[k]=(tree[k]+v*(r-l+<span class="hljs-number">1</span>)%p)%p;</span><br><span class="line"><span class="hljs-keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">pushdown(k,l,r);</span><br><span class="line"><span class="hljs-keyword">int</span> mid=(l+r)&gt;&gt;<span class="hljs-number">1</span>;</span><br><span class="line">m_2(k&lt;&lt;<span class="hljs-number">1</span>,l,mid,x,y,v);</span><br><span class="line">m_2(k&lt;&lt;<span class="hljs-number">1</span>|<span class="hljs-number">1</span>,mid+<span class="hljs-number">1</span>,r,x,y,v);</span><br><span class="line">tree[k]=(tree[k&lt;&lt;<span class="hljs-number">1</span>]+tree[k&lt;&lt;<span class="hljs-number">1</span>|<span class="hljs-number">1</span>])%p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function">ll <span class="hljs-title">query</span><span class="hljs-params">(<span class="hljs-keyword">int</span> k,<span class="hljs-keyword">int</span> l,<span class="hljs-keyword">int</span> r,<span class="hljs-keyword">int</span> x,<span class="hljs-keyword">int</span> y)</span></span>&#123;</span><br><span class="line"><span class="hljs-keyword">if</span>(y&lt;l||x&gt;r) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line"><span class="hljs-keyword">if</span>(x&lt;=l&amp;&amp;y&gt;=r)&#123;</span><br><span class="line"><span class="hljs-keyword">return</span> tree[k]%p;</span><br><span class="line">&#125;</span><br><span class="line">pushdown(k,l,r);</span><br><span class="line"><span class="hljs-keyword">int</span> mid=(l+r)&gt;&gt;<span class="hljs-number">1</span>;</span><br><span class="line"><span class="hljs-keyword">return</span> (query(k&lt;&lt;<span class="hljs-number">1</span>,l,mid,x,y)+query(k&lt;&lt;<span class="hljs-number">1</span>|<span class="hljs-number">1</span>,mid+<span class="hljs-number">1</span>,r,x,y))%p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line"><span class="hljs-keyword">int</span> n,m;</span><br><span class="line"><span class="hljs-built_in">cin</span>&gt;&gt;n&gt;&gt;m&gt;&gt;p;</span><br><span class="line"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line"><span class="hljs-built_in">cin</span>&gt;&gt;a[i];</span><br><span class="line">&#125;</span><br><span class="line">build(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,n);</span><br><span class="line"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line"><span class="hljs-keyword">int</span> op,x,y;</span><br><span class="line">ll z;</span><br><span class="line"><span class="hljs-built_in">cin</span>&gt;&gt;op;</span><br><span class="line"><span class="hljs-keyword">if</span>(op==<span class="hljs-number">1</span>)&#123;</span><br><span class="line"><span class="hljs-built_in">cin</span>&gt;&gt;x&gt;&gt;y&gt;&gt;z;</span><br><span class="line">m_1(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,n,x,y,z);</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(op==<span class="hljs-number">2</span>)&#123;</span><br><span class="line"><span class="hljs-built_in">cin</span>&gt;&gt;x&gt;&gt;y&gt;&gt;z;</span><br><span class="line">m_2(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,n,x,y,z);</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-keyword">else</span>&#123;</span><br><span class="line"><span class="hljs-built_in">cin</span>&gt;&gt;x&gt;&gt;y;</span><br><span class="line"><span class="hljs-built_in">cout</span>&lt;&lt;query(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,n,x,y)&lt;&lt;<span class="hljs-built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="å¯å‘å¼åˆå¹¶"><a href="#å¯å‘å¼åˆå¹¶" class="headerlink" title="å¯å‘å¼åˆå¹¶"></a>å¯å‘å¼åˆå¹¶</h2><h3 id="å¹¶æŸ¥é›†æŒ‰ç§©åˆå¹¶"><a href="#å¹¶æŸ¥é›†æŒ‰ç§©åˆå¹¶" class="headerlink" title="å¹¶æŸ¥é›†æŒ‰ç§©åˆå¹¶"></a>å¹¶æŸ¥é›†æŒ‰ç§©åˆå¹¶</h3><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line"><span class="hljs-keyword">while</span>(x!=fa[x]) x=fa[x];</span><br><span class="line"><span class="hljs-keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line"><span class="hljs-keyword">int</span> n,m;</span><br><span class="line"><span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d"</span>,&amp;n,&amp;m);</span><br><span class="line"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++) fa[i]=i,siz[i]=<span class="hljs-number">1</span>;</span><br><span class="line"><span class="hljs-keyword">while</span>(m--)</span><br><span class="line">&#123;</span><br><span class="line"><span class="hljs-keyword">int</span> x,y;</span><br><span class="line"><span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d"</span>,&amp;x,&amp;y);</span><br><span class="line">x=find(x);y=find(y);</span><br><span class="line"><span class="hljs-keyword">if</span>(x!=y)</span><br><span class="line">&#123;</span><br><span class="line"><span class="hljs-keyword">if</span>(siz[x]&gt;siz[y]) swap(x,y);</span><br><span class="line">fa[x]=y;</span><br><span class="line">siz[y]+=siz[x];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="problem-1-2"><a href="#problem-1-2" class="headerlink" title="problem 1"></a>problem 1</h3><h4 id="USACO14MAR-The-Lazy-Cow-Gold-æ‡’æƒ°çš„ç‰›-é‡‘"><a href="#USACO14MAR-The-Lazy-Cow-Gold-æ‡’æƒ°çš„ç‰›-é‡‘" class="headerlink" title="[USACO14MAR] The Lazy Cow_Gold æ‡’æƒ°çš„ç‰›(é‡‘)"></a><a href="https://www.luogu.org/problemnew/show/P4876" target="_blank" rel="noopener">[USACO14MAR] The Lazy Cow_Gold æ‡’æƒ°çš„ç‰›(é‡‘)</a></h4><p>æˆ‘æ²¡å¬æ‡‚ã€‚ã€‚ã€‚ä»£ç å¦‚ä¸‹ã€‚</p><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> N 210000</span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span>&#123;</span><span class="hljs-keyword">int</span> id1,id2,d;&#125;A[N],B[N];</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node1</span>&#123;</span><span class="hljs-keyword">int</span> l,r,lc,rc,d,lz;&#125;lt[<span class="hljs-number">4</span>*N];</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node2</span>&#123;</span><span class="hljs-keyword">int</span> x,next;&#125;e[N*<span class="hljs-number">2</span>];</span><br><span class="line"><span class="hljs-keyword">int</span> n,m,num1,num2,a[N][<span class="hljs-number">5</span>],l1,l2,tl,first[<span class="hljs-number">2</span>*N],len;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">cmp</span><span class="hljs-params">(node x,node y)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> x.d &lt; y.d;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">getint</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> num = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">char</span> c = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">while</span> (c &lt; <span class="hljs-string">'0'</span> || c &gt; <span class="hljs-string">'9'</span>) c = getchar();</span><br><span class="line">    <span class="hljs-keyword">while</span> (c &gt;= <span class="hljs-string">'0'</span> &amp;&amp; c &lt;= <span class="hljs-string">'9'</span>) &#123;</span><br><span class="line">        num = num * <span class="hljs-number">10</span> + c - <span class="hljs-string">'0'</span>;</span><br><span class="line">        c = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> num;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bt</span><span class="hljs-params">(<span class="hljs-keyword">int</span> l,<span class="hljs-keyword">int</span> r)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> now=++tl;</span><br><span class="line">    lt[now].l=l;lt[now].r=r;</span><br><span class="line">    lt[now].lc=lt[now].rc=lt[now].d=lt[now].lz=<span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">if</span>(l&lt;r)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> mid=(l+r)/<span class="hljs-number">2</span>;</span><br><span class="line">        lt[now].lc=tl+<span class="hljs-number">1</span>;bt(l,mid);</span><br><span class="line">        lt[now].rc=tl+<span class="hljs-number">1</span>;bt(mid+<span class="hljs-number">1</span>,r);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">down</span><span class="hljs-params">(<span class="hljs-keyword">int</span> now)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> lc=lt[now].lc,rc=lt[now].rc;</span><br><span class="line">    <span class="hljs-keyword">if</span>(lc) lt[lc].lz+=lt[now].lz;</span><br><span class="line">    <span class="hljs-keyword">if</span>(rc) lt[rc].lz+=lt[now].lz;</span><br><span class="line">    lt[now].d+=lt[now].lz;</span><br><span class="line">    lt[now].lz=<span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">upd</span><span class="hljs-params">(<span class="hljs-keyword">int</span> now)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> lc=lt[now].lc,rc=lt[now].rc;</span><br><span class="line">    <span class="hljs-keyword">if</span>(lc &amp;&amp; lt[lc].lz) down(lc);</span><br><span class="line">    <span class="hljs-keyword">if</span>(rc &amp;&amp; lt[rc].lz) down(rc);</span><br><span class="line">    lt[now].d=max(lt[lc].d,lt[rc].d);</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">change</span><span class="hljs-params">(<span class="hljs-keyword">int</span> now,<span class="hljs-keyword">int</span> l,<span class="hljs-keyword">int</span> r,<span class="hljs-keyword">int</span> d)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> lc=lt[now].lc,rc=lt[now].rc,mid=(lt[now].l+lt[now].r)/<span class="hljs-number">2</span>;</span><br><span class="line">    <span class="hljs-keyword">if</span>(lt[now].lz) down(now);</span><br><span class="line">    <span class="hljs-keyword">if</span>(lt[now].l==l &amp;&amp; lt[now].r==r) &#123;lt[now].lz+=d;<span class="hljs-keyword">return</span>;&#125;</span><br><span class="line">    <span class="hljs-keyword">if</span>(mid&gt;=r) change(lc,l,r,d);</span><br><span class="line">    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(l&gt;mid) change(rc,l,r,d);</span><br><span class="line">    <span class="hljs-keyword">else</span> change(lc,l,mid,d),change(rc,mid+<span class="hljs-number">1</span>,r,d);</span><br><span class="line">    upd(now);</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">int</span> now)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">if</span>(lt[now].lz) down(now);</span><br><span class="line">    <span class="hljs-keyword">return</span> lt[now].d;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">ins</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x,<span class="hljs-keyword">int</span> y)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    len++;</span><br><span class="line">    e[len].x=y;</span><br><span class="line">    e[len].next=first[x];</span><br><span class="line">    first[x]=len;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    n = getint();</span><br><span class="line">    m = getint();</span><br><span class="line">    num1=num2=<span class="hljs-number">0</span>;</span><br><span class="line">    m*=<span class="hljs-number">2</span>;</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++) </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;= <span class="hljs-number">2</span>; j++)</span><br><span class="line">            a[i][j] = getint();</span><br><span class="line">         </span><br><span class="line">        <span class="hljs-keyword">int</span> x=a[i][<span class="hljs-number">1</span>]*<span class="hljs-number">2</span>,y=a[i][<span class="hljs-number">2</span>]*<span class="hljs-number">2</span>;</span><br><span class="line">        a[i][<span class="hljs-number">1</span>]=(x+y)/<span class="hljs-number">2</span>;a[i][<span class="hljs-number">2</span>]=(y-x)/<span class="hljs-number">2</span>;</span><br><span class="line">        a[i][<span class="hljs-number">3</span>]=a[i][<span class="hljs-number">1</span>]-m;a[i][<span class="hljs-number">4</span>]=a[i][<span class="hljs-number">2</span>]-m;</span><br><span class="line">        A[++num1].id1=i;A[num1].id2=<span class="hljs-number">1</span>;A[num1].d=a[i][<span class="hljs-number">1</span>];</span><br><span class="line">        B[++num2].id1=i;B[num2].id2=<span class="hljs-number">2</span>;B[num2].d=a[i][<span class="hljs-number">2</span>];</span><br><span class="line">        A[++num1].id1=i;A[num1].id2=<span class="hljs-number">3</span>;A[num1].d=a[i][<span class="hljs-number">1</span>]-m;</span><br><span class="line">        B[++num2].id1=i;B[num2].id2=<span class="hljs-number">4</span>;B[num2].d=a[i][<span class="hljs-number">2</span>]-m;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-comment">//for(int i=1;i&lt;=n;i++) printf("%d %d %d %d\n",a[i][1],a[i][2],a[i][3],a[i][4]);</span></span><br><span class="line">    sort(A+<span class="hljs-number">1</span>,A+num1+<span class="hljs-number">1</span>,cmp);</span><br><span class="line">    sort(B+<span class="hljs-number">1</span>,B+num2+<span class="hljs-number">1</span>,cmp);</span><br><span class="line">    <span class="hljs-keyword">int</span> k=<span class="hljs-number">1</span>;</span><br><span class="line">    a[A[<span class="hljs-number">1</span>].id1][A[<span class="hljs-number">1</span>].id2]=k;</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">2</span>;i&lt;=num1;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span>(A[i].d!=A[i<span class="hljs-number">-1</span>].d) k++;</span><br><span class="line">        a[A[i].id1][A[i].id2]=k;</span><br><span class="line">    &#125;   </span><br><span class="line">    l1=k;</span><br><span class="line">    k=<span class="hljs-number">1</span>;</span><br><span class="line">    a[B[<span class="hljs-number">1</span>].id1][B[<span class="hljs-number">1</span>].id2]=k;</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">2</span>;i&lt;=num2;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span>(B[i].d!=B[i<span class="hljs-number">-1</span>].d) k++;</span><br><span class="line">        a[B[i].id1][B[i].id2]=k;</span><br><span class="line">    &#125;</span><br><span class="line">      </span><br><span class="line">    l2=k;</span><br><span class="line">    len=<span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        ins(a[i][<span class="hljs-number">3</span>],i);</span><br><span class="line">        ins(a[i][<span class="hljs-number">1</span>]+<span class="hljs-number">1</span>,-i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-comment">//for(int i=1;i&lt;=n;i++) printf("%d %d %d %d\n",a[i][1],a[i][2],a[i][3],a[i][4]);</span></span><br><span class="line">    tl=<span class="hljs-number">0</span>;</span><br><span class="line">    bt(<span class="hljs-number">1</span>,l2);</span><br><span class="line">    <span class="hljs-keyword">int</span> ans=<span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=l1;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-keyword">for</span>(k=first[i];k;k=e[k].next)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> x=e[k].x,d;</span><br><span class="line">            <span class="hljs-keyword">if</span>(x&gt;<span class="hljs-number">0</span>) d=a[x][<span class="hljs-number">0</span>];</span><br><span class="line">            <span class="hljs-keyword">else</span> &#123;x=<span class="hljs-built_in">abs</span>(x);d=-a[x][<span class="hljs-number">0</span>];&#125;</span><br><span class="line">            <span class="hljs-keyword">int</span> l=a[x][<span class="hljs-number">4</span>],r=a[x][<span class="hljs-number">2</span>];</span><br><span class="line">            change(<span class="hljs-number">1</span>,l,r,d);</span><br><span class="line">        &#125;</span><br><span class="line">        ans=max(ans,find(<span class="hljs-number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>,ans);</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="problem-2-1"><a href="#problem-2-1" class="headerlink" title="problem 2"></a>problem 2</h3><h4 id="UVALive7141"><a href="#UVALive7141" class="headerlink" title="UVALive7141"></a>UVALive7141</h4><p>æ— ç©·å¤§çš„åœ°å›¾ä¸Šæœ‰nä¸ªå…µï¼Œç°åœ¨ç»™ä¸€ä¸ªW*Hçš„ç‚¸å¼¹ï¼Œä¸€æ¬¡èƒ½ç‚¸æ­»å®ƒæ‰€åœ¨è¡Œåˆ—ä¸Šæ‰€æœ‰çš„å£«å…µã€‚ä¸èƒ½æ”¾åœ¨å£«å…µä¸Šé¢ã€‚</p><p>é—®ï¼šä¸€æ¬¡èƒ½æœ€å¤šå¹²æ‰å¤šå°‘å°å…µï¼Ÿ</p><h4 id="é¢˜è§£-2"><a href="#é¢˜è§£-2" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h4><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> N 110000</span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span>&#123;</span><span class="hljs-keyword">int</span> d,id1,id2;&#125;A[N*<span class="hljs-number">2</span>],B[N*<span class="hljs-number">2</span>];</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node1</span>&#123;</span><span class="hljs-keyword">int</span> l,r,lc,rc;<span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> d,maxd;&#125;lt[N*<span class="hljs-number">4</span>];</span><br><span class="line"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; v[<span class="hljs-number">2</span>*N];</span><br><span class="line"><span class="hljs-keyword">int</span> len,n,w,h,num1,num2,tot1,tot2,a[N][<span class="hljs-number">4</span>];</span><br><span class="line"><span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ans,sx[<span class="hljs-number">2</span>*N],sy[<span class="hljs-number">2</span>*N];</span><br><span class="line"><span class="hljs-keyword">int</span> tl,inf=N;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">cmp</span><span class="hljs-params">(<span class="hljs-keyword">void</span> <span class="hljs-keyword">const</span> *xx,<span class="hljs-keyword">void</span> <span class="hljs-keyword">const</span> *yy)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">node x=*(node*)xx,y=*(node*)yy;</span><br><span class="line"><span class="hljs-keyword">if</span>(x.d&lt;y.d) <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;</span><br><span class="line"><span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bt</span><span class="hljs-params">(<span class="hljs-keyword">int</span> l,<span class="hljs-keyword">int</span> r)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line"><span class="hljs-keyword">int</span> now=++tl;</span><br><span class="line">lt[now].l=l;lt[now].r=r;</span><br><span class="line">lt[now].d=lt[now].maxd=lt[now].lc=lt[now].rc=<span class="hljs-number">0</span>;</span><br><span class="line"><span class="hljs-keyword">if</span>(l&lt;r)</span><br><span class="line">&#123;</span><br><span class="line"><span class="hljs-keyword">int</span> mid=(l+r)/<span class="hljs-number">2</span>;</span><br><span class="line">lt[now].lc=tl+<span class="hljs-number">1</span>;bt(l,mid);</span><br><span class="line">lt[now].rc=tl+<span class="hljs-number">1</span>;bt(mid+<span class="hljs-number">1</span>,r);</span><br><span class="line">lt[now].maxd=max(lt[lt[now].lc].maxd,lt[lt[now].rc].maxd);</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-keyword">else</span> lt[now].maxd=sy[l];</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">down</span><span class="hljs-params">(<span class="hljs-keyword">int</span> now)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line"><span class="hljs-keyword">int</span> lc=lt[now].lc,rc=lt[now].rc;</span><br><span class="line"><span class="hljs-keyword">if</span>(lc) lt[lc].d+=lt[now].d;</span><br><span class="line"><span class="hljs-keyword">if</span>(rc) lt[rc].d+=lt[now].d;</span><br><span class="line">lt[now].maxd+=lt[now].d;</span><br><span class="line">lt[now].d=<span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">int</span> now)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line"><span class="hljs-keyword">if</span>(lt[now].d) down(now);</span><br><span class="line"><span class="hljs-keyword">return</span> lt[now].maxd;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">upd</span><span class="hljs-params">(<span class="hljs-keyword">int</span> now)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line"><span class="hljs-keyword">int</span> lc=lt[now].lc,rc=lt[now].rc;</span><br><span class="line"><span class="hljs-keyword">if</span>(lc &amp;&amp; lt[lc].d) down(lc);</span><br><span class="line"><span class="hljs-keyword">if</span>(rc &amp;&amp; lt[rc].d) down(rc);</span><br><span class="line">lt[now].maxd=max(lt[lc].maxd,lt[rc].maxd);</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">change</span><span class="hljs-params">(<span class="hljs-keyword">int</span> now,<span class="hljs-keyword">int</span> l,<span class="hljs-keyword">int</span> r,<span class="hljs-keyword">int</span> d)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line"><span class="hljs-keyword">int</span> lc=lt[now].lc,rc=lt[now].rc,mid=(lt[now].l+lt[now].r)/<span class="hljs-number">2</span>;</span><br><span class="line"><span class="hljs-keyword">if</span>(lt[now].d) down(now);</span><br><span class="line"><span class="hljs-keyword">if</span>(lt[now].l==l &amp;&amp; lt[now].r==r) &#123;lt[now].d+=d;<span class="hljs-keyword">return</span>;&#125;</span><br><span class="line"><span class="hljs-keyword">if</span>(mid&gt;=r) change(lc,l,r,d);</span><br><span class="line"><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(l&gt;mid) change(rc,l,r,d);</span><br><span class="line"><span class="hljs-keyword">else</span> change(lc,l,mid,d),change(rc,mid+<span class="hljs-number">1</span>,r,d);</span><br><span class="line">upd(now);</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line"><span class="hljs-keyword">int</span> z,zu=<span class="hljs-number">0</span>;</span><br><span class="line"><span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>,&amp;z);</span><br><span class="line"><span class="hljs-keyword">while</span>(z--)</span><br><span class="line">&#123;</span><br><span class="line">zu++;</span><br><span class="line"><span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d%d"</span>,&amp;n,&amp;w,&amp;h);</span><br><span class="line">tot1=tot2=<span class="hljs-number">0</span>;</span><br><span class="line"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="hljs-keyword">int</span> x,y;</span><br><span class="line"><span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d"</span>,&amp;x,&amp;y);</span><br><span class="line">A[++tot1].d=x;A[tot1].id1=i;A[tot1].id2=<span class="hljs-number">0</span>;</span><br><span class="line">B[++tot2].d=y;B[tot2].id1=i;B[tot2].id2=<span class="hljs-number">1</span>;</span><br><span class="line">A[++tot1].d=x-w+<span class="hljs-number">1</span>;A[tot1].id1=i;A[tot1].id2=<span class="hljs-number">2</span>;</span><br><span class="line">B[++tot2].d=y-h+<span class="hljs-number">1</span>;B[tot2].id1=i;B[tot2].id2=<span class="hljs-number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line">qsort(A+<span class="hljs-number">1</span>,tot1,<span class="hljs-keyword">sizeof</span>(node),cmp);</span><br><span class="line">qsort(B+<span class="hljs-number">1</span>,tot2,<span class="hljs-keyword">sizeof</span>(node),cmp);</span><br><span class="line">a[A[<span class="hljs-number">1</span>].id1][A[<span class="hljs-number">1</span>].id2]=<span class="hljs-number">1</span>;</span><br><span class="line">num1=<span class="hljs-number">1</span>;</span><br><span class="line"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">2</span>;i&lt;=tot1;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="hljs-keyword">if</span>(A[i].d!=A[i<span class="hljs-number">-1</span>].d) num1++;</span><br><span class="line">a[A[i].id1][A[i].id2]=num1;</span><br><span class="line">&#125;</span><br><span class="line">a[B[<span class="hljs-number">1</span>].id1][B[<span class="hljs-number">1</span>].id2]=<span class="hljs-number">1</span>;</span><br><span class="line">num2=<span class="hljs-number">1</span>;</span><br><span class="line"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">2</span>;i&lt;=tot2;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="hljs-keyword">if</span>(B[i].d!=B[i<span class="hljs-number">-1</span>].d) num2++;</span><br><span class="line">a[B[i].id1][B[i].id2]=num2;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=num1;i++) sx[i]=<span class="hljs-number">0</span>;</span><br><span class="line"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=num2;i++) sy[i]=<span class="hljs-number">0</span>;</span><br><span class="line"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=num1;i++) v[i].clear();</span><br><span class="line"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++) </span><br><span class="line">&#123;</span><br><span class="line"><span class="hljs-keyword">int</span> x1=a[i][<span class="hljs-number">0</span>],y1=a[i][<span class="hljs-number">1</span>],x2=a[i][<span class="hljs-number">2</span>],y2=a[i][<span class="hljs-number">3</span>];</span><br><span class="line">sx[x2]++;sx[x1+<span class="hljs-number">1</span>]--;</span><br><span class="line">sy[y2]++;sy[y1+<span class="hljs-number">1</span>]--;</span><br><span class="line">v[x2].push_back(i);</span><br><span class="line">v[x1+<span class="hljs-number">1</span>].push_back(-i);</span><br><span class="line">&#125;</span><br><span class="line">ans=<span class="hljs-number">0</span>;</span><br><span class="line"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=num1;i++)</span><br><span class="line">&#123;</span><br><span class="line">sx[i]+=sx[i<span class="hljs-number">-1</span>];</span><br><span class="line">ans=max(ans,sx[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=num2;i++)</span><br><span class="line">&#123;</span><br><span class="line">sy[i]+=sy[i<span class="hljs-number">-1</span>];</span><br><span class="line">ans=max(ans,sy[i]);</span><br><span class="line">&#125;</span><br><span class="line">tl=<span class="hljs-number">0</span>;</span><br><span class="line">bt(<span class="hljs-number">1</span>,num2);</span><br><span class="line"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=num1;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>;j&lt;v[i].size();j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="hljs-keyword">int</span> k=v[i][j],l,r;</span><br><span class="line">l=a[<span class="hljs-built_in">abs</span>(k)][<span class="hljs-number">3</span>];r=a[<span class="hljs-built_in">abs</span>(k)][<span class="hljs-number">1</span>];</span><br><span class="line"><span class="hljs-keyword">if</span>(k&gt;<span class="hljs-number">0</span>) change(<span class="hljs-number">1</span>,l,r,-inf);</span><br><span class="line"><span class="hljs-keyword">else</span> change(<span class="hljs-number">1</span>,l,r,inf);</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-keyword">int</span> tt=find(<span class="hljs-number">1</span>);</span><br><span class="line"><span class="hljs-keyword">if</span>(tt&gt;<span class="hljs-number">0</span>) ans=max(ans,tt+sx[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-built_in">printf</span>(<span class="hljs-string">"Case #%d: %lld\n"</span>,zu,ans);</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;æ•°æ®ç»“æ„&quot;&gt;&lt;a href=&quot;#æ•°æ®ç»“æ„&quot; class=&quot;headerlink&quot; title=&quot;æ•°æ®ç»“æ„&quot;&gt;&lt;/a&gt;æ•°æ®ç»“æ„&lt;/h2&gt;
    
    </summary>
    
      <category term="OI" scheme="http://yueyangwu.cn/categories/OI/"/>
    
      <category term="é›†è®­" scheme="http://yueyangwu.cn/categories/OI/%E9%9B%86%E8%AE%AD/"/>
    
    
  </entry>
  
  <entry>
    <title>æ¸…åŒ—å­¦å ‚noip2019-Day2</title>
    <link href="http://yueyangwu.cn/2019/07/14/%E6%B8%85%E5%8C%97%E5%AD%A6%E5%A0%82noip2019-Day2/"/>
    <id>http://yueyangwu.cn/2019/07/14/æ¸…åŒ—å­¦å ‚noip2019-Day2/</id>
    <published>2019-07-14T00:13:10.000Z</published>
    <updated>2019-07-15T11:19:56.998Z</updated>
    
    <content type="html"><![CDATA[<h2 id="åˆ†æ²»ç®—æ³•"><a href="#åˆ†æ²»ç®—æ³•" class="headerlink" title="åˆ†æ²»ç®—æ³•"></a>åˆ†æ²»ç®—æ³•</h2><p>ï¼ˆæŒç»­æ›´æ–°ï¼‰</p><a id="more"></a><blockquote><p>æœ€å°å€¼æœ€å¤§ï¼ŒäºŒåˆ†</p></blockquote><hr><h3 id="problem-1"><a href="#problem-1" class="headerlink" title="problem 1"></a>problem 1</h3><h4 id="æ„¤æ€’çš„ç‰›"><a href="#æ„¤æ€’çš„ç‰›" class="headerlink" title="æ„¤æ€’çš„ç‰›"></a><a href="https://www.luogu.org/problemnew/show/P2678" target="_blank" rel="noopener">æ„¤æ€’çš„ç‰›</a></h4><p>nä¸ªç‚¹ï¼Œå–å‡ºmä¸ªç‚¹ä½¿å¾—ç›¸é‚»çš„ç‚¹çš„æœ€å°è·ç¦»æœ€å¤§</p><p>$n\leq 10^5, m\leq n$</p><ul><li>æœ€å°è·ç¦»æœ€å¤§</li><li>å¦‚æœå¤ªå¤§äº†ï¼Œä¼šé€‰ä¸å‡ºmä¸ªç‚¹</li><li>é™åˆ¶çš„æœ€å°è·ç¦»è¶Šå¤§ï¼Œé€‰å‡ºçš„ç‚¹è¶Šå°‘</li><li>ç¬¦åˆäºŒåˆ†æ€§è´¨<h4 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h4></li><li>äºŒåˆ†æœ€å°è·ç¦»kï¼Œç„¶åè´ªå¿ƒéªŒè¯ã€‚</li><li>é¦–å…ˆç¬¬ä¸€ä¸ªç‚¹å¿…é¡»å–ï¼Œç„¶ååé¢çš„ç‚¹è¶…è¿‡kå°±å–ã€‚</li><li>æœ€åçœ‹èƒ½ä¸èƒ½å–å®Œmä¸ªç‚¹ã€‚</li><li>å¤æ‚åº¦$O(nlog_2n)$</li><li>ä»£ç å¦‚ä¸‹ï¼š<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">int</span> n, m, d, a[<span class="hljs-number">50010</span>];</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">judge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> tot = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">int</span> now = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">while</span> (i &lt; n+<span class="hljs-number">1</span>)&#123;</span><br><span class="line">        i++;</span><br><span class="line">        <span class="hljs-keyword">if</span> (a[i] - a[now] &lt; x)</span><br><span class="line">            tot++;</span><br><span class="line">        <span class="hljs-keyword">else</span></span><br><span class="line">            now = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">if</span> (tot &gt; m)</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">    <span class="hljs-keyword">else</span></span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line"><span class="hljs-built_in">cin</span>&gt;&gt;d&gt;&gt;n&gt;&gt;m;</span><br><span class="line"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line"><span class="hljs-built_in">cin</span>&gt;&gt;a[i];</span><br><span class="line">&#125;</span><br><span class="line">a[n + <span class="hljs-number">1</span>] = d;</span><br><span class="line"><span class="hljs-keyword">int</span> l = <span class="hljs-number">1</span>,r = d,res = <span class="hljs-number">0</span>;</span><br><span class="line"><span class="hljs-keyword">while</span>(l &lt;= r)&#123;</span><br><span class="line"><span class="hljs-keyword">int</span> mid=(l + r) / <span class="hljs-number">2</span>;</span><br><span class="line"><span class="hljs-keyword">if</span>(judge(mid))&#123;</span><br><span class="line">res = mid;</span><br><span class="line">l = mid + <span class="hljs-number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-keyword">else</span>&#123;</span><br><span class="line">r = mid - <span class="hljs-number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-built_in">cout</span>&lt;&lt;res;</span><br><span class="line"><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><hr><h3 id="problem-2"><a href="#problem-2" class="headerlink" title="problem 2"></a>problem 2</h3><h4 id="Slicing"><a href="#Slicing" class="headerlink" title="Slicing"></a><a href="https://www.luogu.org/problemnew/show/P3017" target="_blank" rel="noopener">Slicing</a></h4><p>ç»™å®š$n\times m$çš„æ•°å­—çŸ©é˜µï¼Œè¦æ±‚æ¨ªç€åˆ‡$A - 1$åˆ€ï¼Œå¯¹æ¯å—å†ç«–ç€åˆ‡$B-1$åˆ€ã€‚</p><p>ä½¿å¾—æœ€å°å­çŸ©é˜µæœ€å¤§ã€‚</p><p>$n,m\leq 500$</p><h4 id="é¢˜è§£-1"><a href="#é¢˜è§£-1" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h4><ul><li>äºŒåˆ†ï¼Œç„¶åè´ªå¿ƒåˆ‡</li><li>æ¯æ¬¡æ‰«ä¸€è¡Œï¼Œçœ‹è¿™è¡Œå’Œä¸Šæ¬¡åˆ‡å‰²çš„è¡Œä¹‹é—´èƒ½å¦æ»¡è¶³äºŒåˆ†æ¡ä»¶kï¼Œå¦‚æœèƒ½å°±æ¨ªåˆ‡+1ï¼Œæœ€åçœ‹å¯è¡Œæ¡èƒ½å¦åˆ°nã€‚</li><li>ä»£ç å¦‚ä¸‹ï¼š<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">int</span> r, c, aa, bb;</span><br><span class="line"><span class="hljs-keyword">int</span> a[<span class="hljs-number">509</span>][<span class="hljs-number">509</span>], sum[<span class="hljs-number">509</span>][<span class="hljs-number">509</span>];</span><br><span class="line"><span class="hljs-keyword">int</span> ans;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">check</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> num = <span class="hljs-number">0</span>, now = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= r; i++)&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> s = <span class="hljs-number">0</span>, cnt = <span class="hljs-number">0</span>;</span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= c; j++)&#123;</span><br><span class="line">            <span class="hljs-keyword">if</span>(s + sum[i][j] - sum[i][j<span class="hljs-number">-1</span>] - sum[now][j] + sum[now][j<span class="hljs-number">-1</span>] &lt; x)</span><br><span class="line">                s += sum[i][j] - sum[i][j<span class="hljs-number">-1</span>] - sum[now][j] + sum[now][j<span class="hljs-number">-1</span>];</span><br><span class="line">            <span class="hljs-keyword">else</span>&#123;</span><br><span class="line">                cnt++;</span><br><span class="line">                s = <span class="hljs-number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">if</span>(cnt &gt;= bb)&#123;</span><br><span class="line">            num++;</span><br><span class="line">            now = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">if</span>(num &gt;= aa) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;</span><br><span class="line">    <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d%d%d"</span>, &amp;r, &amp;c, &amp;aa, &amp;bb);</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= r; i++)&#123;</span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= c; j++)&#123;</span><br><span class="line">            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;a[i][j]);</span><br><span class="line">            sum[i][j] = sum[i<span class="hljs-number">-1</span>][j] + sum[i][j<span class="hljs-number">-1</span>] - sum[i<span class="hljs-number">-1</span>][j<span class="hljs-number">-1</span>] + a[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">int</span> ll = <span class="hljs-number">0</span>, rr = sum[r][c];</span><br><span class="line">    <span class="hljs-keyword">while</span>(ll &lt;= rr)&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> mid = (ll + rr) / <span class="hljs-number">2</span>;</span><br><span class="line">        <span class="hljs-keyword">if</span>(check(mid))&#123;</span><br><span class="line">            ll = mid + <span class="hljs-number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">else</span> rr = mid - <span class="hljs-number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>, ll - <span class="hljs-number">1</span>);</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><hr><h3 id="problem-4"><a href="#problem-4" class="headerlink" title="problem 4"></a>problem 4</h3><h4 id="èŠ±ç›†"><a href="#èŠ±ç›†" class="headerlink" title="èŠ±ç›†"></a><a href="https://www.luogu.org/problemnew/show/P2698" target="_blank" rel="noopener">èŠ±ç›†</a></h4><p>ç»™å‡ºnä¸ªç‚¹åæ ‡ï¼Œæ ¹æ®xè½´é€‰å®šåŒºé—´$[L,R]$ï¼Œä½¿å¾—å…¶ä¸­çš„ç‚¹çš„yå€¼çš„æœ€å¤§å’Œæœ€å°ä¹‹å·®&gt;=Dã€‚æ±‚$min{R-L}$</p><p>$n\leq 10^5$</p><h4 id="é¢˜è§£-2"><a href="#é¢˜è§£-2" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h4><p>äºŒåˆ†æšä¸¾åŒºé—´å¤§å°ï¼Œç„¶åé€šè¿‡å•è°ƒé˜Ÿåˆ—æ±‚å‡ºæ¯ä¸ªåŒºé—´æœ€å¤§å€¼å’Œæœ€å°å€¼ï¼Œæœ€åå¾—å‡ºç­”æ¡ˆå³å¯ã€‚</p><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">int</span> n, d;</span><br><span class="line"></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span>&#123;</span></span><br><span class="line">    <span class="hljs-keyword">int</span> x, y;</span><br><span class="line">&#125;a[<span class="hljs-number">100009</span>];</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">cmp</span><span class="hljs-params">(<span class="hljs-keyword">const</span> node &amp;a, <span class="hljs-keyword">const</span> node &amp;b)</span></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> a.x &lt; b.x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">int</span> qmin[<span class="hljs-number">100009</span>], qmini[<span class="hljs-number">100009</span>], qmax[<span class="hljs-number">100009</span>], qmaxi[<span class="hljs-number">100009</span>];</span><br><span class="line"><span class="hljs-keyword">int</span> headmin, tailmin, headmax, tailmax;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">check</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    headmin = headmax = <span class="hljs-number">1</span>;</span><br><span class="line">    tailmin = tailmax = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">        <span class="hljs-keyword">while</span>(headmin &lt;= tailmin &amp;&amp; qmin[tailmin] &gt;= a[i].y) tailmin--;</span><br><span class="line">        qmin[++tailmin] = a[i].y;</span><br><span class="line">        qmini[tailmin] = a[i].x;</span><br><span class="line">        <span class="hljs-keyword">while</span>(headmin &lt;= tailmin &amp;&amp; qmini[headmin] &lt; qmini[tailmin] - x) headmin++;</span><br><span class="line">        <span class="hljs-keyword">while</span>(headmax &lt;= tailmax &amp;&amp; qmax[tailmax] &lt;= a[i].y) tailmax--;</span><br><span class="line">        qmax[++tailmax] = a[i].y;</span><br><span class="line">        qmaxi[tailmax] = a[i].x;</span><br><span class="line">        <span class="hljs-keyword">while</span>(headmax &lt;= tailmax &amp;&amp; qmaxi[headmax] &lt; qmaxi[tailmax] - x) headmax++;</span><br><span class="line">        <span class="hljs-keyword">int</span> cz = qmax[headmax] - qmin[headmin];</span><br><span class="line">        <span class="hljs-keyword">if</span>(cz &gt;= d) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d"</span>, &amp;n, &amp;d);</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d"</span>, &amp;a[i].x, &amp;a[i].y);</span><br><span class="line">    &#125;</span><br><span class="line">    sort(a + <span class="hljs-number">1</span>, a + n + <span class="hljs-number">1</span>, cmp);</span><br><span class="line">    <span class="hljs-keyword">int</span> l = <span class="hljs-number">1</span>, r = a[n].x + <span class="hljs-number">5</span>;</span><br><span class="line">    <span class="hljs-keyword">while</span>(l &lt; r)&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> mid = (l + r) / <span class="hljs-number">2</span>;</span><br><span class="line">        <span class="hljs-keyword">if</span>(check(mid))&#123;</span><br><span class="line">            r = mid;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">else</span> l = mid + <span class="hljs-number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">if</span>(l &gt; a[n].x) <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>, <span class="hljs-number">-1</span>);</span><br><span class="line">    <span class="hljs-keyword">else</span> <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>, l);</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="problem-5"><a href="#problem-5" class="headerlink" title="problem 5"></a>problem 5</h3><h4 id="ç»„é¢˜"><a href="#ç»„é¢˜" class="headerlink" title="ç»„é¢˜"></a><a href="https://www.luogu.org/problemnew/show/UVA1451" target="_blank" rel="noopener">ç»„é¢˜</a></h4><ul><li>ç»™å‡ºä¸€ä¸ªé•¿åº¦ä¸ºnçš„åºåˆ—ï¼Œæ±‚ä¸€æ®µé•¿åº¦å¤§äºç­‰äºkçš„å­—ä¸²ã€‚</li><li>ä½¿å¾—å®ƒä»¬çš„å¹³å‡å€¼æœ€å¤§ã€‚</li><li>$n\leq 10^5, k\leq n$<h4 id="é¢˜è§£-3"><a href="#é¢˜è§£-3" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h4></li><li>åˆ†æ•°è§„åˆ’ï¼ŒäºŒåˆ†ç­”æ¡ˆï¼ˆå¹³å‡å€¼ï¼‰</li><li>è®©æ¯ä¸ªæ•°å‡å»å¹³å‡å€¼ï¼Œæ£€æµ‹æ˜¯å¦æœ‰ä¸€ä¸ªé•¿åº¦å¤§äºç­‰äºkçš„å­—ä¸²ï¼Œä½¿å…¶å’Œä¸ºéè´Ÿã€‚</li><li>å¹³å‡å€¼é—®é¢˜è½¬åŒ–ä¸ºæ±‚å’Œé—®é¢˜ã€‚</li><li>æŠŠåŒºé—´å’Œè½¬åŒ–ä¸ºå‰ç¼€å’Œç›¸å‡çš„å½¢å¼ã€‚</li><li>æšä¸¾å³ç«¯ç‚¹iï¼Œåˆ¤å®šçš„å°±æ˜¯$sum[i]-min{sum[j]}(0\leq j\leq i-k)$æ˜¯å¦å¤§äºç­‰äº0ã€‚</li><li>ä»£ç å¦‚ä¸‹ï¼š</li></ul><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">int</span> T, n, len;</span><br><span class="line"><span class="hljs-keyword">double</span> a[<span class="hljs-number">100009</span>], a1[<span class="hljs-number">100009</span>], sum[<span class="hljs-number">100009</span>];</span><br><span class="line"><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> jd = <span class="hljs-number">1e-5</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">check</span><span class="hljs-params">(<span class="hljs-keyword">double</span> x, <span class="hljs-keyword">bool</span> op)</span></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> ansl, ansr;</span><br><span class="line">    <span class="hljs-keyword">double</span> ans = <span class="hljs-number">-0x3f3f3f3f</span>;</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) a1[i] = a[i] - x;</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) sum[i] = sum[i - <span class="hljs-number">1</span>] + a1[i];</span><br><span class="line">    <span class="hljs-keyword">double</span> minx = <span class="hljs-number">0x3f3f3f3f</span>, l;</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = len; i &lt;= n; i++)&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span>(sum[i - len] &lt;= minx) l = i - len + <span class="hljs-number">1</span>;</span><br><span class="line">        minx = min(minx, sum[i - len]);</span><br><span class="line">        <span class="hljs-keyword">if</span>(sum[i] - minx &gt; ans + jd)&#123;</span><br><span class="line">            ans = sum[i] - minx;</span><br><span class="line">            ansl = l;</span><br><span class="line">            ansr = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">if</span>(op == <span class="hljs-number">1</span>) <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d %d\n"</span>, ansl, ansr);</span><br><span class="line">    <span class="hljs-keyword">return</span> ans &gt;= <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;T);</span><br><span class="line">    <span class="hljs-keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d"</span>, &amp;n, &amp;len);</span><br><span class="line">        <span class="hljs-built_in">string</span> s;</span><br><span class="line">        <span class="hljs-built_in">cin</span>&gt;&gt;s;</span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">            a[i] = s[i - <span class="hljs-number">1</span>] - <span class="hljs-string">'0'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">double</span> l = <span class="hljs-number">0</span>, r = <span class="hljs-number">1</span>;</span><br><span class="line">        <span class="hljs-keyword">while</span>(l &lt; r - jd)&#123;</span><br><span class="line">            <span class="hljs-keyword">double</span> mid = (l + r) / <span class="hljs-number">2</span>;</span><br><span class="line">            <span class="hljs-keyword">if</span>(check(mid, <span class="hljs-number">0</span>)) l = mid;</span><br><span class="line">            <span class="hljs-keyword">else</span> r = mid;</span><br><span class="line">        &#125;</span><br><span class="line">        check(l + jd, <span class="hljs-number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="problem-6"><a href="#problem-6" class="headerlink" title="problem 6"></a>problem 6</h3><h4 id="çŒœæ•°"><a href="#çŒœæ•°" class="headerlink" title="çŒœæ•°"></a>çŒœæ•°</h4><ul><li>ç»™ä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•°åˆ—ï¼Œä½†ä¸çŸ¥é“è¿™ä¸ªæ•°åˆ—ã€‚</li><li>æœ‰qæ¡é™åˆ¶æ¡ä»¶$l_i,r_i,x_i$ï¼Œè¡¨ç¤º$(l,r)$æ‰€æœ‰æ•°çš„æœ€å°å€¼ä¸ºxã€‚</li><li>é—®ä»ç¬¬å‡ ä¸ªé™åˆ¶æ¡ä»¶å¼€å§‹å‡ºç°çŸ›ç›¾ï¼Œæ— çŸ›ç›¾è¾“å‡º0ã€‚</li><li>$n\leq 10^6,q\leq 25000$</li><li>ä¾‹å¦‚ï¼š$(3,5)$æœ€å°å€¼ä¸º2ï¼Œ$(1,7)$æœ€å°å€¼ä¸º4ï¼ŒçŸ›ç›¾ã€‚<h4 id="é¢˜è§£-4"><a href="#é¢˜è§£-4" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h4></li><li>ä¼šçŸ›ç›¾çš„æƒ…å†µå°±æ˜¯å‡ºç°äº†åŒ…å«å…³ç³»ï¼Œå¹¶ä¸”è¢«åŒ…å«çš„åŒºé—´æœ€å°å€¼æ›´å°ã€‚</li><li>å…ˆå¯¹åŒºé—´æŒ‰xæ’åº</li><li>å¤„ç†æŸä¸ªåŒºé—´æ—¶ï¼Œå‘ç°å·²ç»è¢«ä¹‹å‰çš„æŸä¸ªåŒºé—´$(l,r)$åŒ…å«äº†ã€‚çŸ›ç›¾ã€‚</li></ul><hr><h3 id="problem-7"><a href="#problem-7" class="headerlink" title="problem 7"></a>problem 7</h3><h4 id="Tree"><a href="#Tree" class="headerlink" title="Tree"></a>Tree</h4><ul><li>ç»™ä¸€ä¸ªæ— å‘å¸¦æƒè¿é€šå›¾ï¼Œæ¯æ¡è¾¹æ˜¯é»‘è‰²æˆ–è€…ç™½è‰²ã€‚æ±‚ä¸€é¢—æœ€å°æƒçš„æ°å¥½æœ‰needæ¡ç™½è‰²è¾¹çš„ç”Ÿæˆæ ‘ã€‚</li><li>é¢˜ç›®ä¿è¯æœ‰è§£ï¼Œ$n,m\leq 10^5$<h4 id="åˆ†æåŠé¢˜è§£"><a href="#åˆ†æåŠé¢˜è§£" class="headerlink" title="åˆ†æåŠé¢˜è§£"></a>åˆ†æåŠé¢˜è§£</h4></li><li>ç”Ÿæˆæ ‘æƒå€¼å˜åŒ–æ—¶ï¼Œç™½è¾¹æ•°ç›®å¯èƒ½å˜å¤§æˆ–è€…å˜å°ã€‚</li><li>ä¸èƒ½ç›´æ¥äºŒåˆ†ã€‚</li></ul><h3 id="problem-8"><a href="#problem-8" class="headerlink" title="problem 8"></a>problem 8</h3><h4 id="ç”µè¯çº¿"><a href="#ç”µè¯çº¿" class="headerlink" title="ç”µè¯çº¿"></a><a href="https://www.luogu.org/problemnew/show/P1948" target="_blank" rel="noopener">ç”µè¯çº¿</a></h4><ul><li>ç»™å‡ºnä¸ªç‚¹mæ¡è¾¹çš„DAG</li><li>å¯ä»¥é€‰æ‹©kæ¡è¾¹ï¼Œä½¿å…¶æƒå€¼å˜ä¸º0</li><li>éœ€è¦è®©1-nçš„æœ€é•¿è·¯å¾„æœ€çŸ­</li><li>$n,m\leq 50000$</li></ul><hr><h3 id="problem-9"><a href="#problem-9" class="headerlink" title="problem 9"></a>problem 9</h3><h4 id="Dynamite"><a href="#Dynamite" class="headerlink" title="Dynamite"></a><a href="https://www.luogu.org/problemnew/show/P3523" target="_blank" rel="noopener">Dynamite</a></h4><ul><li>ç»™å‡ºä¸€é¢—nä¸ªèŠ‚ç‚¹çš„æ ‘ï¼Œä¸Šé¢æœ‰kä¸ªå…³é”®èŠ‚ç‚¹ã€‚</li><li>æ ‘ä¸Šé€‰mä¸ªç‚¹ï¼Œæ±‚æœ€å°åŒ–å…³é”®èŠ‚ç‚¹åˆ°é€‰æ‹©ç‚¹çš„æœ€å¤§è·ç¦»ã€‚</li><li>$n\leq 10^5$<h4 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h4></li><li>äºŒåˆ†ä¸€ä¸ªæ•°Lè¡¨ç¤ºç­”æ¡ˆ</li><li>é—®é¢˜è½¬åŒ–ä¸ºä¸€ä¸ªåˆ¤å®šé—®é¢˜ï¼Œåˆ¤å®šèƒ½å¦ç”¨mä¸ªç‚¹è¦†ç›–ï¼ˆèŒƒå›´ä¸ºLï¼‰æ•´ä¸ªæ ‘ä¸Šçš„å…³é”®ç‚¹ã€‚</li><li>æ ‘å½¢DPï¼Œè€ƒè™‘å­æ ‘æƒ…å†µï¼š<ol><li>å­æ ‘å†…å…³é”®ç‚¹éƒ½è¦†ç›–å®Œäº†ï¼Œå¹¶ä¸”å­æ ‘å†…æœ‰é€‰æ‹©ç‚¹çš„è´¡çŒ®å¯ä»¥å‘ä¸Šã€‚</li><li>å­æ ‘å†…æœ‰ä¸è¢«è¦†ç›–çš„ç‚¹ï¼Œæ²¡æœ‰èŠ‚ç‚¹å¯ä»¥ç»§ç»­è´¡çŒ®ã€‚</li><li>å­æ ‘å†…éƒ½è¢«è¦†ç›–ï¼Œä½†æ²¡æœ‰å¯¹ä¸Šé¢çš„è´¡çŒ®</li></ol></li></ul><hr><h2 id="æœç´¢ç®—æ³•"><a href="#æœç´¢ç®—æ³•" class="headerlink" title="æœç´¢ç®—æ³•"></a>æœç´¢ç®—æ³•</h2><h3 id="problem-1-1"><a href="#problem-1-1" class="headerlink" title="problem 1"></a>problem 1</h3><h4 id="è£…ç®±"><a href="#è£…ç®±" class="headerlink" title="è£…ç®±"></a>è£…ç®±</h4><ul><li>nä¸ªç‰©å“ï¼Œæ¯ä¸ªç‰©å“å¤§å°ä¸º$w_i$ã€‚ç®±å­å¤§å°ä¸ºmï¼Œæ±‚æœ€å°‘ç®±å­æ•°ç›®ï¼Œèƒ½è£…ä¸‹æ‰€æœ‰ç‰©å“ã€‚<h4 id="åˆ†æï¼Œé¢˜è§£"><a href="#åˆ†æï¼Œé¢˜è§£" class="headerlink" title="åˆ†æï¼Œé¢˜è§£"></a>åˆ†æï¼Œé¢˜è§£</h4></li><li>æœç´¢æ¯ä¸€ä¸ªç‰©å“ï¼Œè£…å…¥åˆ°ä¹‹å‰èƒ½è£…çš„ç®±å­ä¸­ï¼Œæˆ–è€…å¼€ä¸€ä¸ªæ–°çš„ç®±å­ï¼Œ$dfs(x)$ä»£è¡¨æœåˆ°äº†ç¬¬å‡ ä¸ªç‰©å“ã€‚</li><li>ç‰©å“ä»å¤§åˆ°å°æ’åºï¼Œå†ä¾æ¬¡æœç´¢ã€‚</li><li>å½“å‰æœåˆ°äº†æœ€ä¼˜è§£å·²ç»ä¸º$m$ï¼Œé‚£ä¹ˆå½“å‰æ­¥æ•°$&gt;=m$å¯ä»¥ç›´æ¥returnï¼Œå› ä¸ºä¸ä¼šæœ€ä¼˜ã€‚</li><li>è¿›ä¸€æ­¥å‰ªæã€‚</li><li>è€ƒè™‘æ²¡æœ‰æœçš„ç‰©å“çš„æ€»å’Œå‡å»æ²¡æœ‰è¢«å¡«æ»¡çš„ç©ºé—´/må°±æ˜¯è‡³å°‘è¦æ–°å¼€çš„ç®±å­çš„ç©ºé—´ã€‚ç„¶åæ–°ç®±å­æ•°+å·²æœ‰ç®±å­æ•°&gt;=må°±å¯ä»¥å‰ªæ‰ã€‚</li><li>æ’åºå’Œé¢„ä¼°ä¸‹ç•Œéƒ½æ˜¯å¸¸è§å‰ªææŠ€å·§ã€‚</li><li>å¦å¤–ä¸€ç§æ–¹æ³•ï¼š</li><li>å…ˆè´ªå¿ƒä¸€éï¼Œæ±‚å‡ºè¾ƒä¼˜è§£ï¼Œç„¶åè¿›è¡Œæœç´¢-æœ€ä¼˜æ€§å‰ªæã€‚</li></ul><hr><h3 id="problem-2-1"><a href="#problem-2-1" class="headerlink" title="problem 2"></a>problem 2</h3><h4 id="å¤©å¹³"><a href="#å¤©å¹³" class="headerlink" title="å¤©å¹³"></a>å¤©å¹³</h4><ul><li><p>æœ‰nä¸ªç ç $(n\leq 1000)$ï¼Œé‡é‡ä¸º$w[i]$.</p></li><li><p>ä»ä¸­é€‰æ‹©ä¸€äº›ç ç ï¼Œä½¿å¾—è¿™äº›ç ç æ€»é‡é‡æœ€å¤§ï¼Œä½†ä¸è¶…è¿‡cã€‚</p></li><li><p>$w[i]$æŒ‰ç…§é€’å¢é¡ºåºç»™å‡ºå¹¶ä¸”ä¿è¯$w[i]&gt;=w[i-1]+w[i-2]$</p><h4 id="åˆ†æé¢˜è§£"><a href="#åˆ†æé¢˜è§£" class="headerlink" title="åˆ†æé¢˜è§£"></a>åˆ†æé¢˜è§£</h4></li><li><p>å› ä¸º$w[i]&gt;=w[i-1]+w[i-2]$,æ‰€ä»¥nå®é™…ä¸Šæ˜¯45å·¦å³ï¼ˆæ–æ³¢é‚£å¥‘ï¼‰ã€‚</p></li><li><p>dfs(int k, int tot)//æœåˆ°ç¬¬kä¸ªæ•°ï¼Œå½“å‰æ€»å’Œæ˜¯totã€‚</p></li><li><p>å‰ªæï¼š</p><ol><li>ä¼˜åŒ–é€‰ç ç ï¼ˆä¸è·³è¿‡ï¼‰ï¼Œå¹¶ä¸”ä¼˜å…ˆé€‰æ‹©é‡é‡å¤§çš„ç ç ï¼Œå°½æ—©æ›´æ–°ansã€‚</li><li>å¦‚æœå½“å‰tot + å‰©ä¸‹ç ç çš„æ€»é‡ï¼ˆå‰ç¼€å’Œï¼‰ &lt; ansï¼Œreturnã€‚å¯è¡Œæ€§å‰ªæã€‚</li></ol></li><li><p>æŠ˜åŠæœç´¢ï¼šn=40çš„ä¸€ç±»å­é›†é—®é¢˜ï¼Œ</p><ol><li>$40=2\times 20$</li><li>$n=20$ç±»é—®é¢˜ï¼ŒäºŒè¿›åˆ¶æšä¸¾å³å¯ã€‚</li><li>æŠŠ40æ‹†æˆä¸¤ä¸ª20ç®—ã€‚</li><li>è¦æ±‚$n=40$æ—¶ï¼Œæœ‰å¤šå°‘ä¸ªå­é›†çš„æƒå€¼å’Œå¤§äºç­‰äºLã€‚</li><li>ç‰©å“åˆ†æˆå‰ä¸€åŠå’Œåä¸€åŠ1 2 3 4|5 6 7 8</li><li>$2^{20}{A},2^{20}{B}$</li><li>åˆå¹¶å·¦å³ä¸¤å­é›†ï¼Œå¾—åˆ°å®Œæ•´çš„å­é›†å’Œã€‚</li><li>å…·ä½“ã€‚ã€‚ã€‚æ²¡æœ‰æ‡‚ï¼Œç™¾åº¦å§ã€‚ã€‚ã€‚</li></ol></li></ul><hr><h3 id="problem-3"><a href="#problem-3" class="headerlink" title="problem 3"></a>problem 3</h3><h4 id="è™«é£Ÿç®—"><a href="#è™«é£Ÿç®—" class="headerlink" title="è™«é£Ÿç®—"></a>è™«é£Ÿç®—</h4><p>å¦‚æœè¿™ä¸ªç®—å¼æ˜¯$N$è¿›åˆ¶çš„ï¼Œæˆ‘ä»¬å°±å–è‹±æ–‡å­—æ¯è¡¨åˆçš„å‰Nä¸ªå¤§å†™å­—æ¯æ¥è¡¨ç¤ºè¿™ä¸ªç®—å¼ä¸­çš„$0$åˆ°$N-1$è¿™$N$ä¸ªä¸åŒçš„æ•°å­—ï¼šä½†æ˜¯è¿™$N$ä¸ªå­—æ¯å¹¶ä¸ä¸€å®šé¡ºåºåœ°ä»£è¡¨$0$åˆ°$N-1$ã€‚è¾“å…¥æ•°æ®ä¿è¯$N$ä¸ªå­—æ¯åˆ†åˆ«è‡³å°‘å‡ºç°ä¸€æ¬¡ã€‚</p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> BADC</span><br><span class="line">+CBDA</span><br><span class="line">â€”â€”â€”â€”â€”â€”</span><br><span class="line"> DCCC</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ç®—å¼æ˜¯ä¸€ä¸ª4è¿›åˆ¶çš„ç®—å¼ã€‚å¾ˆæ˜¾ç„¶ï¼Œæˆ‘ä»¬åªè¦è®©$ABCDABCD$åˆ†åˆ«ä»£è¡¨$01230123$ï¼Œä¾¿å¯ä»¥è®©è¿™ä¸ªå¼å­æˆç«‹äº†ã€‚ä½ çš„ä»»åŠ¡æ˜¯ï¼Œå¯¹äºç»™å®šçš„$N$è¿›åˆ¶åŠ æ³•ç®—å¼ï¼Œæ±‚å‡º$N$ä¸ªä¸åŒçš„å­—æ¯åˆ†åˆ«ä»£è¡¨çš„æ•°å­—ï¼Œä½¿å¾—è¯¥åŠ æ³•ç®—å¼æˆç«‹ã€‚è¾“å…¥æ•°æ®ä¿è¯æœ‰ä¸”ä»…æœ‰ä¸€ç»„è§£ã€‚</p><h4 id="åˆ†æ-amp-é¢˜è§£"><a href="#åˆ†æ-amp-é¢˜è§£" class="headerlink" title="åˆ†æ&amp;é¢˜è§£"></a>åˆ†æ&amp;é¢˜è§£</h4><ul><li>ä»å³å¾€å·¦ä¾æ¬¡å°è¯•å¡«å……æ•°å­—</li><li>å‰ªæ<ol><li>åœ¨å°è¯•æ”¾æ–°çš„æ•°å­—çš„æ—¶å€™ï¼Œä»n-1é“0æ”¾ä¼šå¿«å¾ˆå¤šã€‚</li><li>æ¯æ¬¡æœçš„æ—¶å€™ï¼Œçœ‹è‡ªå·±å·¦è¾¹çš„åˆ—å¦‚æœä¸‰è¡Œéƒ½ç¡®å®šäº†çš„è¯ï¼Œå°±æ£€æŸ¥æ˜¯å¦åˆæ³•ã€‚</li></ol></li></ul><hr><h3 id="problem-4-1"><a href="#problem-4-1" class="headerlink" title="problem 4"></a>problem 4</h3><h4 id="å¾ªç¯èµ›"><a href="#å¾ªç¯èµ›" class="headerlink" title="å¾ªç¯èµ›"></a><a href="https://www.luogu.org/problemnew/show/P3154" target="_blank" rel="noopener">å¾ªç¯èµ›</a></h4><ul><li>nä¸ªé˜Ÿä¼è¿›è¡Œå¾ªç¯èµ›ï¼Œèƒœè€…å¾—3åˆ†ï¼Œå¹³å¾—1åˆ†ï¼Œè´Ÿå¾—0åˆ†ï¼Œç°åœ¨ç»™å‡ºå„é˜Ÿåˆ†æ•°ï¼Œæ±‚å¯èƒ½çš„èƒœè´Ÿæƒ…å†µæ•°ã€‚</li><li>$n\leq 8$<h4 id="åˆ†æ-1"><a href="#åˆ†æ-1" class="headerlink" title="åˆ†æ"></a><a href="https://www.luogu.org/problemnew/solution/P3154" target="_blank" rel="noopener">åˆ†æ</a></h4><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">int</span> n;</span><br><span class="line"><span class="hljs-keyword">int</span> a[<span class="hljs-number">9</span>], tmp[<span class="hljs-number">9</span>];</span><br><span class="line"><span class="hljs-keyword">int</span> totwin, totfl;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">cmp</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> &amp;a, <span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> &amp;b)</span></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> a &gt; b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-built_in">map</span>&lt;ll, ll&gt; mapx;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function">ll <span class="hljs-title">dfs</span><span class="hljs-params">(ll x, ll y)</span></span>&#123;</span><br><span class="line">    ll sum = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">if</span>(x &gt;= n) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;</span><br><span class="line">    <span class="hljs-keyword">if</span>(y &gt; n)&#123;</span><br><span class="line">    <span class="hljs-keyword">if</span>(tmp[x] != a[x]) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>; </span><br><span class="line">        <span class="hljs-keyword">int</span> f[<span class="hljs-number">9</span>];</span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = x + <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">            f[i] = a[i] - tmp[i];</span><br><span class="line">        &#125;</span><br><span class="line">        ll hash = <span class="hljs-number">0</span>;</span><br><span class="line">        sort(f + x + <span class="hljs-number">1</span>, f + n + <span class="hljs-number">1</span>);</span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = x + <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">            hash = hash * <span class="hljs-number">27</span> + f[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">if</span>(mapx[hash] != <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> mapx[hash];</span><br><span class="line">        <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> mapx[hash] = dfs(x + <span class="hljs-number">1</span>, x + <span class="hljs-number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">if</span>(tmp[x] + <span class="hljs-number">3</span> &lt;= a[x] &amp;&amp; totwin)&#123;</span><br><span class="line">        tmp[x] += <span class="hljs-number">3</span>;</span><br><span class="line">        totwin--;</span><br><span class="line">        sum += dfs(x, y + <span class="hljs-number">1</span>);</span><br><span class="line">        tmp[x] -= <span class="hljs-number">3</span>;</span><br><span class="line">        totwin++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">if</span>(tmp[y] + <span class="hljs-number">3</span> &lt;= a[y] &amp;&amp; totwin)&#123;</span><br><span class="line">        tmp[y] += <span class="hljs-number">3</span>;</span><br><span class="line">        totwin--;</span><br><span class="line">        sum += dfs(x, y + <span class="hljs-number">1</span>);</span><br><span class="line">        tmp[y] -= <span class="hljs-number">3</span>;</span><br><span class="line">        totwin++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">if</span>(tmp[x] + <span class="hljs-number">1</span> &lt;= a[x] &amp;&amp; tmp[y] + <span class="hljs-number">1</span> &lt;= a[y] &amp;&amp; totfl)&#123;</span><br><span class="line">        tmp[x]++, tmp[y]++, totfl--;</span><br><span class="line">        sum += dfs(x, y + <span class="hljs-number">1</span>);</span><br><span class="line">        tmp[x]--, tmp[y]--, totfl++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">int</span> s = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;n);</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;a[i]);</span><br><span class="line">        s += a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    sort(a + <span class="hljs-number">1</span>, a + n + <span class="hljs-number">1</span>, cmp);</span><br><span class="line">    totwin = s - n * n + n;</span><br><span class="line">    totfl = (n * n - n) / <span class="hljs-number">2</span> - totwin;</span><br><span class="line">    ll ans = dfs(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);</span><br><span class="line">    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%lld\n"</span>, ans);</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><hr><h2 id="è¿­ä»£åŠ æ·±æœç´¢"><a href="#è¿­ä»£åŠ æ·±æœç´¢" class="headerlink" title="è¿­ä»£åŠ æ·±æœç´¢"></a>è¿­ä»£åŠ æ·±æœç´¢</h2><h3 id="problem-1-2"><a href="#problem-1-2" class="headerlink" title="problem 1"></a>problem 1</h3><h4 id="åŸƒåŠåˆ†æ•°"><a href="#åŸƒåŠåˆ†æ•°" class="headerlink" title="åŸƒåŠåˆ†æ•°"></a><a href="https://www.luogu.org/problemnew/show/UVA12558" target="_blank" rel="noopener">åŸƒåŠåˆ†æ•°</a></h4><p>å¤ªéš¾äº†å§ã€‚ã€‚ã€‚</p><hr><h3 id="problem-2-2"><a href="#problem-2-2" class="headerlink" title="problem 2"></a>problem 2</h3><blockquote><p>P.S.å…¶å®åˆšåˆšæ‰“æ´›è°·æœˆèµ›å»äº†ï¼Œè¿˜æ˜¯å›æ¥å¬å¬ã€‚</p></blockquote><h4 id="éª‘å£«ç²¾ç¥"><a href="#éª‘å£«ç²¾ç¥" class="headerlink" title="éª‘å£«ç²¾ç¥"></a>éª‘å£«ç²¾ç¥</h4><p>åœ¨ä¸€ä¸ª5Ã—5çš„æ£‹ç›˜ä¸Šæœ‰12ä¸ªç™½è‰²çš„éª‘å£«å’Œ12ä¸ªé»‘è‰²çš„éª‘å£«ï¼Œ ä¸”æœ‰ä¸€ä¸ªç©ºä½ã€‚åœ¨ä»»ä½•æ—¶å€™ä¸€ä¸ªéª‘å£«éƒ½èƒ½æŒ‰ç…§éª‘å£«çš„èµ°æ³•ï¼ˆå®ƒå¯ä»¥èµ°åˆ°å’Œå®ƒæ¨ªåæ ‡ç›¸å·®ä¸º1ï¼Œçºµåæ ‡ç›¸å·®ä¸º2æˆ–è€…æ¨ªåæ ‡ç›¸å·®ä¸º2ï¼Œçºµåæ ‡ç›¸å·®ä¸º1çš„æ ¼å­ï¼‰ç§»åŠ¨åˆ°ç©ºä½ä¸Šã€‚ </p><p>ç»™å®šä¸€ä¸ªåˆå§‹çš„æ£‹ç›˜ï¼Œæ€æ ·æ‰èƒ½ç»è¿‡ç§»åŠ¨å˜æˆå¦‚ä¸‹ç›®æ ‡æ£‹ç›˜ï¼š ä¸ºäº†ä½“ç°å‡ºéª‘å£«ç²¾ç¥ï¼Œä»–ä»¬å¿…é¡»ä»¥æœ€å°‘çš„æ­¥æ•°å®Œæˆä»»åŠ¡ã€‚</p><p><img src="/img/%E9%AA%91%E5%A3%AB.png" alt="éª‘å£«"></p><h4 id="åˆ†æ-amp-é¢˜è§£-1"><a href="#åˆ†æ-amp-é¢˜è§£-1" class="headerlink" title="åˆ†æ&amp;é¢˜è§£"></a>åˆ†æ&amp;é¢˜è§£</h4><p>æœ€å°æ­¥æ•°è¿™ç±»ï¼Œé€‚åˆç”¨è¿­ä»£åŠ æ·±æœç´¢ã€‚</p><p>ç”¨ç©ºæ ¼èµ°ä»£æ›¿éª‘å£«ã€‚<br>æœç´¢æ—¶è®°å½•ä¸Šä¸€æ­¥é˜²æ­¢æ¥å›èµ°ã€‚</p><p>ä¸éœ€è¦æ¯æ¬¡åˆ¤æ–­æ˜¯å¦éƒ½åœ¨ä½ç½®ï¼Œå¯ä»¥è®¡ç®—å‡ºä¸åœ¨å¯¹åº”ä½ç½®çš„éª‘å£«æœ‰å¤šå°‘ä¸ªã€‚è€Œä¸”æ¯æ¬¡å¤åŸä¸€ä¸ªéª‘å£«è‡³å°‘éœ€è¦ä¸€æ­¥ã€‚</p><hr><h2 id="å¯å‘å¼æœç´¢ï¼ˆA-ï¼‰"><a href="#å¯å‘å¼æœç´¢ï¼ˆA-ï¼‰" class="headerlink" title="å¯å‘å¼æœç´¢ï¼ˆA*ï¼‰"></a>å¯å‘å¼æœç´¢ï¼ˆA*ï¼‰</h2><ul><li>$f[x]=g[x]+h[x]$<h3 id="problem-1-3"><a href="#problem-1-3" class="headerlink" title="problem 1"></a>problem 1</h3><h4 id="kçŸ­è·¯é—®é¢˜"><a href="#kçŸ­è·¯é—®é¢˜" class="headerlink" title="kçŸ­è·¯é—®é¢˜"></a>kçŸ­è·¯é—®é¢˜</h4></li><li>ç»™å‡ºä¸€ä¸ªå›¾ï¼Œå’Œsï¼Œtï¼Œæ±‚såˆ°tçš„ç¬¬kçŸ­è·¯ã€‚</li><li>è€ƒè™‘ç”¨æœç´¢çš„éå†ï¼Œæœå‡º1-kçŸ­è·¯ã€‚<h4 id="åˆ†æ-2"><a href="#åˆ†æ-2" class="headerlink" title="åˆ†æ"></a><a href="https://www.luogu.org/problemnew/show/P2483" target="_blank" rel="noopener">åˆ†æ</a></h4></li><li>$f[x] = g[x] + h[x]$</li><li>$g[x]$å°±æ˜¯éå†è¿‡ç¨‹ä¸­ï¼Œsèµ°åˆ°xçš„è·ç¦»ã€‚</li><li>$h[x]$å°±æ˜¯xåˆ°tçš„æœ€çŸ­è·ç¦»</li><li>é¢„å¤„ç†å»ºåå‘å›¾ï¼Œæ±‚å‡ºtä¸ºèµ·ç‚¹çš„æœ€çŸ­è·¯ã€‚ä¹Ÿå°±èƒ½å¾—åˆ°æ¯ä¸ªç‚¹çš„$h[x]$</li><li>ç®—æ³•æµç¨‹ï¼š<ol><li>ç»´æŠ¤ä¸€ä¸ªä¼˜å…ˆé˜Ÿåˆ—ï¼Œå› ä¸ºæˆ‘ä»¬è¦å–çš„æ˜¯$f[x]$æœ€ä¼˜çš„ç‚¹ã€‚</li><li>æœ€å¼€å§‹åŠ å…¥såˆ°é˜Ÿåˆ—ä¸­ã€‚</li><li>ä»é˜Ÿåˆ—ä¸­å¼¹å‡º$f[x]$æœ€å°çš„ç‚¹ã€‚</li><li>æŠŠå’Œxç›¸é‚»çš„ç‚¹yï¼Œ$g[y]=g[x]+w(x,y)$ï¼Œ$f[y]=g[y]+h[y]$ï¼Œç„¶åæ”¾å…¥ä¼˜å…ˆé˜Ÿåˆ—ã€‚</li><li>å¦‚æœå¼¹å‡ºçš„ç‚¹å°±æ˜¯tï¼Œé‚£æˆ‘ä»¬å°±æ‰¾åˆ°äº†ä¸€ä¸ªè§£ï¼Œå¹¶ä¸”tot++ã€‚</li><li>å½“totä¸ºkï¼Œå³æ‰¾åˆ°äº†ç¬¬kå°çš„è·¯å¾„ã€‚</li></ol></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;åˆ†æ²»ç®—æ³•&quot;&gt;&lt;a href=&quot;#åˆ†æ²»ç®—æ³•&quot; class=&quot;headerlink&quot; title=&quot;åˆ†æ²»ç®—æ³•&quot;&gt;&lt;/a&gt;åˆ†æ²»ç®—æ³•&lt;/h2&gt;&lt;p&gt;ï¼ˆæŒç»­æ›´æ–°ï¼‰&lt;/p&gt;
    
    </summary>
    
      <category term="OI" scheme="http://yueyangwu.cn/categories/OI/"/>
    
      <category term="é›†è®­" scheme="http://yueyangwu.cn/categories/OI/%E9%9B%86%E8%AE%AD/"/>
    
    
  </entry>
  
  <entry>
    <title>æ¸…åŒ—å­¦å ‚noip2019-test1</title>
    <link href="http://yueyangwu.cn/2019/07/13/%E6%B8%85%E5%8C%97%E5%AD%A6%E5%A0%82noip2019-test1/"/>
    <id>http://yueyangwu.cn/2019/07/13/æ¸…åŒ—å­¦å ‚noip2019-test1/</id>
    <published>2019-07-13T12:11:30.000Z</published>
    <updated>2019-07-13T14:02:37.487Z</updated>
    
    <content type="html"><![CDATA[<p>è€ƒè¯•é¢˜3é“ï¼Œè€ƒçš„ç¬¬10åã€‚ã€‚ã€‚è‡ªé—­äº†</p><a id="more"></a><h2 id="problem-1-sum"><a href="#problem-1-sum" class="headerlink" title="problem 1:sum"></a>problem 1:sum</h2><p>å–µå–µå’ŒçŠ¬çŠ¬äº‰åšç»’ç»’çŒ«å’Œç»’ç»’çŠ¬ã€‚</p><p>çŠ¬çŠ¬è¯´ï¼šæˆ‘çš„ç»’ç»’å€¼æœ‰ï¼š</p><p>è¿™ä¹ˆå¤§ï¼Œä½ æ˜¯ä¸å¯èƒ½æ¯”æˆ‘å¤§çš„ã€‚</p><p>å–µå–µç¬‘è€Œä¸è¯­ï¼Œåœ¨åé¢åŠ äº†ä¸€ä¸ªï¼š(mod M) ã€‚</p><p>ç„¶åé—®çŠ¬çŠ¬ï¼šä½ çš„ç»’ç»’å€¼ç°åœ¨æ˜¯å¤šå°‘å‘¢ï¼Ÿ</p><p>1.2 è¾“å…¥æ ¼å¼</p><p>ä¸€è¡Œ3 ä¸ªæ•°ï¼Œä¾æ¬¡ä¸ºM;K;N ã€‚</p><p>1.3 è¾“å‡ºæ ¼å¼</p><p>ä¸€è¡Œ1 ä¸ªæ•°ï¼Œè¡¨ç¤ºçŠ¬çŠ¬çš„ç»’ç»’å€¼ã€‚</p><p>1.4 æ ·ä¾‹è¾“å…¥</p><p>98 3 4</p><p>1.5 æ ·ä¾‹è¾“å‡º</p><p>2</p><p>1.6 æ•°æ®èŒƒå›´<br>å¯¹äº20% çš„æ•°æ®ï¼šN;M;K&lt;=10^3</p><p>å¯¹äº40% çš„æ•°æ®ï¼šN;M&lt;=10^3;K&lt;=10^18</p><p>å¯¹äº80% çš„æ•°æ®ï¼šM&lt;=10^5;N;K&lt;=10^18</p><p>å¯¹äº100% çš„æ•°æ®ï¼š0 &lt; M&lt;=3*10^6;N;K&lt;=10^18</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è€ƒè¯•é¢˜3é“ï¼Œè€ƒçš„ç¬¬10åã€‚ã€‚ã€‚è‡ªé—­äº†&lt;/p&gt;
    
    </summary>
    
      <category term="OI" scheme="http://yueyangwu.cn/categories/OI/"/>
    
      <category term="é›†è®­" scheme="http://yueyangwu.cn/categories/OI/%E9%9B%86%E8%AE%AD/"/>
    
    
  </entry>
  
  <entry>
    <title>æ¸…åŒ—å­¦å ‚noip2019-Day1</title>
    <link href="http://yueyangwu.cn/2019/07/13/%E6%B8%85%E5%8C%97%E5%AD%A6%E5%A0%82noip2019-Day1/"/>
    <id>http://yueyangwu.cn/2019/07/13/æ¸…åŒ—å­¦å ‚noip2019-Day1/</id>
    <published>2019-07-13T04:20:33.000Z</published>
    <updated>2019-07-14T01:08:22.623Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ¸…åŒ—å­¦å ‚noip2019-Day1"><a href="#æ¸…åŒ—å­¦å ‚noip2019-Day1" class="headerlink" title="æ¸…åŒ—å­¦å ‚noip2019-Day1"></a>æ¸…åŒ—å­¦å ‚noip2019-Day1</h1><a id="more"></a><h2 id="è´ªå¿ƒç®—æ³•"><a href="#è´ªå¿ƒç®—æ³•" class="headerlink" title="è´ªå¿ƒç®—æ³•"></a>è´ªå¿ƒç®—æ³•</h2><blockquote><p>P.S. æ¯é“é¢˜çš„ä»£ç æˆ‘ä¹‹åè¡¥åŠ ã€‚ã€‚ã€‚</p></blockquote><h3 id="problem-1ï¼šChocolate"><a href="#problem-1ï¼šChocolate" class="headerlink" title="problem 1ï¼šChocolate"></a>problem 1ï¼šChocolate</h3><h4 id="Chocolate"><a href="#Chocolate" class="headerlink" title="Chocolate"></a><a href="https://www.luogu.org/problemnew/show/P3173" target="_blank" rel="noopener">Chocolate</a></h4><p>ä¸€å—$n\times m$çš„å·§å…‹åŠ›ï¼Œ åˆ‡æˆ$n\times m$å—ã€‚</p><p>å·§å…‹åŠ›ä¸Šå…±æœ‰$n-1$æ¡æ¨ªçº¿å’Œ$m-1$æ¡ç«–çº¿ï¼Œæ¯æ¬¡æ²¿ç€ä¸€æ¡çº¿å°†å·§å…‹åŠ›åˆ‡å¼€ã€‚</p><p>æ— è®ºåˆ‡å‰²é•¿çŸ­ï¼Œæ¨ªçº¿åˆ‡ä¸€æ¬¡çš„ä»£ä»·æ˜¯$y_1,y_2,y_3,â€¦,y_{n-1}$ï¼Œç«–çº¿æ˜¯$x_1,x_2,x_3,â€¦,x_{m-1}$ã€‚</p><p>æ±‚æœ€å°æ€»ä»£ä»·ã€‚</p><p>$n,m\leq 10^5$</p><h4 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a><a href="https://www.luogu.org/problemnew/solution/P3173" target="_blank" rel="noopener">é¢˜è§£</a></h4><p>æ¨ªå‘åˆ‡ä¼šä½¿çºµå‘æ¬¡æ•°+1ï¼Œçºµå‘åŒç†ã€‚</p><p>æ‰€ä»¥è‚¯å®šå…ˆåˆ‡å¤§çš„ï¼Œå†åˆ‡å°çš„ã€‚</p><p>äºæ˜¯æŠŠæ¨ªçºµæ”¾åˆ°ä¸€èµ·æ’åºï¼Œä¾æ¬¡å–æœ€å¤§å€¼ç»Ÿè®¡ç­”æ¡ˆå³å¯ã€‚</p><hr><h3 id="problem-2"><a href="#problem-2" class="headerlink" title="problem 2"></a>problem 2</h3><h4 id="USACO-Allowance"><a href="#USACO-Allowance" class="headerlink" title="USACO Allowance"></a><a href="https://www.luogu.org/problemnew/show/P2376" target="_blank" rel="noopener">USACO Allowance</a></h4><ul><li>Johnå†³å®šæ¯ä¸ªæ˜ŸæœŸç»™bä¸€ç‚¹é›¶èŠ±é’±</li><li>jæœ‰ä¸€äº›ç¡¬å¸ï¼Œ å…±nç§é¢é¢ã€‚æ¯ä¸€ä¸ªé¢é¢éƒ½èƒ½æ•´é™¤æ¯”ä»–å¤§çš„æ‰€æœ‰é¢é¢ã€‚</li><li>ä»–æƒ³ç”¨ç»™å®šçš„ç¡¬å¸é›†åˆï¼ˆç»™å‡ºç¡¬å¸ç§ç±»åŠæ•°é‡ï¼‰ï¼Œæ¯ä¸ªæ˜ŸæœŸè‡³å°‘ç»™bæŸä¸ªé›¶èŠ±é’±çš„æ•°ç›®Cã€‚</li><li>è¯·è®¡ç®—ä»–æœ€å¤šèƒ½ç»™å¤šå°‘æ˜ŸæœŸé›¶èŠ±é’±ã€‚</li></ul><h4 id="é¢˜è§£-1"><a href="#é¢˜è§£-1" class="headerlink" title="é¢˜è§£"></a><a href="https://www.luogu.org/problemnew/solution/P2376" target="_blank" rel="noopener">é¢˜è§£</a></h4><ul><li><p>é˜¶æ®µä¸€ï¼šå°½å¿«æ¥è¿‘Cï¼Œç”¨å¤§é¢é¢çš„å‡‘ã€‚</p></li><li><p>é˜¶æ®µäºŒï¼šè¶…è¿‡Cå°½é‡å°‘ï¼Œç”¨å°é¢é¢çš„å‡‘ã€‚</p></li><li><p>å¼€å§‹èƒ½ç”¨å¤§é¢é¢å°±ç”¨å¤§é¢é¢ï¼Œç›´åˆ°å‡‘åˆ°çš„$sum + a_i&gt;C$ï¼Œç„¶åå°½é‡ç”¨å°çš„å‡‘ï¼Œç›´åˆ°$sum+a_i&gt;C$ã€‚</p></li></ul><p>ä»£ç ï¼š</p><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">int</span> n, c;</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span>&#123;</span></span><br><span class="line"><span class="hljs-keyword">int</span> v, b;</span><br><span class="line">&#125;a[<span class="hljs-number">30</span>];</span><br><span class="line"><span class="hljs-keyword">int</span> k;</span><br><span class="line"><span class="hljs-keyword">int</span> ans;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">cmp</span><span class="hljs-params">(<span class="hljs-keyword">const</span> node &amp;a, <span class="hljs-keyword">const</span> node &amp;b)</span></span>&#123;</span><br><span class="line"><span class="hljs-keyword">return</span> a.v &lt; b.v;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line"><span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d"</span>, &amp;n, &amp;c);</span><br><span class="line"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line"><span class="hljs-keyword">int</span> v, b;</span><br><span class="line"><span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d"</span>, &amp;v, &amp;b);</span><br><span class="line"><span class="hljs-keyword">if</span>(v &gt;= c) ans += b;</span><br><span class="line"><span class="hljs-keyword">else</span> a[++k].v = v, a[k].b = b;</span><br><span class="line">&#125;</span><br><span class="line">sort(a + <span class="hljs-number">1</span>, a + k + <span class="hljs-number">1</span>, cmp);</span><br><span class="line"><span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>, ans);</span><br><span class="line"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= k; i++)&#123;</span><br><span class="line"><span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d %d\n"</span>, a[i].v, a[i].b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-keyword">while</span>(<span class="hljs-literal">true</span>)&#123;</span><br><span class="line"><span class="hljs-keyword">int</span> x = c;</span><br><span class="line"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = k; i &gt;= <span class="hljs-number">1</span>; i--)&#123;</span><br><span class="line"><span class="hljs-keyword">while</span>(a[i].b &gt; <span class="hljs-number">0</span> &amp;&amp; x &gt;= a[i].v)&#123;</span><br><span class="line">x -= a[i].v;</span><br><span class="line">a[i].b--;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-keyword">if</span>(x &gt; <span class="hljs-number">0</span>)&#123;</span><br><span class="line"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= k; i++)&#123;</span><br><span class="line"><span class="hljs-keyword">if</span>(a[i].b &gt; <span class="hljs-number">0</span> &amp;&amp; x &lt;= a[i].v)&#123;</span><br><span class="line">x -= a[i].v;</span><br><span class="line">a[i].b--;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-keyword">if</span>(x &gt; <span class="hljs-number">0</span>) <span class="hljs-keyword">break</span>;</span><br><span class="line">ans++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d"</span>, ans);</span><br><span class="line"><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="problem-3"><a href="#problem-3" class="headerlink" title="problem 3"></a>problem 3</h3><h4 id="Face-the-Right-Way"><a href="#Face-the-Right-Way" class="headerlink" title="Face the Right Way"></a><a href="https://www.luogu.org/problemnew/show/P2882" target="_blank" rel="noopener">Face the Right Way</a></h4><p>ç»™å‡ºä¸€ä¸ªé•¿ä¸ºnçš„F/Båºåˆ—ï¼Œn&lt;=5000ã€‚</p><p>ä½ å¯ä»¥æ¯æ¬¡é€‰æ‹©è¿ç»­é•¿åº¦ä¸ºkçš„ä¸€æ®µï¼Œè¿›è¡ŒFBè½¬æ¢ã€‚</p><p>ä½¿å¾—æœ€åæ•´ä¸ªåºåˆ—å…¨ä¸ºFã€‚</p><p>æ±‚æœ€å°‘çš„æ“ä½œæ¬¡æ•°å’Œå¯¹åº”çš„æœ€å°é•¿åº¦ã€‚</p><h4 id="é¢˜è§£-2"><a href="#é¢˜è§£-2" class="headerlink" title="é¢˜è§£"></a><a href="https://www.luogu.org/problemnew/solution/P2882?page=2" target="_blank" rel="noopener">é¢˜è§£</a></h4><p> å› ä¸ºåŒä¸€ä¸ªç‚¹ç¿»è½¬ä¸¤æ¬¡å°±ä¸æ²¡æœ‰ç¿»è½¬çš„æ•ˆæœç›¸åŒäº†ï¼Œå› æ­¤æˆ‘ä»¬æœ‰ä¸€ä¸ªè´ªå¿ƒç­–ç•¥ä¸ºï¼š</p><p>å·¦åˆ°å³å¯¹äºå‡ºç°çš„æ¯ä¸€ä¸ªBç¿»è½¬ä¸€æ¬¡ä»å½“å‰ç‚¹å¼€å§‹çš„åŒºé—´ï¼Œå°±èƒ½ä¿è¯æ˜¯æœ€ä¼˜è§£ã€‚</p><p>ä½†æ˜¯æˆ‘ä»¬ä¼šå‘ç°è¿™æ ·æ˜¯$n^2$çš„ï¼Œå†æšä¸¾é•¿åº¦ï¼Œå°±å˜ä¸ºäº†$n^3$ã€‚</p><p>å› æ­¤ï¼Œéœ€è¦å¯¹åŒºé—´ç¿»è½¬å·®åˆ†ä¸€ä¸‹ï¼Œæ€»æ—¶é—´å¤æ‚åº¦å°±æ˜¯$n^2$çš„äº†ã€‚<br><img src="/img/p3.png" alt="p3"></p><p>ç„¶åä¸‹é¢æ˜¯æˆ‘çš„ä»£ç ï¼š</p><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">int</span> n, a[<span class="hljs-number">5009</span>], dif[<span class="hljs-number">5009</span>];</span><br><span class="line"><span class="hljs-keyword">int</span> mincnt = <span class="hljs-number">0x3f3f3f3f</span>, minlen;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line"><span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;n);</span><br><span class="line"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line"><span class="hljs-keyword">char</span> c;</span><br><span class="line"><span class="hljs-built_in">cin</span>&gt;&gt;c;</span><br><span class="line">a[i] = (c == <span class="hljs-string">'F'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> len = <span class="hljs-number">1</span>; len &lt;= n; len++)&#123;</span><br><span class="line"><span class="hljs-keyword">int</span> now = <span class="hljs-number">0</span>, cnt = <span class="hljs-number">0</span>;</span><br><span class="line"><span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">true</span>;</span><br><span class="line"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) dif[i] = <span class="hljs-number">0</span>;</span><br><span class="line"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">now ^= dif[i];</span><br><span class="line"><span class="hljs-keyword">if</span>(!(a[i] ^ now))&#123;</span><br><span class="line"><span class="hljs-keyword">if</span>(i + len - <span class="hljs-number">1</span> &gt; n)&#123;</span><br><span class="line">flag = <span class="hljs-literal">false</span>;</span><br><span class="line"><span class="hljs-keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">now ^= <span class="hljs-number">1</span>;</span><br><span class="line">dif[i] ^= <span class="hljs-number">1</span>;</span><br><span class="line">dif[i + len] ^= <span class="hljs-number">1</span>;</span><br><span class="line">cnt++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-keyword">if</span>(flag)&#123;</span><br><span class="line"><span class="hljs-keyword">if</span>(cnt &lt; mincnt)&#123;</span><br><span class="line">minlen = len;</span><br><span class="line">mincnt = cnt;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d %d\n"</span>, minlen, mincnt);</span><br><span class="line"><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="problem-4"><a href="#problem-4" class="headerlink" title="problem 4"></a>problem 4</h3><h4 id="æ—…è¡Œå®¶çš„é¢„ç®—"><a href="#æ—…è¡Œå®¶çš„é¢„ç®—" class="headerlink" title="æ—…è¡Œå®¶çš„é¢„ç®—"></a><a href="https://www.luogu.org/problemnew/show/P1016" target="_blank" rel="noopener">æ—…è¡Œå®¶çš„é¢„ç®—</a></h4><p>ä¸€ä¸ªæ—…è¡Œå®¶æƒ³é©¾é©¶æ±½è½¦ä»¥æœ€å°‘çš„è´¹ç”¨ä»ä¸€ä¸ªåŸå¸‚åˆ°å¦ä¸€ä¸ªåŸå¸‚ï¼ˆå‡è®¾å‡ºå‘æ—¶æ²¹ç®±æ˜¯ç©ºçš„ï¼‰ã€‚</p><p>ç»™å®šä¸¤ä¸ªåŸå¸‚ä¹‹é—´çš„è·ç¦»D1ã€æ±½è½¦æ²¹ç®±çš„å®¹é‡Cï¼ˆä»¥å‡ä¸ºå•ä½ï¼‰ã€æ¯å‡æ±½æ²¹èƒ½è¡Œé©¶çš„è·ç¦»D2ã€å‡ºå‘ç‚¹æ¯å‡æ±½æ²¹ä»·æ ¼På’Œæ²¿é€”æ²¹ç«™æ•°Nï¼ˆNå¯ä»¥ä¸ºé›¶ï¼‰ï¼Œæ²¹ç«™iç¦»å‡ºå‘ç‚¹çš„è·ç¦»Diã€æ¯å‡æ±½æ²¹ä»·æ ¼Piï¼ˆi=1,2,â€¦,Nï¼‰ã€‚</p><p>æ±‚æœ€å°‘çš„æ€»è´¹ç”¨ï¼Œå¦‚æœæ— æ³•åˆ°è¾¾ç›®çš„åœ°ï¼Œåˆ™è¾“å‡ºâ€œNo Solutionâ€ã€‚</p><h4 id="é¢˜è§£-3"><a href="#é¢˜è§£-3" class="headerlink" title="é¢˜è§£"></a><a href="https://www.luogu.org/problemnew/solution/P1016" target="_blank" rel="noopener">é¢˜è§£</a></h4><p>æšä¸¾é€”ä¸­ç»è¿‡çš„åŠ æ²¹ç«™ï¼Œæ¯ç»è¿‡ä¸€ä¸ªåŠ æ²¹ç«™ï¼Œè®¡ç®—ä¸€æ¬¡èŠ±è´¹</p><p>åœ¨ä¸€ä¸ªåŠ æ²¹ç«™æ‰€éœ€è¦åŠ çš„æ²¹ï¼Œå°±æ˜¯èƒ½å¤Ÿæ”¯æŒå®ƒåˆ°è¾¾ä¸‹ä¸€ä¸ªæ²¹ä»·æ¯”å®ƒä½çš„åŠ æ²¹ç«™çš„é‡</p><p>å¦‚æœåœ¨è¿™ä¸ªåŠ æ²¹ç«™å³ä½¿åŠ æ»¡æ²¹ï¼Œéƒ½ä¸èƒ½åˆ°è¾¾ä¸€ä¸ªæ¯”å®ƒæ²¹ä»·ä½çš„åŠ æ²¹ç«™ï¼Œå°±æŠŠæ²¹ç®±åŠ æ»¡ï¼Œå‰å¾€èƒ½å¤Ÿåˆ°è¾¾çš„åŠ æ²¹ç«™ä¸­æ²¹ä»·æœ€ä½çš„é‚£ä¸ª</p><p>å¦‚æœåœ¨è¿™ä¸ªåŠ æ²¹ç«™å³ä½¿åŠ æ»¡æ²¹ï¼Œéƒ½ä¸èƒ½åˆ°è¾¾ä»»æ„ä¸€ä¸ªåŠ æ²¹ç«™ï¼Œä¹Ÿä¸èƒ½åˆ°è¾¾ç»ˆç‚¹åŸå¸‚ï¼Œè¯´æ˜æ— è§£</p><hr><h3 id="problem-5"><a href="#problem-5" class="headerlink" title="problem 5"></a>problem 5</h3><h4 id="The-Minima-Game"><a href="#The-Minima-Game" class="headerlink" title="The Minima Game"></a><a href="https://www.luogu.org/problemnew/show/P3507" target="_blank" rel="noopener">The Minima Game</a></h4><p>ç»™å‡ºNä¸ªæ­£æ•´æ•°ï¼ŒABä¸¤ä¸ªäººè½®æµå–æ•°ï¼ŒAå…ˆå–ã€‚æ¯æ¬¡å¯ä»¥å–ä»»æ„å¤šä¸ªæ•°ï¼Œç›´åˆ°Nä¸ªæ•°éƒ½è¢«å–èµ°ã€‚æ¯æ¬¡è·å¾—çš„å¾—åˆ†ä¸ºå–çš„æ•°ä¸­çš„æœ€å°å€¼ï¼ŒAå’ŒBçš„ç­–ç•¥éƒ½æ˜¯å°½å¯èƒ½ä½¿å¾—è‡ªå·±çš„å¾—åˆ†å‡å»å¯¹æ‰‹çš„å¾—åˆ†æ›´å¤§ã€‚åœ¨è¿™æ ·çš„æƒ…å†µä¸‹ï¼Œæœ€ç»ˆAçš„å¾—åˆ†å‡å»Bçš„å¾—åˆ†ä¸ºå¤šå°‘ã€‚</p><p>$n\leq 10^5$</p><h4 id="é¢˜è§£-4"><a href="#é¢˜è§£-4" class="headerlink" title="é¢˜è§£"></a><a href="https://www.luogu.org/problemnew/solution/P3507" target="_blank" rel="noopener">é¢˜è§£</a></h4><ul><li>èº«ä¸´å…¶å¢ƒçš„åˆ†æï¼š</li></ul><p>ä¸€æ–¹é¢è¦è®©è‡ªå·±å–çš„æ•°ä¸­çš„æœ€å°å€¼å°½é‡å¤§ï¼Œ</p><p>ä¸€æ–¹é¢è¦è®©å‰©ä¸‹æ•°ä¸­çš„æœ€å¤§å€¼å°½é‡å°ã€‚</p><p>æ•…å…ˆæ‰‹è‚¯å®šä¼šä»å¤§åˆ°å°çš„å–æ•°ï¼Œ</p><p>å¹¶ä¸”å–å‡ºçš„æ•°æ˜¯è¿ç»­çš„ä¸€æ®µã€‚</p><ul><li><strong>è¯æ˜ï¼š</strong></li></ul><p>ä»å¤§åˆ°å°å–æ•°æ˜¾ç„¶ï¼Œè‹¥ä¸æ˜¯è¿ç»­å–æ•°ï¼Œåˆ™ç•™ä¸‹çš„æ•°æ›´å¤šï¼Œå¤§çš„æ•°æ›´å¤šï¼Œä¼šç»™å¯¹æ–¹æ›´å¤šçš„æœºä¼šã€‚æ‰€ä»¥å¿…ç„¶æ˜¯è¿ç»­å–æ•°ã€‚</p><ul><li>æ‰€ä»¥æˆ‘ä»¬å€’ç€æ¥è€ƒè™‘ä¸€ä¸‹ï¼Œå°†æ‰€æœ‰çš„æ•°ä»å°åˆ°å¤§æ’åˆ—ä¹‹åï¼Œf[i]è¡¨ç¤ºä¸¤äººå–å®Œå‰iä¸ªæ•°ï¼Œå…ˆæ‰‹å‡å»åæ‰‹çš„æœ€å¤§å€¼ã€‚(è¿™é‡Œå…ˆæ‰‹åæ‰‹æ˜¯ç›¸å¯¹çš„ï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯å€’åºçš„ï¼Œå’Œå®é™…å–æ³•æ˜¯å®Œå…¨ç›¸åçš„ï¼Œå®ƒå®é™…ä¸Šæ˜¯å¤„ç†å‡ºäº†1~iä¸ªæ•°çš„æƒ…å†µä¸‹çš„æœ€ä¼˜è§£ï¼ŒAå…ˆä»iå¼€å§‹å¾€å·¦è¾¹å–ï¼Œæ‰€ä»¥è¯´è€ƒè™‘å…ˆæ‰‹å‡åæ‰‹æœ€å¤§å€¼ï¼‰</li></ul><hr><h3 id="problem-6"><a href="#problem-6" class="headerlink" title="problem 6"></a>problem 6</h3><h4 id="ZJOI2005-åˆé¤"><a href="#ZJOI2005-åˆé¤" class="headerlink" title="[ZJOI2005]åˆé¤"></a><a href="https://www.luogu.org/problemnew/show/P2577" target="_blank" rel="noopener">[ZJOI2005]åˆé¤</a></h4><p>Näººæ¥åˆ°äº†é£Ÿå ‚ï¼Œæ¯ä¸ªäººç”±è‡ªå·±çš„æ‰“é¥­æ—¶é—´å’Œåƒé¥­æ—¶é—´ã€‚</p><p>é£Ÿå ‚æœ‰ä¸¤ä¸ªæ‰“é¥­çª—å£ï¼Œæˆ‘ä»¬è¦æŠŠæ‰€æœ‰çš„äººåˆ†æˆä¸¤é˜Ÿï¼Œç„¶åä¸€å·é˜Ÿä¼åˆ°ä¸€å·çª—å£å»æ’é˜Ÿæ‰“é¥­ï¼ŒäºŒå·é˜Ÿä¼åˆ°äºŒå·çª—å£ã€‚æ¯ä¸ªäººæ‰“å®Œé¥­åç«‹åˆ»å¼€å§‹åƒã€‚</p><p>ç°åœ¨ç»™å®šäº†æ¯ä¸ªäººçš„æ‰“é¥­æ—¶é—´å’Œåƒé¥­æ—¶é—´ï¼Œè¦æ±‚å®‰æ’ä¸€ç§æœ€ä½³çš„åˆ†é˜Ÿå’Œæ’é˜Ÿæ–¹æ¡ˆä½¿å¾—æ‰€æœ‰äººéƒ½åƒå®Œé¥­çš„æ—¶é—´å°½é‡æ—©ã€‚ </p><p>ä¸¤ä¸ªçª—å£æ˜¯å¹¶è¡Œæ“ä½œäº’ä¸å½±å“çš„ï¼Œè¦æ±‚è¾“å‡ºæœ€ä½³æ–¹æ¡ˆä¸‹æ‰€æœ‰äººåƒå®Œé¥­çš„æ—¶åˆ»ã€‚</p><h4 id="é¢˜è§£-5"><a href="#é¢˜è§£-5" class="headerlink" title="é¢˜è§£"></a><a href="https://www.luogu.org/problemnew/solution/P2577" target="_blank" rel="noopener">é¢˜è§£</a></h4><p>è´ªå¿ƒçš„ç†è§£ï¼Œå¦‚æœæ‰€æœ‰äººéƒ½è¦æ—©ç‚¹èµ°</p><p>é‚£ä¹ˆåƒé¥­æ—¶é—´é•¿çš„å°±å…ˆåƒï¼Œåƒé¥­æ—¶é—´çŸ­çš„å°±æ™šç‚¹åƒ</p><p>æ‰€ä»¥ï¼ŒæŒ‰ç…§åƒé¥­æ—¶é—´æ’åº</p><p>æ¯ä¸ªäººåƒå®Œé¥­çš„æ—¶é—´ä¹‹å’Œå‰é¢æ‰€æœ‰äººçš„æ‰“é¥­çš„æ—¶é—´å’Œæœ‰å…³</p><p>$f[i][j][k]$è¡¨ç¤ºå½“å‰åšåˆ°ç¬¬iä¸ªäººï¼Œç¬¬ä¸€åˆ—ï¼Œç¬¬äºŒåˆ—å‰é¢çš„äººçš„æ‰“é¥­æ—¶é—´ä¹‹å’Œåˆ†åˆ«ä¸º$j,k$ï¼Œæœ€åä¸€ä¸ªäººåƒå®Œé¥­çš„æœ€å°æ—¶é—´.</p><p>ä½†ç›´æ¥ä¸‰ç»´çŠ¶æ€ä¼šç‚¸ï¼Ÿ</p><p>æ‰€ä»¥ï¼ŒçŠ¶æ€æ˜¯f[i][j]è¡¨ç¤ºå½“å‰åšåˆ°ç¬¬iä¸ªäººï¼Œ ç¬¬ä¸€åˆ—é˜Ÿä¼å‰é¢æ‰€æœ‰äººæ‰“é¥­çš„æ—¶é—´å’Œæ˜¯jæ—¶æœ€åä¸€ä¸ªäººåƒå®Œé¥­çš„æœ€å°æ—¶é—´</p><p>å¦‚æœæŠŠè¿™ä¸ªäººæ”¾åœ¨ç¬¬ä¸€åˆ—$f[i][j]=min(f[i][j],max(f[iâˆ’1][jâˆ’Get[i]],j+eat[i]))$</p><p>å¦å¤–æŠŠè¿™ä¸ªäººæ”¾åœ¨ç¬¬äºŒåˆ—$f[i][j]=max(f[iâˆ’1][j],sum[i]âˆ’j+eat[i])$</p><hr><h3 id="problem-7"><a href="#problem-7" class="headerlink" title="problem 7"></a>problem 7</h3><h4 id="Water-Tanks"><a href="#Water-Tanks" class="headerlink" title="Water Tanks"></a>Water Tanks</h4><p>ç»™ä½ ä¸€æ£µæ ‘ï¼Œkå‡æ°´ï¼Œpå—é’±ï¼Œè¿›è¡Œä¸€æ¬¡æ¸¸æˆã€‚</p><p>åœ¨æ¸¸æˆè¿›è¡Œå‰ï¼Œå¯ä»¥åœ¨ä»»æ„ä¸ªèŠ‚ç‚¹ä¸Šæ”¾ç½®1å‡æ°´ï¼ˆæ€»æ•°ä¸è¶…è¿‡kï¼‰</p><p>æ¸¸æˆè¿›è¡Œè‹¥å¹²è½®ï¼Œæ¯è½®æ¸¸æˆå¼€æ”¾æ‰€æœ‰èŠ‚ç‚¹ï¼Œå¯ä»¥é€‰æ‹©è‹¥å¹²ä¸ªèŠ‚ç‚¹å…³é—­ï¼Œä»£ä»·ä¸ºè¯¥èŠ‚ç‚¹çš„æ°´æ•°é‡ã€‚ç„¶åæ‰€æœ‰æœªå…³é—­èŠ‚ç‚¹çš„æ°´æµå‘å®ƒçš„çˆ¶äº²(ä¸ä¼šè¿ç»­ç§»åŠ¨)ã€‚</p><p>æœ€åï¼Œæ ¹èŠ‚ç‚¹ä¸­çš„æ°´ä¼šè¢«å–èµ°ï¼Œæ°´çš„æ•°é‡ä¸ºè¯¥è½®æ¸¸æˆçš„ç›ˆåˆ©ã€‚</p><p>æ±‚æœ€å¤§ç›ˆåˆ©-ä»£ä»·ã€‚</p><h4 id="é¢˜è§£-6"><a href="#é¢˜è§£-6" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h4><p>åœ¨æ”¾ç½®æ°´çš„é€‰æ‹©ä¸Šï¼Œåº”è¯¥å°½é‡é€‰æ‹©æ·±åº¦ç›¸é‚»çš„èŠ‚ç‚¹ï¼Œå³å°†æ‰€æœ‰èŠ‚ç‚¹æŒ‰ç…§æ·±åº¦æ’åºåï¼Œæ‰€é€‰æ‹©æ”¾æ°´çš„èŠ‚ç‚¹åº”è¯¥æ˜¯è¿ç»­çš„ä¸€æ®µã€‚</p><p>è€ƒè™‘é€‰æ‹©æŸæ®µåŒºé—´åï¼Œæ‰€éœ€è¦èŠ±è´¹çš„é’±ã€‚</p><p>å‡è®¾æ·±åº¦èŒƒå›´[l , r] ï¼ŒæŸä¸ªæ·±åº¦çš„ç‚¹ä¸º a[i] ï¼Œåˆ™èŠ±è´¹é’±ä¸ºsigma(a[i]*(r-i)) </p><p>ç”¨ä¸¤ä¸ªæŒ‡é’ˆè¿›è¡Œæ‰«æå³å¯ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;æ¸…åŒ—å­¦å ‚noip2019-Day1&quot;&gt;&lt;a href=&quot;#æ¸…åŒ—å­¦å ‚noip2019-Day1&quot; class=&quot;headerlink&quot; title=&quot;æ¸…åŒ—å­¦å ‚noip2019-Day1&quot;&gt;&lt;/a&gt;æ¸…åŒ—å­¦å ‚noip2019-Day1&lt;/h1&gt;
    
    </summary>
    
      <category term="OI" scheme="http://yueyangwu.cn/categories/OI/"/>
    
      <category term="é›†è®­" scheme="http://yueyangwu.cn/categories/OI/%E9%9B%86%E8%AE%AD/"/>
    
    
  </entry>
  
  <entry>
    <title>æ¸…åŒ—å­¦å ‚noip2019-D0</title>
    <link href="http://yueyangwu.cn/2019/07/12/%E6%B8%85%E5%8C%97%E5%AD%A6%E5%A0%82noip2019-D0/"/>
    <id>http://yueyangwu.cn/2019/07/12/æ¸…åŒ—å­¦å ‚noip2019-D0/</id>
    <published>2019-07-12T14:36:50.000Z</published>
    <updated>2019-07-12T14:48:17.941Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æµå—æ¸…åŒ—å­¦å ‚æ¸¸è®°-Day0"><a href="#æµå—æ¸…åŒ—å­¦å ‚æ¸¸è®°-Day0" class="headerlink" title="æµå—æ¸…åŒ—å­¦å ‚æ¸¸è®° Day0"></a>æµå—æ¸…åŒ—å­¦å ‚æ¸¸è®° Day0</h2><a id="more"></a><hr><ul><li>ä¸‹åˆ1:59çš„ç«è½¦ï¼Œç«è½¦ä¸Šéƒ¨ç½²äº†ä¸€ä¸‹hexo blogï¼Œæäº†ä¸€ä¸‹SEOï¼Œç»“æœè¿˜æ˜¯ç½‘å¤ªæ…¢ã€‚ã€‚ã€‚æ²¡ææˆ</li><li>ç„¶åæŸä½åŒå­¦å±…ç„¶å»äº†å¦å¤–ä¸€ä¸ªé…’åº—ã€‚ã€‚ã€‚ï¼ˆè²Œä¼¼å› ä¸ºè·ç¦»å¤§æ˜æ¹–å¤ªè¿œï¼Ÿæˆ–è€…æˆ‘è§‰å¾—å¯èƒ½åªæ˜¯ä¸ªå€Ÿå£ï¼Œåæ­£éƒ½è¿™æ ·äº†ï¼Œå°±è‡ªå·±ä½å‘—ã€‚</li><li>æˆ‘å«Œä¸€ä¸ªäººä½å¤ªè´µï¼Œæƒ³æ‰¾ä¸ªäººæ‹¼ä¸€ä¸ªæ ‡é—´ï¼Œäºæ˜¯ç¢°åˆ°ä¸€ä½äººå¤§é™„çš„åˆäºŒå·¨ä½¬ã€‚ã€‚ã€‚åŠæ‰“æˆ‘å…«åƒé‡Œå¼€å¤–%%%ï¼Œç„¶åä½ ä»¬å°±æœ‰äº†è¿™ç¯‡æ–‡ç« ã€‚</li><li>å‡†å¤‡ä¸€ä¼šç›´æ¥æ´—æ¼±ç¡äº†ï¼ŒDay0å°±è¿™æ ·ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;æµå—æ¸…åŒ—å­¦å ‚æ¸¸è®°-Day0&quot;&gt;&lt;a href=&quot;#æµå—æ¸…åŒ—å­¦å ‚æ¸¸è®°-Day0&quot; class=&quot;headerlink&quot; title=&quot;æµå—æ¸…åŒ—å­¦å ‚æ¸¸è®° Day0&quot;&gt;&lt;/a&gt;æµå—æ¸…åŒ—å­¦å ‚æ¸¸è®° Day0&lt;/h2&gt;
    
    </summary>
    
      <category term="OI" scheme="http://yueyangwu.cn/categories/OI/"/>
    
      <category term="é›†è®­" scheme="http://yueyangwu.cn/categories/OI/%E9%9B%86%E8%AE%AD/"/>
    
    
  </entry>
  
  <entry>
    <title>CodeForces 484 B. Maximum Value</title>
    <link href="http://yueyangwu.cn/2019/06/06/codeforces-484-b-maximum-value/"/>
    <id>http://yueyangwu.cn/2019/06/06/codeforces-484-b-maximum-value/</id>
    <published>2019-06-06T07:05:38.000Z</published>
    <updated>2019-07-27T03:55:31.311Z</updated>
    
    <content type="html"><![CDATA[<p><a href="http://codeforces.com/problemset/problem/484/B" title="é¢˜ç›®é“¾æ¥" target="_blank" rel="noopener">é¢˜ç›®é“¾æ¥</a></p><a id="more"></a><hr><p>é¢˜ç›®ç¿»è¯‘ï¼šç»™å®šåºåˆ—$a_n$ï¼Œæ±‚$a_i \% a_j$çš„æœ€å¤§å€¼ï¼Œ$1 \leq i,j \leq n$ä¸”$a_i&gt;a_j$ã€‚ å¯ä»¥å…ˆå°†è¾“å…¥çš„æ•°æ®ç”±å°åˆ°å¤§æ’åºï¼Œå¦‚æœæœ‰ç›¸åŒçš„æ•°æ®å°±å»é‡ï¼Œç„¶åæšä¸¾é™¤æ•°ï¼Œå¯¹äºä¸€ä¸ªé™¤æ•°ï¼Œä»å®ƒçš„äºŒå€å¼€å§‹ï¼Œç›´åˆ°å®ƒå¤§äºæ•°åˆ—ä¸­çš„æœ€å¤§å€¼ã€‚ ã€‚ã€‚ã€‚å¥½ä¸é€šé¡ºã€‚ã€‚ã€‚çœ‹ä»£ç å§ã€‚</p><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">cmp</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span>&amp; a,<span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span>&amp; b)</span></span>&#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> a&gt;b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Solution</span>&#123;</span></span><br><span class="line">    <span class="hljs-keyword">int</span> n,ans,maxn,q;</span><br><span class="line">    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; a;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Solve</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>,&amp;n);</span><br><span class="line">        a.resize(n);</span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>,&amp;a[i]);</span><br><span class="line">            maxn=max(maxn,a[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        sort(a.begin(),a.end());</span><br><span class="line">        n=unique(a.begin(),a.end())-a.begin();</span><br><span class="line">        a.resize(n);</span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> k=<span class="hljs-number">2</span>*a[i];</span><br><span class="line">            <span class="hljs-keyword">while</span>(k&lt;maxn+a[i])&#123;</span><br><span class="line">                <span class="hljs-keyword">int</span> x=lower_bound(a.begin(),a.end(),k)-a.begin()<span class="hljs-number">-1</span>;</span><br><span class="line">                <span class="hljs-keyword">if</span>(x==<span class="hljs-number">-1</span>)&#123;</span><br><span class="line">                    k+=a[i];</span><br><span class="line">                    <span class="hljs-keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="hljs-comment">//printf("k=%d a[%d]=%d a[x] mod a[i]=%d\n",k,x,a[x],a[x]%a[i]);</span></span><br><span class="line">                ans=max(ans,a[x]%a[i]);</span><br><span class="line">                k+=a[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>,ans);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">    Solution().Solve();</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;http://codeforces.com/problemset/problem/484/B&quot; title=&quot;é¢˜ç›®é“¾æ¥&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;é¢˜ç›®é“¾æ¥&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="OI" scheme="http://yueyangwu.cn/categories/OI/"/>
    
      <category term="é¢˜ç›®" scheme="http://yueyangwu.cn/categories/OI/%E9%A2%98%E7%9B%AE/"/>
    
    
      <category term="ç²¾" scheme="http://yueyangwu.cn/tags/%E7%B2%BE/"/>
    
  </entry>
  
</feed>
